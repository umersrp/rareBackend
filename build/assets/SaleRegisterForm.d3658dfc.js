import{bu as kl,E as Cl,ag as Pl,r as _,bX as Sl,y as jl,z as El,A as Al,bZ as Bl,c as r,F as u,j as l,v as Fl,f as Gl,I as Il,ak as ee,aq as B,m as f,bP as X,ao as J,bQ as le,aC as Ol,L as Ul,bR as zl,B as $l,N as A,Q as Ae}from"./index.a065b7d1.js";import{T as ql}from"./Textarea.c3880e3c.js";const F={option:(G,Z)=>({...G,fontSize:"14px"})},Vl=()=>{var ye,fe,xe,ge,ve,ue,Ne,we,ke,Ce,Pe,Se,je,Ee;const{id:G}=kl(),Z=Cl(),Be=Pl(),[e,a]=_.exports.useState(""),h=t=>{const{name:i,value:n}=t.target;a({...e,[i]:n})},Fe=[{value:"Existing_Property",label:"Existing Property"},{value:"Not_Databasae",label:"New Property"}],Ge=t=>{a({...e,property_type:t.target.value,propertyid:"",unitnumber:"",buildingname:"",projectname:"",communityname:""})};_.exports.useEffect(()=>{(async()=>{if(G){const n=await(await fetch(`http://portals.rarehomesgroup.com/saleregister/${G}`)).json();n&&a(n)}})()},[G]);const[te,Ie]=_.exports.useState([]);_.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/property/api/connectdb").then(t=>t.json()).then(t=>{const i=t==null?void 0:t.map(n=>({label:n.unitnumber+" | "+n.community_name+" | "+n.project_name+" | "+n.building_name,value:n._id}));Ie(i)})},[]),_.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const n=await(await fetch(`http://portals.rarehomesgroup.com/property/${e==null?void 0:e.propertyid}`)).json();n&&a({...e,unitnumber:n==null?void 0:n.unitnumber,buildingname:n==null?void 0:n.building_name,projectname:n==null?void 0:n.project_name,communityname:n==null?void 0:n.community_name,floor:n==null?void 0:n.floor})}})()},[e==null?void 0:e.propertyid]);const[ne,Oe]=_.exports.useState([]);_.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/community").then(t=>t.json()).then(t=>{const i=t==null?void 0:t.map(n=>({label:n.communityname,value:n._id}));Oe(i)})},[]);const[re,Ue]=_.exports.useState([]);_.exports.useEffect(()=>{e!=null&&e.communityid&&(async()=>await fetch(`http://portals.rarehomesgroup.com/projectname/api/community?communityid=${e==null?void 0:e.communityid}`).then(i=>i.json()).then(i=>{const n=i==null?void 0:i.map(x=>({label:x.projectName,value:x._id}));Ue(n)}))()},[e==null?void 0:e.communityid]);const[ie,ze]=_.exports.useState([]);_.exports.useEffect(()=>{e!=null&&e.projectnameid&&(async()=>await fetch(`http://portals.rarehomesgroup.com/buildingname/api/projectname?projectnameid=${e==null?void 0:e.projectnameid}`).then(i=>i.json()).then(i=>{const n=i==null?void 0:i.map(x=>({label:x.buildingname,value:x._id}));ze(n)}))()},[e==null?void 0:e.projectnameid]);const{data:K}=Sl(),[$e,oe]=_.exports.useState(!1);_.exports.useEffect(()=>{if(K&&(e==null?void 0:e.property_type)==="Not_Databasae"){const t=K.some(i=>{const n=i.unitnumber===e.unitnumber,x=i.communityid===e.communityid,v=i.projectnameid===e.projectnameid,O=i._id!==(e==null?void 0:e._id),U=e.buildingid===void 0||i.buildingid===e.buildingid;return n&&x&&v&&O&&U});oe(t)}else(e==null?void 0:e.property_type)==="Existing_Property"&&oe(!1)},[K,e==null?void 0:e.unitnumber,e==null?void 0:e.communityid,e==null?void 0:e.projectnameid,e==null?void 0:e._id,e==null?void 0:e.property_type,e==null?void 0:e.buildingid]);const qe=[{value:"Existing Seller",label:"Existing Seller"},{value:"New Seller",label:"New Seller"}],Le=[{value:"Existing Buyer",label:"Existing Buyer"},{value:"New Buyer",label:"New Buyer"}],[g,Te]=_.exports.useState("");_.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/users/api/customers").then(i=>i.json()).then(i=>{var x;const n=(x=i==null?void 0:i.users)==null?void 0:x.map(v=>({label:v.firstname+" "+v.lastname+" | "+v.email+" | "+v.passportidno+" | "+v.whatsappno,value:v._id}));Te(n)})})()},[]);const[Me,ce]=_.exports.useState(""),[Je,pe]=_.exports.useState(""),[R,ae]=_.exports.useState(""),[Ve,de]=_.exports.useState(""),[He,V]=_.exports.useState(""),[D,H]=_.exports.useState(""),[m,We]=_.exports.useState("");console.log("123",R,Ve,He,D),_.exports.useEffect(()=>{(e==null?void 0:e.seller_id)&&(e==null?void 0:e.seller_type)==="Existing Seller"&&(async()=>{const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${e==null?void 0:e.seller_id}`)).json();n&&(a({...e,seller_name:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),seller_passportnumber:n==null?void 0:n.passportidno,seller_email:n==null?void 0:n.email,seller_nationality:n==null?void 0:n.passportno,seller_mobilenumber:n==null?void 0:n.whatsappno,seller_passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),pe((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))})()},[e==null?void 0:e.seller_id,e==null?void 0:e.seller_type]),_.exports.useEffect(()=>{(e==null?void 0:e.buyer_id)&&(e==null?void 0:e.buyer_type)==="Existing Buyer"&&(async()=>{const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${e==null?void 0:e.buyer_id}`)).json();console.log(n,"res=======>"),n&&(a({...e,buyer_name:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),buyer_passportnumber:n==null?void 0:n.passportidno,buyer_email:n==null?void 0:n.email,buyer_nationality:n==null?void 0:n.passportno,buyer_mobilenumber:n==null?void 0:n.whatsappno,buyer_passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),We({...m,buyer_name:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),buyer_passportnumber:n==null?void 0:n.passportidno,buyer_email:n==null?void 0:n.email,buyer_nationality:n==null?void 0:n.passportno,buyer_mobilenumber:n==null?void 0:n.whatsappno,buyer_passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),ce((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))})()},[e==null?void 0:e.buyer_id,e==null?void 0:e.buyer_type]),console.log("userData1111",m);const Ye=t=>{a({...e,seller_type:t.target.value,seller_name:"",seller_passportnumber:"",seller_email:"",seller_nationality:"",seller_mobilenumber:"",seller_passportpdf:"",seller_id:""}),pe("")},Qe=t=>{a({...e,buyer_type:t.target.value,buyer_name:"",buyer_passportnumber:"",buyer_email:"",buyer_nationality:"",buyer_mobilenumber:"",buyer_passportpdf:"",buyer_id:""}),ce("")},[Xe,Ze]=_.exports.useState(null),Ke=async t=>{Ze(t.target.files[0]);const n=(await zl(t.target.files[0],"Passport")).data.files[0];a({...e,seller_passportpdf:n})},[Re,De]=_.exports.useState(null),el=async t=>{De(t.target.files[0]);const i=selectedbuyer_File_upload.data.files[0];a({...e,buyer_passportpdf:i})},[S,se]=_.exports.useState(null),ll=async t=>{const i=t.target.files[0];if(se(i),i){const n=URL.createObjectURL(i);a({...e,contract_B_attachment:n})}else a({...e,contract_B_attachment:null})},tl=()=>{a({...e,contract_B_attachment:""}),se("")},[j,me]=_.exports.useState(null),nl=async t=>{const i=t.target.files[0];if(me(i),i){const n=URL.createObjectURL(i);a({...e,contract_A_attachment:n})}else a({...e,contract_A_attachment:null})},rl=()=>{a({...e,contract_A_attachment:""}),me("")},[E,_e]=_.exports.useState(null),il=async t=>{const i=t.target.files[0];if(_e(i),i){const n=URL.createObjectURL(i);a({...e,sales_contract_attachment:n})}else a({...e,sales_contract_attachment:null})},ol=()=>{a({...e,sales_contract_attachment:""}),_e("")},cl=t=>{const{checked:i}=t.target;a({...e,trustee_buyer:i})},pl=t=>{const{checked:i}=t.target;a({...e,trustee_seller:i})},al=t=>{const{checked:i}=t.target;a({...e,trustee_both:i})},dl=t=>{const{checked:i}=t.target;a({...e,noccharges_buyer:i})},sl=t=>{const{checked:i}=t.target;a({...e,noccharges_seller:i})},ml=t=>{const{checked:i}=t.target;a({...e,noccharges_both:i})},_l=t=>{const{checked:i}=t.target;a({...e,transfer_buyer:i})},hl=t=>{const{checked:i}=t.target;a({...e,transfer_seller:i})},bl=t=>{const{checked:i}=t.target;a({...e,transfer_both:i})},yl=t=>{const{checked:i}=t.target;a({...e,vat_on_commission:i})},fl=t=>{const{checked:i}=t.target;a({...e,check_option_cash:i,check_option_mortage:!1})},xl=t=>{const{checked:i}=t.target;a({...e,check_option_cash:!1,check_option_mortage:i})},he=[{value:"Successful",label:"Successful"},{value:"InProgress",label:"In Progress"},{value:"Unsuccessful",label:"Unsuccessful"}],[be,Ll]=_.exports.useState(""),gl=jl({propertyid:El().required(be)}).required(),{register:b,formState:{errors:Tl}}=Al({resolver:$l(gl)}),vl=()=>{for(const t in e)if(typeof e[t]=="string"&&(e[t].toLowerCase().endsWith(".pdf")||e[t].toLowerCase().endsWith(".jpg")||e[t].toLowerCase().endsWith(".jpeg")||e[t].toLowerCase().endsWith(".png"))){const i=e[t].split("/").pop();saveAs(`http://portals.rarehomesgroup.com${e[t]}`,i)}},[z,W]=_.exports.useState(!1),ul=localStorage.getItem("isAuth"),y=JSON.parse(ul),[Y]=Bl(),Q=async(t,i)=>{t==="Create"?(await A.post("http://portals.rarehomesgroup.com/saleregister",i),Ae.success("New Sale Register created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{Z("/all-saleregister")},1500)):t==="Update"&&(await A.patch("http://portals.rarehomesgroup.com/saleregister",i),Ae.success("Sale Register Updated successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{Z("/all-saleregister")},1500))},Nl=async()=>{var t,i,n,x,v,O,U,$,q,L,T,M;if(e)if(y!=null&&y._id){let I=e!=null&&e.propertyid?e==null?void 0:e.propertyid:"",N=e!=null&&e.property_new?e==null?void 0:e.property_new:!1,w=e!=null&&e.buyer_id?e==null?void 0:e.buyer_id:"",k=e!=null&&e.buyer_new?e==null?void 0:e.buyer_new:!1,C=e!=null&&e.seller_id?e==null?void 0:e.seller_id:"",P=e!=null&&e.seller_new?e==null?void 0:e.seller_new:!1;if(a({...e,createdBy:y==null?void 0:y._id}),W(!0),(e==null?void 0:e.property_type)==="Not_Databasae"){let o={unitnumber:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"",buildingid:e==null?void 0:e.buildingid,buildingname:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"",communityid:e!=null&&e.communityid?e==null?void 0:e.communityid:"",communityname:e!=null&&e.communityname?e==null?void 0:e.communityname:"",projectnameid:e!=null&&e.projectnameid?e==null?void 0:e.projectnameid:"",projectname:e!=null&&e.projectname?e==null?void 0:e.projectname:"",floor:e!=null&&e.floor?e==null?void 0:e.floor:""};const p=await Y(o);p!=null&&p.data&&(a({...e,propertyid:(t=p==null?void 0:p.data)==null?void 0:t._id,property_new:!0,property_type:"Existing_Property"}),I=(i=p==null?void 0:p.data)==null?void 0:i._id,N=!0)}if((e==null?void 0:e.buyer_type)==="New Buyer"){let o=e==null?void 0:e.buyer_name.split(" "),p={firstname:o[0]?o[0]:"",lastname:o[1]?o[1]:o[0],email:e!=null&&e.buyer_email?e==null?void 0:e.buyer_email:"",whatsappno:e==null?void 0:e.buyer_mobilenumber,passportno:e!=null&&e.buyer_nationality?e==null?void 0:e.buyer_nationality:"",passportidno:e!=null&&e.buyer_passportnumber?e==null?void 0:e.buyer_passportnumber:"",passportpdf:e!=null&&e.buyer_passportpdf?e==null?void 0:e.buyer_passportpdf:"",type:"buyer"};const c=await A.post("http://portals.rarehomesgroup.com/users",p);c!=null&&c.data&&(a({...e,buyer_id:(n=c==null?void 0:c.data)==null?void 0:n._id,buyer_new:!0,buyer_type:"Existing Buyer"}),w=(x=c==null?void 0:c.data)==null?void 0:x._id,k=!0)}if((e==null?void 0:e.seller_type)==="New Seller"){let o=e==null?void 0:e.seller_name.split(" "),p={firstname:o[0]?o[0]:"",lastname:o[1]?o[1]:o[0],email:e!=null&&e.seller_email?e==null?void 0:e.seller_email:"",whatsappno:e==null?void 0:e.seller_mobilenumber,passportno:e!=null&&e.seller_nationality?e==null?void 0:e.seller_nationality:"",passportidno:e!=null&&e.seller_passportnumber?e==null?void 0:e.seller_passportnumber:"",passportpdf:e!=null&&e.seller_passportpdf?e==null?void 0:e.seller_passportpdf:"",type:"seller"};const c=await A.post("http://portals.rarehomesgroup.com/users",p);c!=null&&c.data&&(a({...e,seller_id:(v=c==null?void 0:c.data)==null?void 0:v._id,seller_new:!0,seller_type:"Existing Seller"}),C=(O=c==null?void 0:c.data)==null?void 0:O._id,P=!0)}const d=new FormData;d.append("propertyid",I),d.append("property_new",N),d.append("property_type","Existing_Property"),d.append("buyer_id",w),d.append("buyer_new",k),d.append("buyer_type","Existing Buyer"),d.append("seller_id",C),d.append("seller_new",P),d.append("seller_type","Existing Seller"),d.append("sold_for",e.sold_for||""),d.append("noc_charges",e.noc_charges||""),d.append("noccharges_buyer",e.noccharges_buyer||!1),d.append("noccharges_seller",e.noccharges_seller||!1),d.append("noccharges_both",e.noccharges_both||!1),d.append("notes",e.notes||""),d.append("vat_on_commission",e.vat_on_commission||!1),d.append("commission_amount",e.commission_amount||""),d.append("transaction_type",e.transaction_type||""),d.append("transfer_buyer",e.transfer_buyer||!1),d.append("transfer_seller",e.transfer_seller||!1),d.append("transfer_both",e.transfer_both||!1),d.append("trustee_buyer",e.trustee_buyer||!1),d.append("trustee_seller",e.trustee_seller||!1),d.append("trustee_both",e.trustee_both||!1),d.append("title_deed_fee",e.title_deed_fee||""),d.append("transfer_fee_amount",e.transfer_fee_amount||""),d.append("trustee_fee_amount",e.trustee_fee_amount||""),d.append("buyer_inhouse_agent_name",e.buyer_inhouse_agent_name||""),d.append("buyer_outside_agent_name",e.buyer_outside_agent_name||""),d.append("exoected_transfer_date",e.exoected_transfer_date||""),d.append("check_option_cash",e.check_option_cash||!1),d.append("check_option_mortage",e.check_option_mortage||!1),E&&d.append("sales_contract_attachment",E),j&&d.append("contract_A_attachment",j),S&&d.append("contract_B_attachment",S),d&&Q("Create",d)}else{let I=e!=null&&e.propertyid?e==null?void 0:e.propertyid:"",N=e!=null&&e.property_new?e==null?void 0:e.property_new:!1,w=e!=null&&e.buyer_id?e==null?void 0:e.buyer_id:"",k=e!=null&&e.buyer_new?e==null?void 0:e.buyer_new:!1,C=e!=null&&e.seller_id?e==null?void 0:e.seller_id:"",P=e!=null&&e.seller_new?e==null?void 0:e.seller_new:!1;if(a({...e,createdBy:y==null?void 0:y._id}),W(!0),(e==null?void 0:e.property_type)==="Not_Databasae"){let o={unitnumber:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"",buildingid:e==null?void 0:e.buildingid,buildingname:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"",communityid:e!=null&&e.communityid?e==null?void 0:e.communityid:"",communityname:e!=null&&e.communityname?e==null?void 0:e.communityname:"",projectnameid:e!=null&&e.projectnameid?e==null?void 0:e.projectnameid:"",projectname:e!=null&&e.projectname?e==null?void 0:e.projectname:"",floor:e!=null&&e.floor?e==null?void 0:e.floor:""};const p=await Y(o);p!=null&&p.data&&(a({...e,propertyid:(U=p==null?void 0:p.data)==null?void 0:U._id,property_new:!0,property_type:"Existing_Property"}),I=($=p==null?void 0:p.data)==null?void 0:$._id,N=!0)}if((e==null?void 0:e.buyer_type)==="New Buyer"){let o=e==null?void 0:e.buyer_name.split(" "),p={firstname:o[0]?o[0]:"",lastname:o[1]?o[1]:o[0],email:e!=null&&e.buyer_email?e==null?void 0:e.buyer_email:"",whatsappno:e==null?void 0:e.buyer_mobilenumber,passportno:e!=null&&e.buyer_nationality?e==null?void 0:e.buyer_nationality:"",passportidno:e!=null&&e.buyer_passportnumber?e==null?void 0:e.buyer_passportnumber:"",passportpdf:e!=null&&e.buyer_passportpdf?e==null?void 0:e.buyer_passportpdf:"",type:"buyer"};const c=await A.post("http://portals.rarehomesgroup.com/users",p);c!=null&&c.data&&(a({...e,buyer_id:(q=c==null?void 0:c.data)==null?void 0:q._id,buyer_new:!0,buyer_type:"Existing Buyer"}),w=(L=c==null?void 0:c.data)==null?void 0:L._id,k=!0)}if((e==null?void 0:e.seller_type)==="New Seller"){let o=e==null?void 0:e.seller_name.split(" "),p={firstname:o[0]?o[0]:"",lastname:o[1]?o[1]:o[0],email:e!=null&&e.seller_email?e==null?void 0:e.seller_email:"",whatsappno:e==null?void 0:e.seller_mobilenumber,passportno:e!=null&&e.seller_nationality?e==null?void 0:e.seller_nationality:"",passportidno:e!=null&&e.seller_passportnumber?e==null?void 0:e.seller_passportnumber:"",passportpdf:e!=null&&e.seller_passportpdf?e==null?void 0:e.seller_passportpdf:"",type:"seller"};const c=await A.post("http://portals.rarehomesgroup.com/users",p);c!=null&&c.data&&(a({...e,seller_id:(T=c==null?void 0:c.data)==null?void 0:T._id,seller_new:!0,seller_type:"Existing Seller"}),C=(M=c==null?void 0:c.data)==null?void 0:M._id,P=!0)}let d={...e,propertyid:I,property_new:N,property_type:"Existing_Property",buyer_id:w,buyer_new:k,buyer_type:"Existing Buyer",seller_id:C,seller_new:P,seller_type:"Existing Seller"};console.log("finalData",d,"userData",e),d&&Q("Create",d)}},wl=async t=>{var i,n,x,v,O,U,$,q,L,T,M,I;if(t.preventDefault(),e)if(y!=null&&y._id){let N=e!=null&&e.propertyid?e==null?void 0:e.propertyid:"",w=e!=null&&e.property_new?e==null?void 0:e.property_new:!1,k=e!=null&&e.buyer_id?e==null?void 0:e.buyer_id:"",C=e!=null&&e.buyer_new?e==null?void 0:e.buyer_new:!1,P=e!=null&&e.seller_id._id?e==null?void 0:e.seller_id._id:"",d=e!=null&&e.seller_new?e==null?void 0:e.seller_new:!1;if(console.log("22222ww",e),a({...e,createdBy:y==null?void 0:y._id}),W(!0),(e==null?void 0:e.property_type)==="Not_Databasae"){let p={unitnumber:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"",buildingid:e==null?void 0:e.buildingid,buildingname:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"",communityid:e!=null&&e.communityid?e==null?void 0:e.communityid:"",communityname:e!=null&&e.communityname?e==null?void 0:e.communityname:"",projectnameid:e!=null&&e.projectnameid?e==null?void 0:e.projectnameid:"",projectname:e!=null&&e.projectname?e==null?void 0:e.projectname:"",floor:e!=null&&e.floor?e==null?void 0:e.floor:""};const c=await Y(p);c!=null&&c.data&&(a({...e,propertyid:(i=c==null?void 0:c.data)==null?void 0:i._id,property_new:!0,property_type:"Existing_Property"}),N=(n=c==null?void 0:c.data)==null?void 0:n._id,w=!0)}if((e==null?void 0:e.buyer_type)==="New Buyer"){let p=e==null?void 0:e.buyer_name.split(" "),c={firstname:p[0]?p[0]:"",lastname:p[1]?p[1]:p[0],email:e!=null&&e.buyer_email?e==null?void 0:e.buyer_email:"",whatsappno:e==null?void 0:e.buyer_mobilenumber,passportno:e!=null&&e.buyer_nationality?e==null?void 0:e.buyer_nationality:"",passportidno:e!=null&&e.buyer_passportnumber?e==null?void 0:e.buyer_passportnumber:"",passportpdf:e!=null&&e.buyer_passportpdf?e==null?void 0:e.buyer_passportpdf:"",type:"buyer"};const s=await A.post("http://portals.rarehomesgroup.com/users",c);s!=null&&s.data&&(a({...e,buyer_id:(x=s==null?void 0:s.data)==null?void 0:x._id,buyer_new:!0,buyer_type:"Existing Buyer"}),k=(v=s==null?void 0:s.data)==null?void 0:v._id,C=!0)}if((e==null?void 0:e.seller_type)==="New Seller"){let p=e==null?void 0:e.seller_name.split(" "),c={firstname:p[0]?p[0]:"",lastname:p[1]?p[1]:p[0],email:e!=null&&e.seller_email?e==null?void 0:e.seller_email:"",whatsappno:e==null?void 0:e.seller_mobilenumber,passportno:e!=null&&e.seller_nationality?e==null?void 0:e.seller_nationality:"",passportidno:e!=null&&e.seller_passportnumber?e==null?void 0:e.seller_passportnumber:"",passportpdf:e!=null&&e.seller_passportpdf?e==null?void 0:e.seller_passportpdf:"",type:"seller"};const s=await A.post("http://portals.rarehomesgroup.com/users",c);s!=null&&s.data&&(a({...e,seller_id:(O=s==null?void 0:s.data)==null?void 0:O._id,seller_new:!0,seller_type:"Existing Seller"}),P=(U=s==null?void 0:s.data)==null?void 0:U._id,d=!0)}const o=new FormData;o.append("_id",G),o.append("propertyid",N),o.append("property_new",w),o.append("property_type","Existing_Property"),o.append("buyer_id",k),o.append("buyer_new",C),o.append("buyer_type","Existing Buyer"),o.append("seller_id",P),o.append("seller_new",d),o.append("seller_type","Existing Seller"),o.append("sold_for",e.sold_for||""),o.append("noc_charges",e.noc_charges||""),o.append("noccharges_buyer",e.noccharges_buyer||!1),o.append("noccharges_seller",e.noccharges_seller||!1),o.append("noccharges_both",e.noccharges_both||!1),o.append("notes",e.notes||""),o.append("vat_on_commission",e.vat_on_commission||!1),o.append("commission_amount",e.commission_amount||""),o.append("transaction_type",e.transaction_type||""),o.append("transfer_buyer",e.transfer_buyer||!1),o.append("transfer_seller",e.transfer_seller||!1),o.append("transfer_both",e.transfer_both||!1),o.append("trustee_buyer",e.trustee_buyer||!1),o.append("trustee_seller",e.trustee_seller||!1),o.append("trustee_both",e.trustee_both||!1),o.append("title_deed_fee",e.title_deed_fee||""),o.append("transfer_fee_amount",e.transfer_fee_amount||""),o.append("trustee_fee_amount",e.trustee_fee_amount||""),o.append("buyer_inhouse_agent_name",e.buyer_inhouse_agent_name||""),o.append("buyer_outside_agent_name",e.buyer_outside_agent_name||""),o.append("exoected_transfer_date",e.exoected_transfer_date||""),o.append("check_option_cash",e.check_option_cash||!1),o.append("check_option_mortage",e.check_option_mortage||!1),E&&o.append("sales_contract_attachment",E),j&&o.append("contract_A_attachment",j),S&&o.append("contract_B_attachment",S),o&&Q("Update",o)}else{let N=e!=null&&e.propertyid?e==null?void 0:e.propertyid:"",w=e!=null&&e.property_new?e==null?void 0:e.property_new:!1,k=e!=null&&e.buyer_id?e==null?void 0:e.buyer_id:"",C=e!=null&&e.buyer_new?e==null?void 0:e.buyer_new:!1,P=e!=null&&e.seller_id?e==null?void 0:e.seller_id:"",d=e!=null&&e.seller_new?e==null?void 0:e.seller_new:!1;if(a({...e,createdBy:y==null?void 0:y._id}),W(!0),(e==null?void 0:e.property_type)==="Not_Databasae"){let p={unitnumber:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"",buildingid:e==null?void 0:e.buildingid,buildingname:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"",communityid:e!=null&&e.communityid?e==null?void 0:e.communityid:"",communityname:e!=null&&e.communityname?e==null?void 0:e.communityname:"",projectnameid:e!=null&&e.projectnameid?e==null?void 0:e.projectnameid:"",projectname:e!=null&&e.projectname?e==null?void 0:e.projectname:"",floor:e!=null&&e.floor?e==null?void 0:e.floor:""};const c=await Y(p);c!=null&&c.data&&(a({...e,propertyid:($=c==null?void 0:c.data)==null?void 0:$._id,property_new:!0,property_type:"Existing_Property"}),N=(q=c==null?void 0:c.data)==null?void 0:q._id,w=!0)}if((e==null?void 0:e.buyer_type)==="New Buyer"){let p=e==null?void 0:e.buyer_name.split(" "),c={firstname:p[0]?p[0]:"",lastname:p[1]?p[1]:p[0],email:e!=null&&e.buyer_email?e==null?void 0:e.buyer_email:"",whatsappno:e==null?void 0:e.buyer_mobilenumber,passportno:e!=null&&e.buyer_nationality?e==null?void 0:e.buyer_nationality:"",passportidno:e!=null&&e.buyer_passportnumber?e==null?void 0:e.buyer_passportnumber:"",passportpdf:e!=null&&e.buyer_passportpdf?e==null?void 0:e.buyer_passportpdf:"",type:"buyer"};const s=await A.post("http://portals.rarehomesgroup.com/users",c);s!=null&&s.data&&(a({...e,buyer_id:(L=s==null?void 0:s.data)==null?void 0:L._id,buyer_new:!0,buyer_type:"Existing Buyer"}),k=(T=s==null?void 0:s.data)==null?void 0:T._id,C=!0)}if((e==null?void 0:e.seller_type)==="New Seller"){let p=e==null?void 0:e.seller_name.split(" "),c={firstname:p[0]?p[0]:"",lastname:p[1]?p[1]:p[0],email:e!=null&&e.seller_email?e==null?void 0:e.seller_email:"",whatsappno:e==null?void 0:e.seller_mobilenumber,passportno:e!=null&&e.seller_nationality?e==null?void 0:e.seller_nationality:"",passportidno:e!=null&&e.seller_passportnumber?e==null?void 0:e.seller_passportnumber:"",passportpdf:e!=null&&e.seller_passportpdf?e==null?void 0:e.seller_passportpdf:"",type:"seller"};const s=await A.post("http://portals.rarehomesgroup.com/users",c);s!=null&&s.data&&(a({...e,seller_id:(M=s==null?void 0:s.data)==null?void 0:M._id,seller_new:!0,seller_type:"Existing Seller"}),P=(I=s==null?void 0:s.data)==null?void 0:I._id,d=!0)}let o={...e,propertyid:N,property_new:w,property_type:"Existing_Property",buyer_id:k,buyer_new:C,buyer_type:"Existing Buyer",seller_id:P,seller_new:d,seller_type:"Existing Seller"};o&&Q("Update",o)}};return r(u,{children:[l(Fl,{}),r(Gl,{title:"",children:[r("header",{class:"card-header ",children:[l("div",{className:"flex justify-between items-center",children:l("div",{class:"card-title custom-class",children:"Sale Register Form"})}),G&&(e==null?void 0:e._id)?r("button",{onClick:vl,className:"btn-dark py-[8px] px-[24px] rounded-[5px] flex items-center gap-x-[5px]",children:[l(Il,{icon:"heroicons-outline:arrow-down-tray",className:"w-[20px] h-[20px] mb-[3px]"}),"Download All Files"]}):null]}),l("div",{className:"mt-[20px]",children:r("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[r("div",{className:"w-[100%] col-span-3 flex items-center gap-x-[10px]",children:[l("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"}),l("div",{className:" text-danger-500 block text-sm",children:$e===!0&&(e==null?void 0:e.property_type)==="Not_Databasae"?"Duplicate Property*":null})]}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:Fe.map(t=>l(ee,{label:t.label,name:"property_type",value:t.value,checked:(e==null?void 0:e.property_type)===t.value,onChange:Ge}))})}),l("p",{className:" mt-2 text-danger-500 block text-sm",children:e.property_type?null:R}),(e==null?void 0:e.property_type)==="Existing_Property"?r("div",{className:"w-[100%] col-span-3",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:te,value:te.filter(function(t){return t.value===(e==null?void 0:e.propertyid)}),onChange:t=>{a({...e,propertyid:t==null?void 0:t.value})},styles:F,id:"hh",placeholder:"Select and Search property"}),l("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:be})]}):null,(e==null?void 0:e.property_type)==="Not_Databasae"?l(u,{children:l("div",{className:"w-[100%] col-span-3",children:r("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[l("div",{children:l(f,{name:"unitnumber",label:"Unit number",placeholder:"Enter Unit number",type:"text",register:b,value:e.unitnumber||"",onChange:h})}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ne,value:ne.filter(function(t){return t.value===(e==null?void 0:e.communityid)}),onChange:t=>{a({...e,communityid:t==null?void 0:t.value,communityname:t==null?void 0:t.label})},styles:F,id:"hh"})]}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:re,value:re.filter(function(t){return t.value===(e==null?void 0:e.projectnameid)}),onChange:t=>{a({...e,projectnameid:t==null?void 0:t.value,projectname:t==null?void 0:t.label})},styles:F,id:"hh"})]}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ie,value:ie.filter(function(t){return t.value===(e==null?void 0:e.buildingid)}),onChange:t=>{a({...e,buildingid:t==null?void 0:t.value,buildingname:t==null?void 0:t.label})},styles:F,id:"hh"})]}),l("div",{children:l(f,{name:"floor",label:"Floor Level",placeholder:"Enter Floor Level",type:"text",register:b,value:e.floor||"",onChange:h})})]})})}):null,l(u,{children:(e==null?void 0:e.propertyid)&&(e==null?void 0:e.property_type)==="Existing_Property"?l(u,{children:l("div",{className:"w-[100%] col-span-3",children:r("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Unit number"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:!0,value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Community Name"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:!0,value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Project Name"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:!0,value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Building Name"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:!0,value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Floor Level"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"floor",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:!0,value:e!=null&&e.floor?e==null?void 0:e.floor:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})]})})}):null}),l("p",{className:" mt-2 text-danger-500 block text-sm",children:e.property_type==="Existing_Property"&&!(e!=null&&e.propertyid)?R:null}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"borderBottom"})}),l("div",{className:"w-[100%] col-span-3",children:l("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"CHARGES & PAYMENTS"})}),l("div",{className:"w-[100%] col-span-3",children:r("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[l("div",{children:l(f,{name:"sold_for",label:"Sold For",placeholder:"Enter Sold For",type:"number",register:b,value:e.sold_for||"",onChange:h})}),l("div",{children:l(f,{name:"noc_charges",label:"NOC Charges",placeholder:"Enter NOC Charges",type:"number",register:b,value:e.noc_charges||"",onChange:h})}),l("div",{children:r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"NOC Charges by buyer or seller"}),r("div",{className:"w-[100%] flex items-center gap-x-[45px] gap-y-[5px] justify-start flex-wrap",children:[r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"noccharges_buyer",checked:(e==null?void 0:e.noccharges_buyer)===!0,onChange:dl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"buyer"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"noccharges_seller",id:"",checked:(e==null?void 0:e.noccharges_seller)===!0,onChange:sl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"seller"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"noccharges_both",id:"",checked:(e==null?void 0:e.noccharges_both)===!0,onChange:ml}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"both"})]})]})]})}),l("div",{children:l(f,{name:"trustee_fee_amount",label:"trustee fee amount",placeholder:"Enter trustee fee amount",type:"number",register:b,value:e.trustee_fee_amount||"",onChange:h})}),l("div",{children:r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Trustee fee paid by buyer or seller"}),r("div",{className:"w-[100%] flex items-center gap-x-[45px] gap-y-[5px] justify-start flex-wrap",children:[r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"trustee_buyer",checked:(e==null?void 0:e.trustee_buyer)===!0,onChange:cl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"buyer"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"trustee_seller",id:"",checked:(e==null?void 0:e.trustee_seller)===!0,onChange:pl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"seller"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"trustee_both",id:"",checked:(e==null?void 0:e.trustee_both)===!0,onChange:al}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"both"})]})]})]})}),l("div",{children:l(f,{name:"transfer_fee_amount",label:"transfer fee amount",placeholder:"Enter transfer fee amount",type:"number",register:b,value:e.transfer_fee_amount||"",onChange:h})}),l("div",{children:r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Transfer fee paid by buyer or seller"}),r("div",{className:"w-[100%] flex items-center gap-x-[45px] gap-y-[5px] justify-start flex-wrap",children:[r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"transfer_buyer",checked:(e==null?void 0:e.transfer_buyer)===!0,onChange:_l}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"buyer"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"transfer_seller",id:"",checked:(e==null?void 0:e.transfer_seller)===!0,onChange:hl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"seller"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"transfer_both",id:"",checked:(e==null?void 0:e.transfer_both)===!0,onChange:bl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"both"})]})]})]})}),l("div",{children:l(f,{name:"title_deed_fee",label:"title deed fee",placeholder:"Enter title deed fee",type:"number",register:b,value:e.title_deed_fee||"",onChange:h})}),l("div",{children:l(f,{name:"commission_amount",label:"commission amount",placeholder:"Enter commission amount",type:"number",register:b,value:e.commission_amount||"",onChange:h})}),l("div",{children:r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Vat on commission"}),l("div",{className:"w-[100%] flex items-center gap-x-[45px] gap-y-[5px] justify-start flex-wrap",children:r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"vat_on_commission",checked:(e==null?void 0:e.vat_on_commission)===!0,onChange:yl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"Yes"})]})})]})})]})}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"borderBottom"})}),l("div",{className:"w-[100%] col-span-3",children:l("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"SELLER DETAILS"})}),r("div",{className:"w-[100%] col-span-3",children:[l("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:qe.map(t=>l(ee,{label:t.label,name:"seller",value:t.value,checked:(e==null?void 0:e.seller_type)===t.value,onChange:Ye}))}),l("p",{className:" mt-2 text-danger-500 block text-sm",children:e!=null&&e.seller_type?null:D}),l("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.seller_type)==="Existing Seller"?r(u,{children:[l("div",{className:"w-[100%] col-span-3",children:l("div",{children:g!=null&&g.length?r(u,{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Enter your seller"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:g,value:g==null?void 0:g.filter(function(t){var i;return t.value===(e==null?void 0:e.seller_id)?e==null?void 0:e.seller_id:(i=e==null?void 0:e.seller_id)==null?void 0:i._id}),onChange:t=>{a({...e,seller_id:t==null?void 0:t.value})},styles:F,id:"hh"})]}):null})}),l(u,{children:e!=null&&e.seller_id?r(u,{children:[r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Name"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"seller_name",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:(ye=e==null?void 0:e.seller_id)!=null&&ye._id?((fe=e==null?void 0:e.seller_id)==null?void 0:fe.firstname)+" "+((xe=e==null?void 0:e.seller_id)==null?void 0:xe.lastname):e!=null&&e.seller_id?e==null?void 0:e.seller_name:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Email"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"seller_email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:(ge=e==null?void 0:e.seller_id)!=null&&ge._id?(ve=e==null?void 0:e.seller_id)==null?void 0:ve.email:e!=null&&e.seller_id?e==null?void 0:e.seller_email:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Mobile Number"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"seller_mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:(ue=e==null?void 0:e.seller_id)!=null&&ue._id?(Ne=e==null?void 0:e.seller_id)==null?void 0:Ne.whatsappno:e!=null&&e.seller_id?e==null?void 0:e.seller_mobilenumber:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Passport no"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"seller_passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:(we=e==null?void 0:e.seller_id)!=null&&we.passportidno?(ke=e==null?void 0:e.seller_id)==null?void 0:ke.passportidno:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Nationality"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"seller_nationality",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:(Ce=e==null?void 0:e.seller_id)!=null&&Ce.passportno?(Pe=e==null?void 0:e.seller_id)==null?void 0:Pe.passportno:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"seller Passport PDF/PNG/JPG"}),((Se=e==null?void 0:e.seller_id)==null?void 0:Se.passportpdf)&&Je!==""?l("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${(je=e==null?void 0:e.seller_id)==null?void 0:je.passportpdf}`,children:decodeURIComponent((Ee=e==null?void 0:e.seller_id)==null?void 0:Ee.passportpdf).split("/").pop()})}):l("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:l("p",{children:"Not Available"})})]})]}):null})]}):(e==null?void 0:e.seller_type)==="New Seller"?r(u,{children:[l("div",{children:l(f,{label:"seller Name",type:"text",placeholder:"Type your seller Name",name:"seller_name",value:e.seller_name||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"seller email",type:"text",placeholder:"seller email",name:"seller_email",value:e.seller_email||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"seller Mobile Number",type:"number",placeholder:"Type your seller Mobile Number",name:"seller_mobilenumber",value:e.seller_mobilenumber||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"seller Passport no",type:"text",placeholder:"Type your seller Passport no",name:"seller_passportnumber",value:e.seller_passportnumber||"",register:b,onChange:h})}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"seller Nationality"}),l(B,{className:"react-select",classNamePrefix:"select",name:"seller_nationality",value:X.getAllCountries().filter(function(t){return t.name===(e==null?void 0:e.seller_nationality)}),options:X.getAllCountries(),styles:F,id:"hh",getOptionLabel:t=>t.name,getOptionValue:t=>t.name,onChange:t=>{h({target:{name:"seller_nationality",value:t.name}})}})]}),r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"seller Passport PDF/PNG/JPG"}),l(J,{name:"basic",selectedFile:Xe,onChange:Ke})]})]}):null})]}),l("p",{className:" mt-2 text-danger-500 block text-sm",children:(e==null?void 0:e.seller_type)==="Existing Seller"&&!(e!=null&&e.seller_id)?D:null}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:'contract "A" attachment PDF/PNG/JPG'}),j!==""&&j!==null&&j!=="null"&&j!==void 0&&j!=="undefined"||(e==null?void 0:e.contract_A_attachment)!==""&&(e==null?void 0:e.contract_A_attachment)!==null&&(e==null?void 0:e.contract_A_attachment)!=="null"&&(e==null?void 0:e.contract_A_attachment)!==void 0&&(e==null?void 0:e.contract_A_attachment)!=="undefined"?r("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.contract_A_attachment}`,children:decodeURIComponent(e==null?void 0:e.contract_A_attachment).split("/").pop()}),l("img",{src:le,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:rl})]}):l(J,{name:"basic",selectedFile:j,onChange:nl})]})})}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"borderBottom"})}),l("div",{className:"w-[100%] col-span-3",children:l("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"BUYER DETAILS"})}),r("div",{className:"w-[100%] col-span-3",children:[l("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:Le.map(t=>l(ee,{label:t.label,name:"buyer",value:t.value,checked:(e==null?void 0:e.buyer_type)===t.value,onChange:Qe}))}),l("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.buyer_type)==="Existing Buyer"?r(u,{children:[l("div",{className:"w-[100%] col-span-3",children:l("div",{children:g!=null&&g.length?r(u,{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Buyer"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:g,value:g==null?void 0:g.filter(function(t){return t.value===(e==null?void 0:e.buyer_id)}),onChange:t=>{a({...e,buyer_id:t==null?void 0:t.value})},styles:F,id:"hh"})]}):null})}),l(u,{children:e!=null&&e.buyer_id?r(u,{children:[r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"Buyer Name"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buyer_name",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:m!=null&&m.buyer_name?m==null?void 0:m.buyer_name:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"buyer Email"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buyer_email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:m!=null&&m.buyer_email?m==null?void 0:m.buyer_email:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"buyer Mobile Number"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buyer_mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:m!=null&&m.buyer_mobilenumber?m==null?void 0:m.buyer_mobilenumber:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"buyer Passport no"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buyer_passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:m!=null&&m.buyer_passportnumber?m==null?void 0:m.buyer_passportnumber:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"buyer Nationality"}),r("div",{className:"relative ",children:[l("input",{type:"text",name:"buyer_nationality",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:!0,value:m!=null&&m.buyer_nationality?m==null?void 0:m.buyer_nationality:"Not Available"}),l("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"buyer Passport PDF/PNG/JPG"}),Me!==""?l("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${m==null?void 0:m.buyer_passportPDF}`,children:decodeURIComponent(m==null?void 0:m.buyer_passportPDF).split("/").pop()})}):l("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:l("p",{children:"Not Available"})})]})]}):null})]}):(e==null?void 0:e.buyer_type)==="New Buyer"?r(u,{children:[l("div",{children:l(f,{label:"Buyer Name",type:"text",placeholder:"Type your Buyer Name",name:"buyer_name",value:e.buyer_name||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"buyer email",type:"text",placeholder:"buyer email",name:"buyer_email",value:e.buyer_email||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"buyer Mobile Number",type:"number",placeholder:"Type your buyer Mobile Number",name:"buyer_mobilenumber",value:e.buyer_mobilenumber||"",register:b,onChange:h})}),l("div",{children:l(f,{label:"buyer Passport no",type:"text",placeholder:"Type your buyer Passport no",name:"buyer_passportnumber",value:e.buyer_passportnumber||"",register:b,onChange:h})}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"buyer Nationality"}),l(B,{className:"react-select",classNamePrefix:"select",name:"buyer_nationality",value:X.getAllCountries().filter(function(t){return t.name===(e==null?void 0:e.buyer_nationality)}),options:X.getAllCountries(),styles:F,id:"hh",getOptionLabel:t=>t.name,getOptionValue:t=>t.name,onChange:t=>{h({target:{name:"buyer_nationality",value:t.name}})}})]}),r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"buyer Passport PDF/PNG/JPG"}),l(J,{name:"basic",selectedFile:Re,onChange:el})]})]}):null})]}),l("div",{className:"w-[100%] col-span-3",children:r("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[l("div",{children:l(f,{name:"buyer_inhouse_agent_name",label:"buyer inhouse agent name",placeholder:"Enter buyer inhouse agent name",type:"text",register:b,value:e.buyer_inhouse_agent_name||"",onChange:h})}),l("div",{children:l(f,{name:"buyer_outside_agent_name",label:"buyer outside agent name",placeholder:"Enter buyer outside agent name",type:"text",register:b,value:e.buyer_outside_agent_name||"",onChange:h})}),r("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Transaction type"}),l(B,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:he,value:he.filter(function(t){return t.value===(e==null?void 0:e.transaction_type)}),onChange:t=>{h({target:{name:"transaction_type",value:t.value}})},styles:F,id:"hh"})]}),r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"Expected Transfer\xA0Date"}),l(Ol,{className:"form-control py-2",name:"exoected_transfer_date",value:e.exoected_transfer_date||"",onChange:t=>{h({target:{name:"exoected_transfer_date",value:t[0]}})},id:"default-picker",placeholder:"Select Expected Transfer Date"})]}),r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:'contract "B" attachment PDF/PNG/JPG'}),S!==""&&S!==null&&S!=="null"&&S!==void 0&&S!=="undefined"||(e==null?void 0:e.contract_B_attachment)!==""&&(e==null?void 0:e.contract_B_attachment)!==null&&(e==null?void 0:e.contract_B_attachment)!=="null"&&(e==null?void 0:e.contract_B_attachment)!==void 0&&(e==null?void 0:e.contract_B_attachment)!=="undefined"?r("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.contract_B_attachment}`,children:decodeURIComponent(e==null?void 0:e.contract_B_attachment).split("/").pop()}),l("img",{src:le,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:tl})]}):l(J,{name:"basic",selectedFile:S,onChange:ll})]}),l("div",{children:r("div",{className:"fromGroup       ",children:[l("label",{className:"block capitalize form-label  ",children:"check option"}),r("div",{className:"w-[100%] flex items-center gap-x-[45px] gap-y-[5px] justify-start flex-wrap",children:[r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"check_option_mortage",checked:(e==null?void 0:e.check_option_mortage)===!0,onChange:xl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"mortage"})]}),r("div",{className:"flex items-center gap-x-[10px] w-[13%]",children:[l("input",{type:"checkbox",name:"check_option_cash",id:"",checked:(e==null?void 0:e.check_option_cash)===!0,onChange:fl}),l("p",{className:"mt-[1px] regular text-[20px] leading-[27px] color-black",children:"cash"})]})]})]})})]})}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"borderBottom"})}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:r("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"sales contract"}),E!==""&&E!==null&&E!=="null"&&E!==void 0&&E!=="undefined"||(e==null?void 0:e.sales_contract_attachment)!==""&&(e==null?void 0:e.sales_contract_attachment)!==null&&(e==null?void 0:e.sales_contract_attachment)!=="null"&&(e==null?void 0:e.sales_contract_attachment)!==void 0&&(e==null?void 0:e.sales_contract_attachment)!=="undefined"?r("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.sales_contract_attachment}`,children:decodeURIComponent(e==null?void 0:e.sales_contract_attachment).split("/").pop()}),l("img",{src:le,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:ol})]}):l(J,{name:"basic",selectedFile:E,onChange:il})]})})}),l("div",{className:"w-[100%] col-span-3",children:l("div",{className:"borderBottom"})}),l("div",{className:"lg:col-span-2 col-span-1",children:l(ql,{label:"notes",id:"pn4",placeholder:"notes",value:e.notes||"",name:"notes",onChange:h,register:b})}),r("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[l("div",{className:`"ltr:text-right rtl:text-left " ${z===!0?"cursor-not-allowed	":""}`,children:z===!0?l("div",{className:` ${z===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"}):l(Ul,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-saleregister",children:"Cancel"})}),Be.pathname===`/saleregisterform/${G}`?l("div",{className:"ltr:text-right rtl:text-left",children:l("div",{className:`${z===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn-dark  text-center",type:"button",onClick:t=>{e.property_type?e.property_type==="Existing_Property"&&!(e!=null&&e.propertyid)?(de("Property is required"),V("Seller is required for Property")):e.seller_type?(e==null?void 0:e.seller_type)==="Existing Seller"&&!(e!=null&&e.seller_id)?V("Seller is required for Property"):wl(t):H("Seller is required for Property"):(ae("Property is required"),H("Seller is required for Property"))},children:"Update"})})}):l("div",{className:"ltr:text-right rtl:text-left",children:l("div",{className:`${z===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn-dark  text-center",onClick:()=>{e.property_type?e.property_type==="Existing_Property"&&!(e!=null&&e.propertyid)?(de("Property is required"),V("Seller is required for Property")):e.seller_type?(e==null?void 0:e.seller_type)==="Existing Seller"&&!(e!=null&&e.seller_id)?V("Seller is required for Property"):Nl():H("Seller is required for Property"):(ae("Property is required"),H("Seller is required for Property"))},type:"button",children:"Submit"})})}),z===!0?l("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"})}):null]})]})})]})]})};export{Vl as default};
