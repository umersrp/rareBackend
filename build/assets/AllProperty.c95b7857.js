import{R as ol,j as n,F as C,bL as Bl,r as h,b as me,c as r,C as Tl,L as M,G as ln,I as R,aq as be,bN as Oe,bP as Ul,K as El,T as pl,bW as tn,bX as nn}from"./index.68b11098.js";import{G as sn}from"./GlobalFilter.84a73063.js";import{D as fe}from"./DeleteParagraph.dae3f66e.js";const an=ol.forwardRef(({indeterminate:H,...U},J)=>{const o=ol.useRef(),B=J||o;return ol.useEffect(()=>{B.current.indeterminate=H},[B,H]),n(C,{children:n("input",{type:"checkbox",ref:B,...U,className:"table-checkbox",indeterminate:H?"true":"false"})})}),he={option:(H,U)=>({...H,fontSize:"14px"})},cn=({showModal:H,handleClose:U,loaderModal:J,linkedData:o,handleDeleteData:B,dataId:k,moduleName:p,booking:O,managementcontract:I,tenantcontract:P,rentpurchase:y,unitNumber:Y,dataRole:g})=>n("div",{className:"thumbnail-container",children:H&&n("div",{className:"modal-overlay-property",children:r("div",{className:"modal-new w-[850px]",children:[r("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[n("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Delete this ${p}?`}),n("img",{src:Ul,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:U})]}),J===!0?n(Oe,{}):r(C,{children:[o!=null&&o.length?n("div",{className:"data-list-modal",children:r(C,{children:[r("h4",{className:"text-[16px] mb-[10px]",children:[n("span",{className:"font-bold",children:"Property"})," ",Y," is linked with the following modules:"]}),O!=null&&O.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Booking: "}),(g==null?void 0:g.deletebooking)===!0?n(C,{children:O==null?void 0:O.map((x,S)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-booking/${x==null?void 0:x._id}?delete=true`,children:[x==null?void 0:x.bookingnumber,S!==O.length-1?",":null]},S+1))}):n(fe,{moduleName:p,linkedName:"Booking"})]})})}):null,P!=null&&P.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Tenant Contract: "}),(g==null?void 0:g.deletetenant)===!0?n(C,{children:P==null?void 0:P.map((x,S)=>r(M,{className:" mr-[5px] hover:underline",to:`http://dev-rare.srp.ai/view-tenantcontract/${x==null?void 0:x._id}?delete=true`,children:["TC-"+(x==null?void 0:x._id.slice(0,6)),S!==P.length-1?",":null]},S+1))}):n(fe,{moduleName:p,linkedName:"Tenancy Contract"})]})})}):null,y!=null&&y.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Availability Sheet: "}),(g==null?void 0:g.deleteavailability)===!0?n(C,{children:y==null?void 0:y.map((x,S)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-availability-sheet/${x==null?void 0:x._id}?delete=true`,children:["AS-"+(x==null?void 0:x._id.slice(0,6)),S!==y.length-1?",":null]},S+1))}):n(fe,{moduleName:p,linkedName:"Availability Sheet"})]})})}):null,I!=null&&I.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Management Contract: "}),(g==null?void 0:g.deletemanagement)===!0?n(C,{children:I==null?void 0:I.map((x,S)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-managementcontract/${x==null?void 0:x._id}?delete=true`,children:["MC-"+(x==null?void 0:x._id.slice(0,6)),S!==I.length-1?",":null]},S+1))}):n(fe,{moduleName:p,linkedName:"Management Contract"})]})})}):null]})}):null,r("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[n(C,{}),n(C,{}),(o==null?void 0:o.length)||(y==null?void 0:y.length)||(P==null?void 0:P.length)||(I==null?void 0:I.length)||(O==null?void 0:O.length)?n("p",{className:" mt-[10px]",children:`This ${p} is already linked. Please first delete these entries which are linked it with`}):null,!(o!=null&&o.length)&&!(y!=null&&y.length)&&!(P!=null&&P.length)&&!(I!=null&&I.length)&&!(O!=null&&O.length)?n("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>B(k),children:"Delete"}):null]})]})]})})}),ml=({showModal:H,handleClose:U,loaderModal:J,linkedData:o,DeleteData:B,completeData:k,handleDeleteDatas:p,handleData:O,dataId:I,moduleName:P,tenantcontract:y,rentpurchase:Y,unitNumber:g,dataRole:x})=>(console.log("handleData",k),n("div",{className:"thumbnail-container",children:H&&n("div",{className:"modal-overlay-property",children:r("div",{className:"modal-new w-[850px]",children:[r("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[o!=null&&o.length?k.status==="Pending"?n("h5",{className:"text-[18px] capitalize",children:`The tenancy contract for this ${P} is not currently in record. Kindly make it the first tenancy contract`}):k.status==="Occupied"?n("h5",{className:"text-[18px] capitalize",children:`The tenancy contract for this ${P} is currently active. Kindly terminate the tenancy contract first in order to update the status`}):null:n("h5",{className:"text-[18px] capitalize",children:`Kindly create the active tenancy contract for this ${P} in order to change the status`}),n("img",{src:Ul,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:U})]}),J===!0?n(Oe,{}):r(C,{children:[o&&(o==null?void 0:o.length)?n("div",{className:"data-list-modal",children:r(C,{children:[r("h4",{className:"text-[16px] mb-[10px]",children:[n("span",{className:"font-bold",children:"Property"})," ",g," is linked with the following modules:"]}),console.log("==========check==>",y),y&&(y==null?void 0:y.length)?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center gap-x-[30px]",children:[n("span",{className:"font-semibold mr-[5px]",children:"Tenant Contract: "}),(x==null?void 0:x.deletetenant)===!0?r(C,{children:[y&&(y==null?void 0:y.map((S,W)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-tenantcontract/${S==null?void 0:S._id}?delete=true`,children:["TC-"+(S==null?void 0:S._id.slice(0,6)),W!==y.length-1?",":null]},W+1))),n("div",{className:"flex ",children:n("button",{className:"btn btn  justify-center btn-danger ",onClick:()=>p(B),children:"Terminate"})})]}):n(C,{children:n(fe,{moduleName:P,linkedName:"Tenancy Contract"})})]})})}):null]})}):null,r("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[(o==null?void 0:o.length)||(Y==null?void 0:Y.length)||(y==null?void 0:y.length)?n("p",{className:" mt-[10px]",children:`This ${P} is already linked. Please first delete these entries which are linked it with`}):null,k.status==="Pending"?r(C,{children:[n("button",{className:"btn btn inline-flex justify-center btn-secondary ",onClick:()=>p(B),children:"Next"})," ",n("button",{className:"btn btn inline-flex justify-center btn-primary ",onClick:U,children:"Cancel"})]}):!(o!=null&&o.length)&&O.length&&O.map(S=>S._id==I)?n("button",{className:"btn btn inline-flex justify-center btn-secondary ",onClick:()=>p(B),children:"Re Contract"}):null]})]})]})})})),un=({title:H,linktitle:U,pagelink:J,allData:o,handleDataUpdate:B,managementData:k,forFilterData:p,handleFilterSearch:O,handleClearFilter:I,filterLoader:P})=>{const y=localStorage.getItem("isAuth"),Y=JSON.parse(y),{data:g}=Bl(Y==null?void 0:Y.roleid),[x,S]=h.exports.useState(!1),[W,K]=h.exports.useState(!1),[L,te]=h.exports.useState(!1),[ge,bl]=h.exports.useState(""),[ve,hl]=h.exports.useState(""),[Ll,xe]=h.exports.useState(""),[Wl,ye]=h.exports.useState(""),[fl,ne]=h.exports.useState(""),[Ne,se]=h.exports.useState(""),[Ce,gl]=h.exports.useState(""),[q,Z]=h.exports.useState(""),[s,A]=h.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:""}),[a,vl]=h.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:""});console.log("groupUnits",a,"tenantcontract",fl);const[X,F]=h.exports.useState(""),[ql,xl]=h.exports.useState(""),[z,D]=h.exports.useState(""),[Xl,zl]=h.exports.useState(""),[V,ae]=h.exports.useState(""),[Vl,Gl]=h.exports.useState(""),[G,ee]=h.exports.useState(""),[Yl,Kl]=h.exports.useState([]),ie=e=>{const{name:l,value:t}=e.target;A(c=>({...c,[l]:t})),vl(c=>({...c,[l]:t}))};h.exports.useEffect(()=>(a.unitnumber&&(F(a.unitnumber),D(a.unitnumber),ae(a.unitnumber),ee(a.unitnumber)),a.customerid&&(Z(a.customerid),F(a.customerid),D(a.customerid),ae(a.customerid)),a.communityid&&(Z(a.communityid),D(a.communityid),ae(a.communityid),ee(a.communityid)),a.projectnameid&&(Z(a.projectnameid),F(a.projectnameid),ae(a.projectnameid),ee(a.projectnameid)),a.buildingid&&(Z(a.buildingid),F(a.buildingid),D(a.buildingid),ee(a.buildingid)),()=>{F(""),D(""),ae(""),ee(""),Z("")}),[a]);const w=e=>{const{name:l,value:t}=e.target;a.unitnumber&&(F(a.unitnumber),A({...s,[l]:t}),xl({...s,[l]:t})),a.customerid&&(Z(a.customerid),A({...s,[l]:t}),F(a.customerid)),a.communityid&&(Z(a.communityid),A({...s,[l]:t})),a.projectnameid&&(Z(a.projectnameid),A({...s,[l]:t})),a.buildingid&&(Z(a.buildingid),A({...s,[l]:t}))},_e=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.customerid&&(A({...s,[l]:t}),D(a.customerid)),a.communityid&&(A({...s,[l]:t}),D(a.communityid)),a.buildingid&&A({...s,[l]:t})},ke=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.customerid&&A({...s,[l]:t}),a.communityid&&A({...s,[l]:t}),a.projectnameid&&A({...s,[l]:t})},je=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.communityid&&A({...s,[l]:t}),a.projectnameid&&A({...s,[l]:t}),a.buildingid&&A({...s,[l]:t})};function $(e){var c,d;const l={},t=[];for(const u of e){const b=`${(c=u==null?void 0:u.label)==null?void 0:c.trim()}|${(d=u==null?void 0:u.value)==null?void 0:d.trim()}`;l[b]||(t.push(u),l[b]=!0)}return t}const[Se,Ql]=h.exports.useState(!1),[Ie,yl]=h.exports.useState(!1),[Me,Jl]=h.exports.useState([]),[Be,Zl]=h.exports.useState({}),[Te,Rl]=h.exports.useState(!1),[Ee,dn]=h.exports.useState(o),Fl=async e=>{if(S(!0),K(!0),e)try{const l=`http://dev-rare.srp.ai/booking/api/allbooking/forproperty?propertyid=${e==null?void 0:e._id}`,t=`http://dev-rare.srp.ai/managementcontract/api/propertydelete?propertyid=${e==null?void 0:e._id}`,c=`http://dev-rare.srp.ai/tenantcontract/api/propertydelete?propertyid=${e==null?void 0:e._id}`,d=`http://dev-rare.srp.ai/rentpurchase/api/propertydelete?porpertyid=${e==null?void 0:e._id}`,u=await fetch(l);if(!u.ok&&u.status!==400)throw new Error(`API 1 failed with status: ${u.status}`);const b=u.status===400?[]:await u.json(),f=await fetch(t);if(!f.ok&&f.status!==400)throw new Error(`API 2 failed with status: ${f.status}`);const m=f.status===400?[]:await f.json(),N=await fetch(c);if(!N.ok&&N.status!==400)throw new Error(`API 2 failed with status: ${N.status}`);const _=N.status===400?[]:await N.json();console.log("+++++++++++++>",_);const T=await fetch(d);if(!T.ok&&T.status!==400)throw new Error(`API 2 failed with status: ${T.status}`);const E=T.status===400?[]:await T.json(),Q=[...b,...m,..._,...E];b!=null&&b.length?xe(b):xe(""),m!=null&&m.length?ye(m):ye(""),_!=null&&_.length?ne(_):ne(""),E!=null&&E.length?se(E):se(""),bl(Q),hl(e==null?void 0:e._id),gl(e==null?void 0:e.unitnumber),K(!1)}catch(l){console.error("Error fetching data:",l),K(!1)}},Ue=async e=>{var l;if(yl(!0),te(!0),e)try{const t=`http://dev-rare.srp.ai/property/activecontract/${e==null?void 0:e._id}`,c=await fetch(t);if(!c.ok&&c.status!==400)throw new Error(`API 1 failed with status: ${c.status}`);const d=c.status===400?[]:await c.json();(l=d.data)!=null&&l.length&&(Jl(d==null?void 0:d.data),Rl(!0)),bl(d.data),hl(e==null?void 0:e._id),Kl(e),gl(e==null?void 0:e.unitnumber),te(!1)}catch(t){console.error("Error fetching data:",t),te(!1)}},Ae=()=>{S(!1),yl(!1),xe(""),ye(""),ne(""),se("")},le=async(e,l,t)=>{const c=Ee==null?void 0:Ee.map(u=>{const{_id:b,status:f}=u;return{_id:b,status:f}}),d=c==null?void 0:c.filter(u=>u._id==Yl._id).pop();try{Zl(d);const u=await El.put(`http://dev-rare.srp.ai/property/api/status/${d==null?void 0:d._id}?status=${d==null?void 0:d.status}`);console.log("wwwww",u),u.data.status===!0&&(B(),ne(""),se(""))}catch(u){console.log(u,"error")}},Dl=async e=>{try{await El.patch("http://dev-rare.srp.ai/property/api/availability",{_id:e,softdelete:!0}),B(),xe(""),ye(""),ne(""),se("")}catch(l){console.log(l,"error")}},wl=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:l})=>n("span",{children:l.indexOf(e)+1})},{Header:"Status",accessor:"status",Cell:e=>{const{original:l}=e==null?void 0:e.row,{status:t}=l;return n("span",{className:"block w-full",children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${t==="Occupied"?"text-green-500 bg-green-500":t==="Vacant"?"text-blue-500 bg-blue-500":t==="Contract_Pending"?"text-purple-500 bg-purple-500":t==="Contract_Occupied_Pending"?"text-yellow-500 bg-yellow-500":"text-red-500 bg-red-500"}`,children:t||"Not Available"})})}},{Header:"PropertyType",accessor:"statuss",Cell:e=>{const{original:l}=e==null?void 0:e.row,{propertyType:t}=l;return n("span",{className:"block w-full",children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${t==="Short-term"?"text-green-500 bg-green-500":"text-red-500 bg-red-500"}`,children:t||"Not Available"})})}},{Header:"Listed for",accessor:"propertystatus",Cell:e=>{var t,c,d,u,b,f,m,N,_,T,E,Q,ce,ue,de,re,oe,pe,i;let l;return((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="Multiple"?l=(d=e==null?void 0:e.cell)==null?void 0:d.value:l="Not Available",n(C,{children:((m=(f=(b=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:b.original)==null?void 0:f.multivaluation)==null?void 0:m.length)&&((T=(_=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:_.original)==null?void 0:T.multi_propertyvaluation)&&((E=e==null?void 0:e.cell)==null?void 0:E.value)==="Multiple"?n(C,{children:(de=(ue=(ce=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:ce.original)==null?void 0:ue.multivaluation)==null?void 0:de.map((j,rl)=>n("span",{className:`block w-full ${rl!==0?"mt-[10px]":""} cursor-pointer`,children:n("span",{onClick:()=>{var Pl,Hl,Ol,Il,Ml;return handleMultiPropertyStatus(j==null?void 0:j.propertystatus,(Hl=(Pl=e==null?void 0:e.cell)==null?void 0:Pl.row)==null?void 0:Hl.original,(Ml=(Il=(Ol=e==null?void 0:e.cell)==null?void 0:Ol.row)==null?void 0:Il.original)==null?void 0:Ml._id,rl,j==null?void 0:j.un_listed)},className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 
                                                        ${(j==null?void 0:j.propertystatus)==="Not Available"&&(j==null?void 0:j.un_listed)===!1?"text-danger-500 bg-danger-500":"text-success-500 bg-success-500"} `,children:"Listed for"+(j==null?void 0:j.propertystatus)})},rl+1))}):n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((re=e==null?void 0:e.cell)==null?void 0:re.value)&&((i=(pe=(oe=e==null?void 0:e.cell)==null?void 0:oe.row)==null?void 0:pe.original)==null?void 0:i.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:l!=="Not Available"?"Listed for "+l:l})})})}},{Header:"listed / unlisted",accessor:"un_listed",Cell:e=>{var l,t,c,d,u,b,f,m,N,_,T,E,Q,ce,ue,de,re,oe,pe;return n(C,{children:((d=(c=(t=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:d.length)&&((f=(b=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:b.original)==null?void 0:f.propertystatus)==="Multiple"?n(C,{children:(T=(_=(N=(m=e==null?void 0:e.cell)==null?void 0:m.row)==null?void 0:N.original)==null?void 0:_.multivaluation)==null?void 0:T.map((i,j)=>n(C,{children:(i==null?void 0:i.propertystatus)==="Rent"?r(C,{children:[(i==null?void 0:i.contract_enddate)&&new Date(i==null?void 0:i.contract_enddate)>new Date&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"bg-info-500 text-info-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"upcoming"})},j+1):null,(i==null?void 0:i.contract_enddate)&&new Date(i==null?void 0:i.contract_enddate)<=new Date&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},j+1):null,((i==null?void 0:i.contract_enddate)===""||!(i!=null&&i.contract_enddate))&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},j+1):null,(new Date(i==null?void 0:i.contract_enddate)<=new Date||new Date(i==null?void 0:i.contract_enddate)>new Date||(i==null?void 0:i.contract_enddate)===""||!(i!=null&&i.contract_enddate))&&(i==null?void 0:i.un_listed)===!0?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"unlisted"})},j+1):null]}):n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:(i==null?void 0:i.un_listed)===!0?"unlisted":"listed"})},j+1)}))}):n("span",{className:"block w-full",children:(ce=(Q=(E=e==null?void 0:e.cell)==null?void 0:E.row)==null?void 0:Q.original)!=null&&ce.propertystatus?n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((ue=e==null?void 0:e.cell)==null?void 0:ue.value)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                         ${((re=(de=e==null?void 0:e.cell)==null?void 0:de.row)==null?void 0:re.original.unlisted)===!0?"text-danger-500 bg-danger-500":"text-success-500 bg-success-500"}`,children:((pe=(oe=e==null?void 0:e.cell)==null?void 0:oe.row)==null?void 0:pe.original.unlisted)===!0?"Unlisted":"listed"}):n("span",{className:"inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500",children:"No"})})})}},{Header:"Unit Number",accessor:"unitnumber",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var l,t;return n("div",{children:n("span",{className:"inline-flex items-center",children:n("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})})})}},{Header:"Owner Representative",accessor:"owner_representative_name",Cell:e=>{var l,t;return n("div",{children:n("span",{className:"inline-flex items-center",children:n("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})})})}},{Header:"Project Name",accessor:"project_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"building name",accessor:"building_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"community name",accessor:"community_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"sub type name",accessor:"subtype_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"usage",accessor:"usage",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"plot size",accessor:"plotsize",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"build up area",accessor:"builduparea",Cell:e=>{var l,t,c,d,u,b,f,m,N;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?((t=e==null?void 0:e.cell)==null?void 0:t.value)+" "+(((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((b=(u=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:u.original)==null?void 0:b.measure_units)?(N=(m=(f=e==null?void 0:e.cell)==null?void 0:f.row)==null?void 0:m.original)==null?void 0:N.measure_units:""):"Not Available"})}},{Header:"owner association",accessor:"ownerassociation",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no bathroom",accessor:"nobathroom",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"half bathroom",accessor:"halfbathroom",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"furnished",accessor:"furnished",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"kitchen",accessor:"kitchen",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no parking",accessor:"noparking",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"balcony",accessor:"balcony",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"dewa premises",accessor:"dewapremises",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"district",accessor:"district",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"parking bay",accessor:"parkingbay",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"property view",accessor:"propertyview",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"purchase date",accessor:"purchasedate",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"Total no of OWNER NAME DEED",accessor:"no_ownernamedeed",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"purchase value",accessor:"purchasevaue",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((t=e==null?void 0:e.cell)==null?void 0:t.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})}},{Header:"Title Deed Document",accessor:"titledeeddocument",Cell:e=>{var l,t,c,d,u,b,f,m,N,_,T,E,Q;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==void 0&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==null&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!=="undefined"&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="null"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((f=e==null?void 0:e.cell)==null?void 0:f.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)!==""&&((N=e==null?void 0:e.cell)==null?void 0:N.value)!==void 0&&((_=e==null?void 0:e.cell)==null?void 0:_.value)!==null&&((T=e==null?void 0:e.cell)==null?void 0:T.value)!=="undefined"&&((E=e==null?void 0:e.cell)==null?void 0:E.value)!=="null"?n("a",{className:"flex gap-x-[5px] items-center",href:(Q=e==null?void 0:e.cell)==null?void 0:Q.value,target:"_blank",children:"veiw documents"}):"Not Available"})})}},{Header:"Youtube Video",accessor:"youtubelink",Cell:e=>{var l,t,c,d,u;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?r("a",{className:"flex gap-x-[5px] items-center",href:(u=e==null?void 0:e.cell)==null?void 0:u.value,target:"_blank",children:[n(R,{icon:"heroicons-outline:eye"}),"View Video"]}):"Not Available"})})}},{Header:"Google location",accessor:"propertylocation",Cell:e=>{var l,t,c,d,u;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?r("a",{className:"flex gap-x-[5px] items-center",href:(u=e==null?void 0:e.cell)==null?void 0:u.value,target:"_blank",children:[n(R,{icon:"heroicons-outline:eye"}),"View Location"]}):"Not Available"})})}},{Header:"total bathroom",accessor:"totalbathroom",Cell:e=>{var l,t,c,d,u,b,f;return n(C,{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?n("span",{children:((d=e==null?void 0:e.cell)==null?void 0:d.value)&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!==void 0&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"?(f=e==null?void 0:e.cell)==null?void 0:f.value:"Not Available"}):n("span",{className:"block w-full",children:n("span",{className:" inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500 ",children:"Missing"})})})}},{Header:"total bedroom",accessor:"totalbedroom",Cell:e=>{var l,t,c,d,u,b,f;return n(C,{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?n("span",{children:((d=e==null?void 0:e.cell)==null?void 0:d.value)&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!==void 0&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"?(f=e==null?void 0:e.cell)==null?void 0:f.value:"Not Available"}):n("span",{className:"block w-full",children:n("span",{className:" inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500 ",children:"Missing"})})})}},{Header:"street number",accessor:"streetnumber",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"maid room",accessor:"maidroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"store room",accessor:"storeroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"bed room en suite",accessor:"bedroomensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"bath room en suite",accessor:"bathroomensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"driver room",accessor:"driverroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"other room",accessor:"otherroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"en suite",accessor:"ensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"property images",accessor:"propertyimages",Cell:e=>{var l,t,c,d,u,b,f,m,N,_;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((f=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:f.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value[0])===""?"0":(_=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:_.length})})}},{Header:"floor plan images",accessor:"floorplan",Cell:e=>{var l,t,c,d,u,b,f,m,N,_;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((f=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:f.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value[0])===""?"0":(_=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:_.length})})}},{Header:"unit plan attachment",accessor:"unitplanattachment",Cell:e=>{var l,t,c,d,u,b,f,m,N,_;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((f=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:f.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value[0])===""?"0":(_=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:_.length})})}},{Header:"plot plan attachment",accessor:"plotplanattachment",Cell:e=>{var l,t,c,d,u,b,f,m,N,_;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((f=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:f.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value[0])===""?"0":(_=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:_.length})})}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var l,t;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var l,t;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{const l=localStorage.getItem("isAuth"),t=JSON.parse(l),{data:c}=Bl(t==null?void 0:t.roleid);if(!c)return null;const d=(c==null?void 0:c.readpropert)===!0,u=(c==null?void 0:c.updatepropert)===!0,b=(c==null?void 0:c.deletepropert)===!0;return r("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[d&&n(pl,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:n(M,{className:"action-btn",to:`/view-property/${e==null?void 0:e.cell.value}`,type:"button",children:n(R,{icon:"heroicons:eye"})})}),u&&n(pl,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:n(M,{to:`/update-property/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:n(R,{icon:"heroicons:pencil-square"})})}),b&&n(pl,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:n("button",{className:"action-btn",type:"button",onClick:()=>{var f,m;return Fl((m=(f=e==null?void 0:e.cell)==null?void 0:f.row)==null?void 0:m.original)},children:n(R,{icon:"heroicons:trash"})})})]})}}],et=h.exports.useMemo(()=>wl,[]),lt=h.exports.useMemo(()=>o),[v,Nl]=h.exports.useState(""),[Cl,Le]=h.exports.useState(!1),[rn,_l]=h.exports.useState(!1),[kl,jl]=h.exports.useState(!1),[Sl,tt]=h.exports.useState();h.exports.useEffect(()=>{var l,t;let e=0;for(let c=0;c<(o==null?void 0:o.length);c++){let d=parseFloat((l=o[c])!=null&&l.purchasevaue?(t=o[c])==null?void 0:t.purchasevaue:0);e+=d}tt(e)},[o==null?void 0:o.length]);const nt={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},st={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},at={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#5743BE"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},it=[{name:nt,title:"Managed Properties",count:k!=null&&k.length?k==null?void 0:k.length:0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:st,title:"Non-Managed Properties",count:(k==null?void 0:k.length)&&(o==null?void 0:o.length)?Math.abs((k==null?void 0:k.length)-(o==null?void 0:o.length)):0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"},{name:at,title:"Total Properties Purchase Valuation",count:Sl?Sl.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#EAE5FF] dark:bg-slate-900	"}];h.exports.useEffect(()=>{Le(!1),Nl(""),_l(!1)},[o]);const ct=me.exports.useTable({columns:et,data:lt,initialState:{pageIndex:0,pageSize:50}},me.exports.useGlobalFilter,me.exports.useSortBy,me.exports.usePagination,me.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:t})=>n("div",{children:n(an,{...t()})}),Cell:({row:t})=>{var f;const[c,d]=h.exports.useState(""),u=m=>{console.log("&&&&&&&&&&&&&&&",m),m!=null&&m._id?Le(!0):Le(!1),d(N=>N===m?"":m),Nl(N=>N===m?"":m),(m==null?void 0:m.available_id)&&(m==null?void 0:m.available_id)!=="000000000000000000000000"?jl(!0):jl(!1)},b=((f=t==null?void 0:t.original)==null?void 0:f._id)===(c==null?void 0:c._id);return h.exports.useEffect(()=>{_l(b)},[b]),n("div",{children:n("input",{type:"checkbox",...t.getToggleRowSelectedProps(),checked:b,onChange:()=>u(t.original),className:"table-checkbox"})})}},...l])}),{getTableProps:ut,getTableBodyProps:dt,headerGroups:rt,footerGroups:on,page:ot,nextPage:pt,previousPage:mt,canNextPage:$e,canPreviousPage:Pe,pageOptions:Al,state:bt,gotoPage:We,pageCount:ht,setPageSize:ft,setGlobalFilter:gt,prepareRow:vt}=ct,{globalFilter:xt,pageIndex:$l,pageSize:yt}=bt,qe=[...new Set(p.map(e=>e.unitnumber))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Nt=p.filter(e=>e.community_name!==void 0),Ct=[...new Set(Nt.map(e=>e.communityid))],_t=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),kt=p.filter(e=>e.communityid===ql.communityid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),jt=p.filter(e=>e.projectnameid===Xl.projectnameid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),St=p.filter(e=>e.buildingid===Vl.buildingid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}});$(_t).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(kt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(jt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(St).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const At=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Xe=$(At).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$t=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),ze=$($t).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Pt=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Ve=$(Pt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ht=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Ge=$(Ht).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ot=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),He=$(Ot).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),It=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),Ye=$(It).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Mt=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Ke=$(Mt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Bt=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Qe=$(Bt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Tt=p.filter(e=>e.communityid===a.communityid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Et=p.filter(e=>e.communityid===a.communityid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Ut=p.filter(e=>e.communityid===a.communityid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Lt=p.filter(e=>e.communityid===a.communityid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Je=$(Tt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ze=$(Et).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Re=$(Ut).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fe=$(Lt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Wt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),qt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Xt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),zt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Vt=$(Wt),Gt=$(qt),Yt=$(Xt),Kt=$(zt),De=Vt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=Gt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=Yt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ll=Kt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Jt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),Zt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Rt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),tl=$(Qt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),nl=$(Jt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),sl=$(Zt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),al=$(Rt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),il=[...Ct.map(e=>{const l=p.find(t=>t.communityid===e);return l?{label:l.community_name,value:l.communityid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ft=p.filter(e=>e.project_name!==void 0),cl=[...[...new Set(Ft.map(e=>e.projectnameid))].map(e=>{const l=p.find(t=>t.projectnameid===e);return l?{label:l.project_name,value:l.projectnameid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Dt=p.filter(e=>e.building_name!==void 0),ul=[...[...new Set(Dt.map(e=>e.buildingid))].map(e=>{const l=p.find(t=>t.buildingid===e);return l?{label:l.building_name,value:l.buildingid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),wt=p.filter(e=>e.owner_name!==void 0),dl=[...[...new Set(wt.map(e=>e.customerid))].map(e=>{const l=p.find(t=>t.customerid===e);return l?{label:l.owner_name,value:l.customerid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),en=()=>{I(),F(""),vl(""),xl(""),D(""),zl(""),A(""),ee(""),Gl("")};return n(C,{children:r(Tl,{children:[r("div",{className:"flex justify-between items-center mb-6",children:[n("h4",{className:"card-title",children:H}),(g==null?void 0:g.createpropert)===!0?n(M,{to:J,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:U}):null]}),n("div",{className:"grid grid-cols-12 gap-5 mb-5",children:n("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:n(Tl,{bodyClass:"p-4",children:n("div",{className:"grid md:grid-cols-3 col-span-1 gap-4",children:n(ln,{statistics:it})})})})}),r("div",{className:"flex justify-between",children:[r("div",{className:"md:flex justify-start items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[console.log("lklk",v),(g==null?void 0:g.deletepropert)===!0?n(C,{children:v.status==="Occupied"?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:e=>{Te===!0?le():Ue(v)},children:"For Vacant"}),n(ml,{showModal:Ie,handleData:o,DeleteData:Be,completeData:v,handleClose:Ae,unitNumber:Ce,loaderModal:L,linkedData:ge,handleDeleteDatas:le,dataId:ve,moduleName:"Property",tenantcontract:Me,rentpurchase:Ne,dataRole:g})]}):v.status==="Vacant"?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:()=>{Te===!0?le():Ue(v)},children:"For Occupied"}),n(ml,{showModal:Ie,handleData:o,DeleteData:Be,completeData:v,handleClose:Ae,unitNumber:Ce,loaderModal:L,linkedData:ge,handleDeleteDatas:le,dataId:ve,moduleName:"Property",tenantcontract:Me,rentpurchase:Ne,dataRole:g})]}):v.status==="Pending"?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:()=>{Te===!0?le():Ue(v)},children:"For Occupied"}),n(ml,{showModal:Ie,handleData:o,DeleteData:Be,completeData:v,handleClose:Ae,unitNumber:Ce,loaderModal:L,linkedData:ge,handleDeleteDatas:le,dataId:ve,moduleName:"Property",tenantcontract:Me,rentpurchase:Ne,dataRole:g})]}):null}):null]}),r("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[(g==null?void 0:g.createavailability)===!0&&(g==null?void 0:g.updateavailability)===!0?r(C,{children:[v&&((v==null?void 0:v.unlisted)!==!0||(v==null?void 0:v.unlisted)===!1)&&Cl===!0&&kl===!1?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Rent`,children:"For Rent"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Sale`,children:"For Sale"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Short Term`,children:"Short Term"})]}):null,v&&(v==null?void 0:v.unlisted)===!0&&Cl===!0&&kl===!0?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Rent`,children:"For Rent"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Sale`,children:"For Sale"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${v==null?void 0:v._id}&valuation=Short Term`,children:"Short Term"})]}):null]}):null,r("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>Ql(!Se),children:[Se===!0?n(R,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):n(R,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),n("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),n(sn,{filter:xt,setFilter:gt})]})]}),r("div",{className:`xl:grid-cols-5 grid gap-5 grid-cols-1 ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove pointer-events-none -mt-4"}`,children:[r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."}),console.log("sortedunitsbybuilding",He),n(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:q?a.communityid&&q?Je:a.projectnameid&&q?Xe:a.buildingid&&q?He:tl:qe,value:q?a.communityid&&q?Je&&Je.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):a.projectnameid&&q?Xe&&Xe.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):a.buildingid&&q?He&&He.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):tl&&tl.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):qe&&qe.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}),onChange:e=>{q?a.communityid&&q?w({target:{name:"unitnumber",value:e.value}}):a.projectnameid&&q?w({target:{name:"unitnumber",value:e.value}}):a.buildingid&&q?w({target:{name:"unitnumber",value:e.value}}):w({target:{name:"unitnumber",value:e.value}}):ie({target:{name:"unitnumber",value:e.value}})},styles:he,id:"hh",placeholder:"Select..."}),s!=null&&s.unitnumber?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,unitnumber:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),n(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:X?a.customerid&&X?nl:a.projectnameid&&X?ze:a.buildingid&&X?Ye:De:il,value:X?a.customerid&&X?nl&&nl.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):a.projectnameid&&X?ze&&ze.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):a.buildingid&&X?Ye&&Ye.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):De&&De.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):il&&il.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}),onChange:e=>{X?w({target:{name:"communityid",value:e.value}}):a.customerid&&X?w({target:{name:"communityid",value:e.value}}):a.projectnameid&&X?w({target:{name:"communityid",value:e.value}}):a.buildingid&&X?w({target:{name:"communityid",value:e.value}}):ie({target:{name:"communityid",value:e.value}})},styles:he,id:"hh",placeholder:"Select..."}),s!=null&&s.communityid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,communityid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),n(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:z?a.customerid&&z?sl:a.communityid&&z?Ze:a.buildingid&&z?Ke:we:cl,value:z?a.customerid&&z?sl&&sl.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):a.communityid&&z?Ze&&Ze.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):a.buildingid&&z?Ke&&Ke.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):we&&we.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):cl&&cl.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}),onChange:e=>{z?a.customerid&&z?_e({target:{name:"projectnameid",value:e.value}}):a.communityid&&z?_e({target:{name:"projectnameid",value:e.value}}):a.buildingid&&z?_e({target:{name:"projectnameid",value:e.value}}):_e({target:{name:"projectnameid",value:e.value}}):ie({target:{name:"projectnameid",value:e.value}})},styles:he,id:"hh",placeholder:"Select..."}),s!=null&&s.projectnameid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,projectnameid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),n(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:V?a.customerid&&V?al:a.communityid&&V?Re:a.projectnameid&&V?Ve:el:ul,value:V?a.customerid&&V?al&&al.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):a.communityid&&V?Re&&Re.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):a.projectnameid&&V?Ve&&Ve.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):el&&el.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):ul&&ul.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}),onChange:e=>{V?a.customerid&&V?ke({target:{name:"buildingid",value:e.value}}):a.communityid&&V?ke({target:{name:"buildingid",value:e.value}}):a.projectnameid&&V?ke({target:{name:"buildingid",value:e.value}}):ke({target:{name:"buildingid",value:e.value}}):ie({target:{name:"buildingid",value:e.value}})},styles:he,id:"hh",placeholder:"Select..."}),s!=null&&s.buildingid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,buildingid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"}),n(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:G?a.communityid&&G?Fe:a.projectnameid&&G?Ge:a.buildingid&&G?Qe:ll:dl,value:G?a.communityid&&G?Fe&&Fe.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):a.projectnameid&&G?Ge&&Ge.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):a.buildingid&&G?Qe&&Qe.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):ll&&ll.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):dl&&dl.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}),onChange:e=>{G?a.communityid&&G?je({target:{name:"customerid",value:e.value}}):a.projectnameid&&G?je({target:{name:"customerid",value:e.value}}):a.buildingid&&G?je({target:{name:"customerid",value:e.value}}):je({target:{name:"customerid",value:e.value}}):ie({target:{name:"customerid",value:e.value}})},styles:he,id:"hh",placeholder:"Select..."}),s!=null&&s.customerid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,customerid:""}),children:"Clear filter"}):null]})]}),r("div",{className:`flex ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove pointer-events-none mt-0"} justify-end gap-x-[10px]`,children:[n("button",{className:"btn btn-secondary  text-center",type:"button",onClick:en,children:"Clear filter"}),n("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>O(s),children:"Search"})]}),n(cn,{showModal:x,handleClose:Ae,unitNumber:Ce,loaderModal:W,linkedData:ge,handleDeleteData:Dl,dataId:ve,moduleName:"Property",booking:Ll,managementcontract:Wl,tenantcontract:fl,rentpurchase:Ne,dataRole:g}),n("div",{className:"overflow-x-auto -mx-6 mt-6",children:n("div",{className:"inline-block min-w-full align-middle",children:n("div",{className:"",children:r("table",{className:"min-w-[140%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...ut,children:[n("thead",{className:"bg-slate-200 dark:bg-slate-700",children:rt.map(e=>n("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((g==null?void 0:g.readpropert)===!0||(g==null?void 0:g.updatepropert)===!0||(g==null?void 0:g.deletepropert)===!0)?n("th",{}):r("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),n("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),P===!0?n("div",{className:"pl-[10px]",children:n(Oe,{})}):n("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...dt,children:ot.map(e=>(vt(e),n("tr",{...e.getRowProps(),children:e.cells.map(l=>n("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")}))})))})]})})})}),r("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[r("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[n("select",{className:"form-control py-2 w-max",value:yt,onChange:e=>ft(Number(e.target.value)),children:[50,100,200].map(e=>r("option",{value:e,children:["Show ",e]},e))}),r("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",r("span",{children:[$l+1," of ",Al.length]})]})]}),r("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[n("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${Pe?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>We(0),disabled:!Pe,children:n(R,{icon:"heroicons:chevron-double-left-solid"})})}),n("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${Pe?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>mt(),disabled:!Pe,children:"Prev"})}),Al.map((e,l)=>n("li",{children:n("button",{href:"#","aria-current":"page",className:` ${l===$l?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>We(l),children:e+1})},l)),n("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>pt(),disabled:!$e,children:"Next"})}),n("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{onClick:()=>We(ht-1),disabled:!$e,className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,children:n(R,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})})},An=()=>{const{data:H,isSuccess:U}=tn(),[J,o]=h.exports.useState(!1),[B,k]=h.exports.useState(""),[p,O]=h.exports.useState(""),{data:I}=nn(),[P,y]=h.exports.useState(!1);h.exports.useEffect(()=>{o(!0),U&&H&&(k(H),O(H),o(!1))},[U,H]);const Y=async()=>{o(!0);const K=await(await fetch("http://dev-rare.srp.ai/property/api/connectdb")).json();k(K),o(!1)};function g(W){let K="http://dev-rare.srp.ai/property/api/advancesearch?";for(const L in W)W[L]&&(K+=`${L}=${W[L]}&`);return K.slice(0,-1)}const x=async W=>{if(W){y(!0);try{const K=g(W),L=await fetch(K);if(!L.ok&&L.status!==400)throw new Error(`API 1 failed with status: ${L.status}`);const te=L.status===400?[]:await L.json();k(te),y(!1)}catch{k(H),y(!1)}}else k(H)},S=()=>{k(H)};return r(C,{children:[n(C,{}),J===!1&&U&&H&&(p==null?void 0:p.length)?n("div",{className:" space-y-5",children:n(un,{pagelink:"/add-property",linktitle:"Add new Property",title:"All Property",allData:B,filterLoader:P,handleDataUpdate:Y,handleFilterSearch:x,handleClearFilter:S,forFilterData:p,managementData:I})}):n(Oe,{})]})};export{An as default};
