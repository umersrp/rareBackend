import{bu as k,A as N,ag as j,r as d,w as O,x as q,y as w,c as o,F,j as t,t as S,C as $,l as h,z as E,K as g,Q as f}from"./index.1adaee61.js";const T=()=>{const{id:l}=k(),i=N(),c=j(),[e,p]=d.exports.useState(""),u=s=>{const{name:r,value:a}=s.target;p({...e,[r]:a})};d.exports.useEffect(()=>{(async()=>{if(l){const a=await(await fetch(`http://dev-rare.srp.ai/developer/${l}`)).json();a&&p(a)}})()},[l]);const[n,b]=d.exports.useState("");let x={developername:"Developer Name"};const y=O({developername:q().required(n)}).required(),{register:v,formState:{errors:L}}=w({resolver:E(y)}),m=()=>{let s=!1,r={developername:b};return r&&Object.keys(r).length&&Object.keys(r).map(a=>{r[a](""),e[a]||(r[a](x[a]+" is required"),s=!0)}),s},C=async()=>{e.developername?(await g.post("http://dev-rare.srp.ai/developer",e),f.success(`${e.developername} created successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{i("/all-developer")},1500)):m()},D=async s=>{s.preventDefault(),e.developername?(await g.patch("http://dev-rare.srp.ai/developer",e),f.success(`${e.developername} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{i("/all-developer")},1500)):m()};return o(F,{children:[t(S,{}),t($,{title:"Developer Form",children:t("div",{children:o("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[o("div",{children:[t(h,{name:"developername",label:"Developer name",type:"text",placeholder:"Enter Developer name",register:v,error:n,value:e.developername||"",onChange:u}),t("div",{className:" mt-2 text-danger-500 block text-sm",children:n})]}),t(h,{name:"developercode",label:"Developer code",type:"text",register:v,placeholder:"Enter Developer code",value:e.developercode||"",onChange:u}),o("div",{className:"lg:col-span-2 col-span-1",children:[c.pathname===`/update-developer/${l}`?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:D,type:"button",children:"Update"})}):null,c.pathname==="/add-developer"?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:C,type:"button",children:"Submit"})}):null]})]})})})]})};export{T as default};
