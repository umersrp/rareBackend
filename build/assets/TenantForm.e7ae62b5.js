import{bu as Qt,A as Ht,ag as Kt,r as p,E as Yt,cd as Wt,ca as Xt,cf as Zt,cg as It,w as Dt,x as M,y as en,c as d,F as _,j as a,t as tn,C as nn,aq as le,ak as an,ao as j,l as F,bO as ce,bP as Q,aC as ae,L as on,z as ln,J as Ze,bQ as H,bJ as pe,bR as de,Q as se}from"./index.b108767f.js";const re={option:(q,W)=>({...q,fontSize:"14px"})},vn=()=>{const{id:q}=Qt(),W=Ht(),X=Kt(),[e,y]=p.exports.useState(""),[me,fe]=p.exports.useState(""),[he,ue]=p.exports.useState(""),[ye,be]=p.exports.useState(""),[ve,xe]=p.exports.useState(""),[cn,Ie]=p.exports.useState(""),k=i=>{const{name:o,value:n}=i.target;y({...e,[o]:n})},Z=new URLSearchParams(window.location.search),I=Z.get("propertyid"),z=Z.get("renew"),T=Z.get("customerid"),D=Z.get("contractenddate");p.exports.useEffect(()=>{I!=null&&y(i=>({...i,propertyid:I}))},[I]),p.exports.useEffect(()=>{z!=null&&y(i=>({...i,contractupdation:z}))},[z]),p.exports.useEffect(()=>{T!=null&&(y(o=>({...o,customerid:T,customertype:"Existing Tenant"})),(async()=>{if(T){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${T}`)).json();n&&(je(n),y({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),te((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})())},[T]),p.exports.useEffect(()=>{if(D!=null){const i=new Date(D);i.setDate(i.getDate()+1);const o=i.toISOString();y(n=>({...n,contractstartdate:o}))}},[D]);const E=Yt(),{data:ee}=Wt(),{data:u,isSuccess:ge}=Xt(q),[_e,pn]=p.exports.useState(!1),[Ne,qe]=p.exports.useState(""),[De,ke]=p.exports.useState(""),[et,Ce]=p.exports.useState(""),[Se,we]=p.exports.useState("");p.exports.useEffect(()=>{var i,o,n,l,c,f,s,r,v,N,m,h;q&&u&&ge&&(y(u==null?void 0:u.tenantContract),qe(((i=u==null?void 0:u.tenantContract)==null?void 0:i.ejari_certificate_doc)&&((o=u==null?void 0:u.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(n=u==null?void 0:u.tenantContract)==null?void 0:n.ejari_certificate_doc:""),ke(((l=u==null?void 0:u.tenantContract)==null?void 0:l.tenancy_contract_doc)&&((c=u==null?void 0:u.tenantContract)==null?void 0:c.tenancy_contract_doc)!==void 0?(f=u==null?void 0:u.tenantContract)==null?void 0:f.tenancy_contract_doc:""),Ce(((s=u==null?void 0:u.tenantContract)==null?void 0:s.addendum_doc)&&((r=u==null?void 0:u.tenantContract)==null?void 0:r.addendum_doc)!==void 0?(v=u==null?void 0:u.tenantContract)==null?void 0:v.addendum_doc:""),we(((N=u==null?void 0:u.tenantContract)==null?void 0:N.key_receipt_doc)&&((m=u==null?void 0:u.tenantContract)==null?void 0:m.key_receipt_doc)!==void 0?(h=u==null?void 0:u.tenantContract)==null?void 0:h.key_receipt_doc:""))},[q,u,ge]);const[Fe]=Zt(),[tt]=It(),[Pe,nt]=p.exports.useState([]);p.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/property").then(i=>i.json()).then(i=>{const o=i==null?void 0:i.map(n=>({label:n.unitnumber+" | "+n.communityname+" | "+n.projectname+" | "+n.buildingname,value:n._id}));nt(o)})},[]),p.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const n=await(await fetch(`http://portals.rarehomesgroup.com/property/${e==null?void 0:e.propertyid}`)).json();n&&y({...e,unitnumber:n==null?void 0:n.unitnumber,buildingname:n==null?void 0:n.building_name,projectname:n==null?void 0:n.project_name,communityname:n==null?void 0:n.community_name})}})()},[e==null?void 0:e.propertyid]);const[P,at]=p.exports.useState("");p.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/users/api/customers").then(o=>o.json()).then(o=>{var l;const n=(l=o==null?void 0:o.users)==null?void 0:l.map(c=>({label:c.firstname+" "+c.lastname+" | "+c.email+" | "+c.passportidno+" | "+c.whatsappno,value:c._id}));at(n)})})()},[]);const[Ae,te]=p.exports.useState(""),[t,je]=p.exports.useState("");p.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${e==null?void 0:e.customerid}`)).json();n&&(je(n),y({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),te((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[ze,ot]=p.exports.useState([]);p.exports.useEffect(()=>{(async()=>{const n=await(await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return ot(n==null?void 0:n.users)})()},[]);const[dn,it]=p.exports.useState(e==null?void 0:e.customertype),lt=i=>{it(i.target.value),y({...e,customertype:i.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),te("")},ct=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];p.exports.useEffect(()=>{(async()=>{try{const o=ce.getAllCountries();let n=[];n=o==null?void 0:o.map(({isoCode:l,name:c})=>({isoCode:l,name:c}))}catch(o){console.log(o)}})()},[]);const[O,pt]=p.exports.useState(null),Te=i=>{pt(i.target.files[0]),y({...e,passportpdf:i.target.files[0]})},dt=()=>{y({...e,passportpdf:""}),te("")},[K,Ee]=p.exports.useState(null),st=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Ee(o),y({...e,ejari_certificate_doc:o}),fe("")):(Ee(null),y({...e,ejari_certificate_doc:null}),fe("File size exceeds 10MB limit!"))},rt=()=>{y({...e,ejari_certificate_doc:""}),qe("")},[G,Oe]=p.exports.useState(null),mt=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Oe(o),y({...e,tenancy_contract_doc:o}),ue("")):(Oe(null),y({...e,tenancy_contract_doc:null}),ue("File size exceeds 10MB limit!"))},ft=()=>{y({...e,tenancy_contract_doc:""}),ke("")},[$,Ge]=p.exports.useState(null),ht=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Ge(o),y({...e,addendum_doc:o}),be("")):(Ge(null),y({...e,addendum_doc:null}),be("File size exceeds 10MB limit!"))},ut=()=>{y({...e,addendum_doc:""}),Ce("")},[Y,$e]=p.exports.useState(null),yt=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?($e(o),y({...e,key_receipt_doc:o}),xe("")):($e(null),y({...e,key_receipt_doc:null}),xe("File size exceeds 10MB limit!"))},bt=()=>{y({...e,key_receipt_doc:""}),we("")};p.exports.useState(null);const[g,Ue]=p.exports.useState("");p.exports.useEffect(()=>{if(q&&(e==null?void 0:e.chequeDetails)&&X.pathname===`/update-tenantcontract/${q}`){const i=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Ue(i)}},[q,e==null?void 0:e.chequeDetails]);const vt=i=>{Ue(o=>{const n=[...o];return n[i]={...n[i],chequeimage:""},n}),y(o=>{const n={...o},l=[...n.chequeDetails];return l[i]={...l[i],chequeimage:""},n.chequeDetails=l,n})},[x,Ve]=p.exports.useState(0);p.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Ve(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Ve(0)},[e==null?void 0:e.noofchequeorinstallment]),p.exports.useState([]);const[xt,gt]=p.exports.useState([]),_t=(i,o)=>{let n=[];i.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const l=n[o]||{};n[o]={...l,chequenumbe:i.target.value,chequedate:(l==null?void 0:l.chequedate)||"",totalamount:(l==null?void 0:l.totalamount)||""};const c={...e,chequeDetails:n};y(c)},Nt=(i,o)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const l=n[o]||{};n[o]={...l,chequedate:i[0]||""};const c={...e,chequeDetails:n};y(c)},qt=(i,o)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const l=n[o]||{};n[o]={...l,totalamount:i.target.value,chequenumbe:(l==null?void 0:l.chequenumbe)||"",chequedate:(l==null?void 0:l.chequedate)||"",chequeimage:(l==null?void 0:l.chequeimage)||""};const c={...e,chequeDetails:n};y(c)},kt=(i,o)=>{const n=[...xt],l=o.target.files[0];n[i]=l,gt(n);let c=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(c=[...e.chequeDetails]);const f=c[i]||{};c[i]={...f,totalamount:(f==null?void 0:f.totalamount)||"",chequenumbe:(f==null?void 0:f.chequenumbe)||"",chequedate:(f==null?void 0:f.chequedate)||"",chequeimage:l};const s={...e,chequeDetails:c};y(s)},[Be,A]=p.exports.useState(""),[Ct,sn]=p.exports.useState(""),[Le,St]=p.exports.useState(""),[ne,U]=p.exports.useState(""),[Je,wt]=p.exports.useState(""),[Re,rn]=p.exports.useState(""),[Me,mn]=p.exports.useState(""),[Ft,fn]=p.exports.useState(""),[Pt,V]=p.exports.useState(""),[At,B]=p.exports.useState("");p.exports.useState("");const[jt,Qe]=p.exports.useState(Array(x).fill("")),[zt,He]=p.exports.useState(Array(x).fill("")),[Tt,Ke]=p.exports.useState(Array(x).fill("")),[Et,Ye]=p.exports.useState(Array(x).fill("")),[Ot,hn]=p.exports.useState(""),[Gt,un]=p.exports.useState(""),[$t,oe]=p.exports.useState("");p.exports.useState("");const[We,ie]=p.exports.useState(!1);p.exports.useEffect(()=>{e.customertype==="New Tenant"&&X.pathname==="/add-tenantcontract"?ze.find(o=>o.email===e.email)?(U("Email is already in use. Please check existing tenants."),ie(!0)):(U(""),ie(!1)):e.customertype==="Existing Tenant"&&(U(""),ie(!1))},[e.customertype,e.email,ze]);let Ut={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no. of cheque or installment",commission:"commission"};const Vt=Dt({propertyid:M().required(Be),customertype:M().required(Le),email:M().email(ne).required(ne),guestname:M().required(Je),mobilenumber:M().required(Re),nationality:M().required(Me)}).required(),{register:C,formState:{errors:yn}}=en({resolver:ln(Vt)}),Xe=()=>{let i=!1,o={propertyid:A,customertype:St,email:U,guestname:wt};return o&&Object.keys(o).length&&Object.keys(o).map(n=>{o[n](""),e[n]||(o[n](Ut[n]+" is required"),i=!0)}),i},[L,J]=p.exports.useState(!1),Bt=localStorage.getItem("isAuth"),S=JSON.parse(Bt),[Lt,R]=p.exports.useState(!1);p.exports.useEffect(()=>{const i=o=>{const{_id:n,propertyid:l,contractstartdate:c,contractenddate:f}=o,{contractstartdate:s,contractenddate:r,propertyid:v}=e;return n!==(e==null?void 0:e._id)&&c&&f&&new Date(c).toISOString()<new Date(r).toISOString()&&new Date(f).toISOString()>new Date(s).toISOString()&&l===v?(R(!0),A("Property is already Listed"),V("Property is already Listed"),B("Property is already Listed"),!0):(R(!1),A(""),V(""),B(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let o=0;o<(ee==null?void 0:ee.length);o++){const n=ee[o];if(i(n)){R(!0),A("Property is already Listed"),V("Property is already Listed"),B("Property is already Listed");break}else{R(!1),A(""),V(""),B("");break}}else R(!1),A(""),V(""),B("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Jt=async()=>{if(Qe(Array(x).fill("")),He(Array(x).fill("")),Ke(Array(x).fill("")),Ye(Array(x).fill("")),!e.propertyid||!e.guestname||!e.email)Xe();else if(!(e!=null&&e.customerid)&&!Ze.isEmail(e.email))U("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&We===!1&&Lt===!1){J(!0);let i;try{let o=[];O&&o.push(H(O,"Passport"));let n=await Promise.all(o);if(n.length){let l=[];for(let b=0;b<n.length;b++){let w=n[b].data.files;l.push(w)}let c=[];for(let b of l)for(let w of b){let Mt=w;c.push(Mt)}let f="",s="",r="",v="",N="";for(let b of c)b.includes("Passport")?f=b:b.includes("ejari_certificate_doc")?s=b:b.includes("tenancy_contract_doc")?r=b:b.includes("addendum_doc")?v=b:b.includes("key_receipt_doc")&&(N=b);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let b=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",b[0]),m.append("lastname",b[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),m.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),m.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),m.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),m.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),m.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),m.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),m.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),m.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),m.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),m.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),m.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),m.append("altemail",t.altemail===void 0?"":t.altemail),m.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),m.append("password",t.password===void 0?"":t.password),m.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),m.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),m.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),m.append("type","tenant"),t!=null&&t.employeeid&&m.append("employeeid",t==null?void 0:t.employeeid),f?m.append("passportpdf",f):m.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t.passportpdf),E(pe(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let b=e==null?void 0:e.guestname.split(" ");m.append("firstname",b[0]),m.append("lastname",b[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("type","tenant"),f&&m.append("passportpdf",f),E(de(m))}const h=new FormData;h.append("propertyid",e==null?void 0:e.propertyid),h.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&h.append("customerid",e==null?void 0:e.customerid),h.append("guestname",e==null?void 0:e.guestname),h.append("passportnumber",e==null?void 0:e.passportnumber),h.append("email",e==null?void 0:e.email),h.append("nationality",e==null?void 0:e.nationality),h.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),h.append("createdBy",S==null?void 0:S._id),z&&h.append("contractupdation",e==null?void 0:e.contractupdation),f&&h.append("passportpdf",f),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?h.append("contractstartdate",e==null?void 0:e.contractstartdate):h.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?h.append("contractenddate",e==null?void 0:e.contractenddate):h.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?h.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):h.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?h.append("contractvalue",e==null?void 0:e.contractvalue):h.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?h.append("rentalamount",e==null?void 0:e.rentalamount):h.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?h.append("securitydepositamount",e==null?void 0:e.securitydepositamount):h.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?h.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):h.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?h.append("commission",e==null?void 0:e.commission):h.append("commission",""),s?h.append("ejari_certificate_doc",s):h.append("ejari_certificate_doc",""),r?h.append("tenancy_contract_doc",r):h.append("tenancy_contract_doc",""),v?h.append("addendum_doc",v):h.append("addendum_doc",""),N?h.append("key_receipt_doc",N):h.append("key_receipt_doc",""),e!=null&&e.chequeDetails&&e.chequeDetails.map((b,w)=>(h.append("chequeDetailsImages",b.chequeimage),b.chequeimage="",b)),h.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await Fe(h),se.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200)}else{const l=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let f=e==null?void 0:e.guestname.split(" ");l.append("_id",e==null?void 0:e.customerid),l.append("firstname",f[0]),l.append("lastname",f[1]),l.append("email",e==null?void 0:e.email),l.append("whatsappno",e==null?void 0:e.mobilenumber),l.append("passportno",e==null?void 0:e.nationality),l.append("passportidno",e==null?void 0:e.passportnumber),l.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),l.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),l.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),l.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),l.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),l.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),l.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),l.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),l.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),l.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),l.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),l.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),l.append("altemail",t.altemail===void 0?"":t.altemail),l.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),l.append("password",t.password===void 0?"":t.password),l.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),l.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),l.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),l.append("passportpdf",t==null?void 0:t.passportpdf),l.append("type","tenant"),t!=null&&t.employeeid&&l.append("employeeid",t==null?void 0:t.employeeid),E(pe(l))}else if((e==null?void 0:e.customertype)==="New Tenant"){let f=e==null?void 0:e.guestname.split(" ");l.append("firstname",f[0]),l.append("lastname",f[1]),l.append("email",e==null?void 0:e.email),l.append("whatsappno",e==null?void 0:e.mobilenumber),l.append("passportno",e==null?void 0:e.nationality),l.append("passportidno",e==null?void 0:e.passportnumber),l.append("type","tenant"),l.append("passportpdf",e==null?void 0:e.passportpdf),E(de(l))}const c=new FormData;if(c.append("propertyid",e==null?void 0:e.propertyid),c.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&c.append("customerid",e==null?void 0:e.customerid),c.append("guestname",e==null?void 0:e.guestname),c.append("passportnumber",e==null?void 0:e.passportnumber),c.append("email",e==null?void 0:e.email),c.append("nationality",e==null?void 0:e.nationality),c.append("mobilenumber",e==null?void 0:e.mobilenumber),c.append("createdBy",S==null?void 0:S._id),c.append("passportpdf",""),z&&c.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?c.append("contractstartdate",e==null?void 0:e.contractstartdate):c.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?c.append("contractenddate",e==null?void 0:e.contractenddate):c.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?c.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):c.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?c.append("contractvalue",e==null?void 0:e.contractvalue):c.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?c.append("rentalamount",e==null?void 0:e.rentalamount):c.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?c.append("securitydepositamount",e==null?void 0:e.securitydepositamount):c.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?c.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):c.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?c.append("commission",e==null?void 0:e.commission):c.append("commission",""),c.append("ejari_certificate_doc",K),c.append("tenancy_contract_doc",G),c.append("addendum_doc",$),c.append("key_receipt_doc",Y),e!=null&&e.chequeDetails&&e.chequeDetails.map((f,s)=>(c.append("chequeDetailsImages",f.chequeimage),f.chequeimage="",f)),c.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),J(!1),i=await Fe(c),i.data.status===!0)return se.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200);J(!0)}}catch{J(!1)}}},Rt=async i=>{if(i.preventDefault(),Qe(Array(x).fill("")),He(Array(x).fill("")),Ke(Array(x).fill("")),Ye(Array(x).fill("")),!e.propertyid||!e.guestname||!e.email)Xe();else if(!(e!=null&&e.customerid)&&!Ze.isEmail(e.email))U("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&We===!1){J(!0);try{let o=e==null?void 0:e.passportpdf,n=e==null?void 0:e.ejari_certificate_doc,l=e==null?void 0:e.tenancy_contract_doc,c=e==null?void 0:e.addendum_doc,f=e==null?void 0:e.key_receipt_doc;O!==null&&(o=await H(O,"Passport"),o=o.data.files[0]),K!==null&&(n=await H(K,"ejari_certificate_doc"),n=n.data.files[0]),G!==null&&(l=await H(G,"tenancy_contract_doc"),l=l.data.files[0]),$!==null&&(c=await H($,"addendum_doc"),c=c.data.files[0]),Y!==null&&(f=await H(Y,"key_receipt_doc"),f=f.data.files[0]);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",v[0]),s.append("lastname",v[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",(t==null?void 0:t.contactno)===void 0||(t==null?void 0:t.contactno)===null?"":t==null?void 0:t.contactno),s.append("datebirth",(t==null?void 0:t.datebirth)===void 0||(t==null?void 0:t.datebirth)===null?"":t==null?void 0:t.datebirth),s.append("countryofresidence",(t==null?void 0:t.countryofresidence)===void 0||(t==null?void 0:t.countryofresidence)===null?"":t==null?void 0:t.countryofresidence),s.append("memberid",(t==null?void 0:t.memberid)===void 0||(t==null?void 0:t.memberid)===null?"":t==null?void 0:t.memberid),s.append("nameonpassport",(t==null?void 0:t.nameonpassport)===void 0||(t==null?void 0:t.nameonpassport)===null?"":t==null?void 0:t.nameonpassport),s.append("nationalidexpiry",(t==null?void 0:t.nationalidexpiry)===void 0||(t==null?void 0:t.nationalidexpiry)===null?"":t==null?void 0:t.nationalidexpiry),s.append("nationalidissuedate",(t==null?void 0:t.nationalidissuedate)===void 0||(t==null?void 0:t.nationalidissuedate)===null?"":t==null?void 0:t.nationalidissuedate),s.append("nationalidno",(t==null?void 0:t.nationalidno)===void 0||(t==null?void 0:t.nationalidno)===null?"":t==null?void 0:t.nationalidno),s.append("passportexpiry",(t==null?void 0:t.passportexpiry)===void 0||(t==null?void 0:t.passportexpiry)===null?"":t==null?void 0:t.passportexpiry),s.append("passportissue",(t==null?void 0:t.passportissue)===void 0||(t==null?void 0:t.passportissue)===null?"":t==null?void 0:t.passportissue),s.append("postaladdress",(t==null?void 0:t.postaladdress)===void 0||(t==null?void 0:t.postaladdress)===null?"":t==null?void 0:t.postaladdress),s.append("primaryno",(t==null?void 0:t.primaryno)===void 0||(t==null?void 0:t.primaryno)===null?"":t==null?void 0:t.primaryno),s.append("altemail",(t==null?void 0:t.altemail)===void 0?"":t==null?void 0:t.altemail),s.append("altmobilenumber",(t==null?void 0:t.altmobilenumber)===void 0?"":t==null?void 0:t.altmobilenumber),s.append("password",(t==null?void 0:t.password)===void 0?"":t==null?void 0:t.password),s.append("confirmpass",(t==null?void 0:t.confirmpass)===void 0?"":t==null?void 0:t.confirmpass),s.append("residentstatus",(t==null?void 0:t.residentstatus)===void 0?"":t==null?void 0:t.residentstatus),s.append("nationalidpdf",(t==null?void 0:t.nationalidpdf)===void 0?"":t==null?void 0:t.nationalidpdf),s.append("type","tenant"),t!=null&&t.employeeid&&s.append("employeeid",t==null?void 0:t.employeeid),o?s.append("passportpdf",o):s.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t==null?void 0:t.passportpdf),E(pe(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");s.append("firstname",v[0]),s.append("lastname",v[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),o&&s.append("passportpdf",o),s.append("type","tenant"),E(de(s))}const r=new FormData;r.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&r.append("customerid",e==null?void 0:e.customerid),r.append("_id",e==null?void 0:e._id),r.append("propertyid",e==null?void 0:e.propertyid),r.append("guestname",e==null?void 0:e.guestname),r.append("passportnumber",e==null?void 0:e.passportnumber),r.append("email",e==null?void 0:e.email),r.append("nationality",e==null?void 0:e.nationality),r.append("mobilenumber",e==null?void 0:e.mobilenumber),r.append("updatedBy",S==null?void 0:S._id),e!=null&&e.contractupdation&&r.append("contractupdation",e==null?void 0:e.contractupdation),o&&r.append("passportpdf",o),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?r.append("contractstartdate",e==null?void 0:e.contractstartdate):r.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?r.append("contractenddate",e==null?void 0:e.contractenddate):r.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?r.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):r.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?r.append("contractvalue",e==null?void 0:e.contractvalue):r.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?r.append("rentalamount",e==null?void 0:e.rentalamount):r.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?r.append("securitydepositamount",e==null?void 0:e.securitydepositamount):r.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?r.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):r.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?r.append("commission",e==null?void 0:e.commission):r.append("commission",""),n&&r.append("ejari_certificate_doc",n||K),l&&r.append("tenancy_contract_doc",l||G),c&&r.append("addendum_doc",c||$),f&&r.append("key_receipt_doc",f||Y),e!=null&&e.chequeDetails&&e.chequeDetails.map((v,N)=>(r.append("chequeDetailsImages",v.chequeimage),v.chequeimage="",v)),r.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await tt(r),se.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200)}catch(o){console.log(o,"error"),J(!1)}}};return d(_,{children:[a(tn,{}),a(nn,{title:"tenant contract Form",children:a("div",{children:d("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[a("div",{className:"w-[100%] col-span-3",children:a("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"})}),d("div",{className:"w-[100%] col-span-3",children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"}),a(le,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Pe,value:Pe.filter(function(i){return i.value===(e==null?void 0:e.propertyid)}),onChange:i=>{y({...e,propertyid:i==null?void 0:i.value})},styles:re,id:"hh",placeholder:"Select and Search property"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Be})]}),a(_,{children:e!=null&&e.propertyid?a(_,{children:a("div",{className:"w-[100%] col-span-3",children:d("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Unit number"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Community Name"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Project Name"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Building Name"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})]})})}):null}),a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})}),a("div",{className:"w-[100%] col-span-3",children:a("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"})}),d("div",{className:"w-[100%] col-span-3",children:[a("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:ct.map(i=>a(an,{label:i.label,name:"color",value:i.value,checked:(e==null?void 0:e.customertype)===i.value,onChange:lt}))}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Le}),a("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?d(_,{children:[d("div",{className:"w-[100%] col-span-3",children:[a("div",{children:P!=null&&P.length?d(_,{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"}),a(le,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:P,value:P==null?void 0:P.filter(function(i){return i.value===(e==null?void 0:e.customerid)}),onChange:i=>{y({...e,customerid:i==null?void 0:i.value})},styles:re,id:"hh"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ne&&"Customer details are required"})]}):null}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ct})]}),a(_,{children:e!=null&&e.customerid?d(_,{children:[d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Tenant Name"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Email"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Mobile Number"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Passport no"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Nationality"}),d("div",{className:"relative ",children:[a("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),d("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"}),Ae!==""?a("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()})}):a(j,{name:"basic",selectedFile:O,onChange:Te})]})]}):null})]}):(e==null?void 0:e.customertype)==="New Tenant"?d(_,{children:[d("div",{children:[a(F,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Je})]}),d("div",{children:[a(F,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ne})]}),d("div",{children:[a(F,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Re})]}),d("div",{children:[a(F,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ft})]}),d("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"}),a(le,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ce.getAllCountries().filter(function(i){return i.name===(e==null?void 0:e.nationality)}),options:ce.getAllCountries(),styles:re,id:"hh",getOptionLabel:i=>i.name,getOptionValue:i=>i.name,onChange:i=>{Ie(i==null?void 0:i.name),k({target:{name:"nationality",value:i.name}})}}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Me})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"}),Ae!==""?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:dt})]}):a(j,{name:"basic",selectedFile:O,onChange:Te})]})]}):null})]}),a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})}),d("div",{className:"w-[100%] col-span-3",children:[d("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"}),a(ae,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:i=>{k({target:{name:"contractexecutiondate",value:i[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"}),a(ae,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:i=>{k({target:{name:"contractstartdate",value:i[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Pt})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"}),a(ae,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:i=>{k({target:{name:"contractenddate",value:i[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:At})]}),a(_,{}),d("div",{children:[a(F,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ot})]}),d("div",{children:[a(F,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:C,onChange:k}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gt})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"}),Ne!==""?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:rt})]}):a(j,{name:"basic",selectedFile:K,onChange:st}),!Ne&&me&&a("p",{style:{color:"red",fontSize:10},children:me})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"}),De!==""?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:ft})]}):a(j,{name:"basic",selectedFile:G,onChange:mt}),!G&&he&&a("p",{style:{color:"red",fontSize:10},children:he})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"}),et!==""?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:ut})]}):a(j,{name:"basic",selectedFile:$,onChange:ht}),!$&&ye&&a("p",{style:{color:"red",fontSize:10},children:ye})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"}),Se!==""?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:bt})]}):a(j,{name:"basic",selectedFile:Y,onChange:yt}),!Se&&ve&&a("p",{style:{color:"red",fontSize:10},children:ve})]}),a(_,{}),d("div",{children:[a(F,{label:"no. of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:C,onInput:i=>{i.target.value>15?(oe("No. of cheques must be less than 16"),setTimeout(()=>{oe("")},3e3),y({...e,noofchequeorinstallment:15})):(oe(""),y({...e,noofchequeorinstallment:i.target.value}))}}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$t})]}),a(_,{})]}),x>0&&a(_,{children:Array.from({length:x},(i,o)=>{var n,l,c,f,s,r,v,N,m,h;return d("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[d("div",{children:[a(F,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((l=(n=e==null?void 0:e.chequeDetails)==null?void 0:n[o])==null?void 0:l.chequenumbe)||"",register:C,onChange:b=>_t(b,o)}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:jt[o]})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"}),a(ae,{className:"form-control py-2",name:"chequedate",value:((f=(c=e==null?void 0:e.chequeDetails)==null?void 0:c[o])==null?void 0:f.chequedate)||"",onChange:b=>Nt(b,o),id:"default-picker",placeholder:"Select cheque date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:zt[o]})]}),d("div",{children:[a(F,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((r=(s=e==null?void 0:e.chequeDetails)==null?void 0:s[o])==null?void 0:r.totalamount)||"",register:C,onChange:b=>qt(b,o)}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Tt[o]})]}),d("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"}),((v=g==null?void 0:g[o])==null?void 0:v.chequeimage)!==""&&X.pathname===`/update-tenantcontract/${q}`&&((N=g==null?void 0:g[o])==null?void 0:N.chequeimage)!==void 0?d("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${(m=g==null?void 0:g[o])==null?void 0:m.chequeimage}`,children:decodeURIComponent((h=g==null?void 0:g[o])==null?void 0:h.chequeimage).split("/").pop()}),a("img",{src:Q,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>vt(o)})]}):a(j,{name:`chequeimage-${o}`,selectedFile:e.chequeDetails[o].chequeimage,onChange:kt.bind(null,[o])}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Et[o]})]}),x>1&&o!==x-1&&a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})})]},o+1)})})]}),d("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[a("div",{className:`"ltr:text-right rtl:text-left " ${L===!0?"cursor-not-allowed	":""}`,children:L===!0?a("div",{className:` ${L===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"}):a(on,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"})}),X.pathname===`/update-tenantcontract/${q}`?a("div",{className:"ltr:text-right rtl:text-left",children:a("div",{className:`${L===!0?"opacity-[0.7]":""}`,children:a("button",{className:"btn btn-dark  text-center",type:"button",onClick:Rt,children:"Update"})})}):a("div",{className:"ltr:text-right rtl:text-left",children:a("div",{className:`${L===!0?"opacity-[0.7]":""}`,children:a("button",{className:"btn btn-dark  text-center",onClick:Jt,type:"button",children:"Submit"})})}),L===!0?a("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:a("div",{className:"loader-spiner"})}):null]})]})})})]})};export{vn as default};
