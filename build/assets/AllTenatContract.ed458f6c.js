import{R as Te,j as a,F as I,r as x,b,L as pe,I as R,an as z,cb as Wl,H as al,c9 as sl,cy as Xl,C as nl,ca as cl}from"./index.5e55c1ba.js";import{T as Ae}from"./Tooltip.4c4c7a86.js";import{r as te}from"./index.c89ffb9d.js";import{G as Gl}from"./GlobalFilter.2b1d860a.js";import{D as Ml}from"./DeleteModal.fead603f.js";import{G as Vl}from"./group-chart-1.095f32b1.js";import{D as Ee}from"./index.esm.c068ea99.js";/* empty css                     */import"./react-apexcharts.min.f6d70275.js";const Yl=Te.forwardRef(({indeterminate:_,...U},T)=>{const u=Te.useRef(),V=T||u;return Te.useEffect(()=>{V.current.indeterminate=_},[V,_]),a(I,{children:a("input",{type:"checkbox",ref:V,...U,className:"table-checkbox"})})}),Z={option:(_,U)=>({..._,fontSize:"14px"})},zl=({showModal:_,handleClose:U,handleTerminateData:T,dataId:u})=>a("div",{className:"thumbnail-container",children:_&&a("div",{className:"modal-overlay-property",children:b("div",{className:"modal-new w-[850px]",children:[b("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[a("h5",{className:" text-[18px] capitalize",children:"Are You Sure you Want to Terminate this Property?"}),a("img",{src:Wl,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:U})]}),a("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>T(u),children:"Terminate"})]})})}),Jl=({allData:_,onDataUpdate:U,dataRole:T,forFilterData:u,handleClearFilter:V,handleFilterSearch:me,valueEXECUTION:le,valuecontractstart:F,valuecontractenddate:je,removeAllDateFilter:ae,dateFilterActive:k})=>{const[ne,he]=x.exports.useState(!1),[M,D]=x.exports.useState(!1),[H,qe]=x.exports.useState(""),[r,be]=x.exports.useState(""),[J,W]=x.exports.useState(!1),[fe,ce]=x.exports.useState(!1),[Oe,se]=x.exports.useState(!1),[n,P]=x.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""}),[f,w]=x.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""}),A=e=>{const{name:t,value:l}=e.target;P({...n,[t]:l})},[G,ge]=x.exports.useState(!1),Q=async e=>{he(!0),be(e)},ve=()=>{he(!1)},xe=async e=>{try{await al.patch("http://dev-rare.srp.ai/tenantcontract/api/tenantcontractdelete",{_id:e,softdelete:!0}),U()}catch(t){console.log(t,"error")}},ye=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:t})=>a("span",{children:t.indexOf(e)+1})},{Header:"Status",accessor:"securitydepositamount",Cell:e=>{var t,l,c,d,o,h,v,y,C,S,E,j,q,i,O,Ue,We,Xe,Ge,Me,Ve,Ye,ze,Je,Qe,Ke,Ze,Fe,we,et,tt,lt,at,nt,ct,st,it,dt,ot,rt,ut,pt,mt,ht,bt,ft,gt,vt,xt,yt,Nt,Ct,_t,Dt,St,kt,Tt,At,Et,jt,qt,Ot,Pt,$t,Ht,Lt,Rt,Bt,It,Ut,Wt,Xt,Gt,Mt,Vt,Yt,zt,Jt,Qt,Kt,Zt,Ft,wt,el,tl,ll;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((c=(l=(t=e==null?void 0:e.cell)==null?void 0:t.row)==null?void 0:l.original)==null?void 0:c.propertyid)&&((h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.email)&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.customertype)&&((j=(E=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:E.original)==null?void 0:j.contractstartdate)&&((O=(i=(q=e==null?void 0:e.cell)==null?void 0:q.row)==null?void 0:i.original)==null?void 0:O.contractenddate)&&((Xe=(We=(Ue=e==null?void 0:e.cell)==null?void 0:Ue.row)==null?void 0:We.original)==null?void 0:Xe.rentalamount)&&((Ve=(Me=(Ge=e==null?void 0:e.cell)==null?void 0:Ge.row)==null?void 0:Me.original)==null?void 0:Ve.securitydepositamount)&&((Je=(ze=(Ye=e==null?void 0:e.cell)==null?void 0:Ye.row)==null?void 0:ze.original)==null?void 0:Je.noofchequeorinstallment)&&((Ze=(Ke=(Qe=e==null?void 0:e.cell)==null?void 0:Qe.row)==null?void 0:Ke.original)==null?void 0:Ze.contractexecutiondate)&&((et=(we=(Fe=e==null?void 0:e.cell)==null?void 0:Fe.row)==null?void 0:we.original)==null?void 0:et.ejari_certificate_doc)&&((at=(lt=(tt=e==null?void 0:e.cell)==null?void 0:tt.row)==null?void 0:lt.original)==null?void 0:at.tenancy_contract_doc)&&((st=(ct=(nt=e==null?void 0:e.cell)==null?void 0:nt.row)==null?void 0:ct.original)==null?void 0:st.addendum_doc)&&((ot=(dt=(it=e==null?void 0:e.cell)==null?void 0:it.row)==null?void 0:dt.original)==null?void 0:ot.key_receipt_doc)&&((mt=(pt=(ut=(rt=e==null?void 0:e.cell)==null?void 0:rt.row)==null?void 0:ut.original)==null?void 0:pt.chequeDetails)==null?void 0:mt.length)?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((ft=(bt=(ht=e==null?void 0:e.cell)==null?void 0:ht.row)==null?void 0:bt.original)==null?void 0:ft.propertyid)&&((xt=(vt=(gt=e==null?void 0:e.cell)==null?void 0:gt.row)==null?void 0:vt.original)==null?void 0:xt.email)&&((Ct=(Nt=(yt=e==null?void 0:e.cell)==null?void 0:yt.row)==null?void 0:Nt.original)==null?void 0:Ct.customertype)&&((St=(Dt=(_t=e==null?void 0:e.cell)==null?void 0:_t.row)==null?void 0:Dt.original)==null?void 0:St.contractstartdate)&&((At=(Tt=(kt=e==null?void 0:e.cell)==null?void 0:kt.row)==null?void 0:Tt.original)==null?void 0:At.contractenddate)&&((qt=(jt=(Et=e==null?void 0:e.cell)==null?void 0:Et.row)==null?void 0:jt.original)==null?void 0:qt.rentalamount)&&(($t=(Pt=(Ot=e==null?void 0:e.cell)==null?void 0:Ot.row)==null?void 0:Pt.original)==null?void 0:$t.securitydepositamount)&&((Rt=(Lt=(Ht=e==null?void 0:e.cell)==null?void 0:Ht.row)==null?void 0:Lt.original)==null?void 0:Rt.noofchequeorinstallment)&&((Ut=(It=(Bt=e==null?void 0:e.cell)==null?void 0:Bt.row)==null?void 0:It.original)==null?void 0:Ut.contractexecutiondate)&&((Gt=(Xt=(Wt=e==null?void 0:e.cell)==null?void 0:Wt.row)==null?void 0:Xt.original)==null?void 0:Gt.ejari_certificate_doc)&&((Yt=(Vt=(Mt=e==null?void 0:e.cell)==null?void 0:Mt.row)==null?void 0:Vt.original)==null?void 0:Yt.tenancy_contract_doc)&&((Qt=(Jt=(zt=e==null?void 0:e.cell)==null?void 0:zt.row)==null?void 0:Jt.original)==null?void 0:Qt.addendum_doc)&&((Ft=(Zt=(Kt=e==null?void 0:e.cell)==null?void 0:Kt.row)==null?void 0:Zt.original)==null?void 0:Ft.key_receipt_doc)&&((ll=(tl=(el=(wt=e==null?void 0:e.cell)==null?void 0:wt.row)==null?void 0:el.original)==null?void 0:tl.chequeDetails)==null?void 0:ll.length)?"Completed":"Not Completed"})})}},{Header:"Activity Status",accessor:e=>`${e.contractenddate}`,Cell:e=>{var t,l;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${new Date((t=e==null?void 0:e.cell)==null?void 0:t.value)>new Date?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:new Date((l=e==null?void 0:e.cell)==null?void 0:l.value)>new Date?"Active":"Expired"})})}},{Header:"contract continuation",accessor:e=>`${e.contractupdation}`,Cell:e=>{var t,l,c,d,o,h,v,y,C,S;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=e==null?void 0:e.cell)==null?void 0:t.value)==="renew"||((l=e==null?void 0:e.cell)==null?void 0:l.value)==="renewed"?"text-success-500 bg-success-500":""} 
                                ${((c=e==null?void 0:e.cell)==null?void 0:c.value)===""||((d=e==null?void 0:e.cell)==null?void 0:d.value)==="undefined"||((o=e==null?void 0:e.cell)==null?void 0:o.value)===void 0?"bg-info-500 text-info-500":""}  ${((h=e==null?void 0:e.cell)==null?void 0:h.value)==="terminated"?"text-danger-500 bg-danger-500":""} `,children:((v=e==null?void 0:e.cell)==null?void 0:v.value)===""||((y=e==null?void 0:e.cell)==null?void 0:y.value)==="undefined"||((C=e==null?void 0:e.cell)==null?void 0:C.value)===void 0?"Pending":(S=e==null?void 0:e.cell)==null?void 0:S.value})})}},{Header:"unit number",accessor:"unitnumber",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"community name",accessor:"community_name",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"project name",accessor:"project_name",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"building name",accessor:"building_name",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"Property Owner Email",accessor:"property_owner_email",Cell:e=>{var t,l;return a("span",{className:"normal-case",children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"Tenant Name",accessor:"customerid",Cell:e=>{var t,l,c,d,o,h,v;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(d=(c=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:c.original)==null?void 0:d.owner_name:(v=(h=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:h.original)==null?void 0:v.guestname})}},{Header:"Email",accessor:"email",Cell:e=>{var t,l,c,d,o,h,v;return a("span",{className:"normal-case",children:(c=(l=(t=e==null?void 0:e.cell)==null?void 0:t.row)==null?void 0:l.original)!=null&&c.customerid?(h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.owner_email:(v=e==null?void 0:e.cell)==null?void 0:v.value})}},{Header:"contract execution date",accessor:"contractexecutiondate",Cell:e=>{var t,l,c,d;return a("span",{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?new Date((d=e==null?void 0:e.cell)==null?void 0:d.value).toDateString():"Not Available"})}},{Header:"contract start date",accessor:"contractstartdate",Cell:e=>{var t,l,c,d;return a("span",{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!=="undefined"&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==void 0?new Date((d=e==null?void 0:e.cell)==null?void 0:d.value).toDateString():"Not Available"})}},{Header:"contract end date",accessor:"contractenddate",Cell:e=>{var t,l,c,d;return a("span",{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!=="undefined"&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==void 0?new Date((d=e==null?void 0:e.cell)==null?void 0:d.value).toDateString():"Not Available"})}},{Header:"no of cheque",accessor:"noofchequeorinstallment",Cell:e=>{var t,l,c,d;return a("span",{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?(d=e==null?void 0:e.cell)==null?void 0:d.value:"Not Available"})}},{Header:"rental amount",accessor:"rentalamount",Cell:e=>{var t,l,c,d;return a("span",{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?parseFloat((d=e==null?void 0:e.cell)==null?void 0:d.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})}},{Header:"cheque Number",accessor:e=>`${e.chequeDetails}`,Cell:e=>{var t,l,c,d,o,h,v,y,C,S,E,j,q;return a(I,{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:c.length)&&((h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.chequeDetails)&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.chequeDetails.length)?a(I,{children:(q=(j=(E=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:E.original)==null?void 0:j.chequeDetails)==null?void 0:q.map((i,O)=>a("span",{className:`block w-full ${O!==0?"mt-[10px]":""}`,children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.chequenumbe)&&(i==null?void 0:i.chequenumbe)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:(i==null?void 0:i.chequenumbe)&&(i==null?void 0:i.chequenumbe)!==""?a("span",{className:"flex gap-x-[5px] items-center justify-center",children:i==null?void 0:i.chequenumbe}):"Not Available"})},O+1))}):a("span",{children:"Not Available"})})}},{Header:"cheque Date",accessor:e=>`${e.chequeDetails}`,Cell:e=>{var t,l,c,d,o,h,v,y,C,S,E,j,q;return a(I,{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:c.length)&&((h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.chequeDetails)&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.chequeDetails.length)?a(I,{children:(q=(j=(E=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:E.original)==null?void 0:j.chequeDetails)==null?void 0:q.map((i,O)=>a("span",{className:`block w-full ${O!==0?"mt-[10px]":""}`,children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.chequedate)&&(i==null?void 0:i.chequedate)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:(i==null?void 0:i.chequedate)&&(i==null?void 0:i.chequedate)!==""?a("span",{className:"flex gap-x-[5px] items-center justify-center",children:new Date(i==null?void 0:i.chequedate).toDateString()}):"Not Available"})},O+1))}):a("span",{children:"Not Available"})})}},{Header:"Total Amount",accessor:e=>`${e.chequeDetails}`,Cell:e=>{var t,l,c,d,o,h,v,y,C,S,E,j,q;return a(I,{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:c.length)&&((h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.chequeDetails)&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.chequeDetails.length)?a(I,{children:(q=(j=(E=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:E.original)==null?void 0:j.chequeDetails)==null?void 0:q.map((i,O)=>a("span",{className:`block w-full ${O!==0?"mt-[10px]":""}`,children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.totalamount)&&(i==null?void 0:i.totalamount)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:(i==null?void 0:i.totalamount)&&(i==null?void 0:i.totalamount)!==""?a("span",{className:"flex gap-x-[5px] items-center justify-center",children:parseFloat(i==null?void 0:i.totalamount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED"}):"Not Available"})},O+1))}):a("span",{children:"Not Available"})})}},{Header:"cheque image",accessor:e=>`${e.chequeDetails}`,Cell:e=>{var t,l,c,d,o,h,v,y,C,S,E,j,q;return a(I,{children:((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:c.length)&&((h=(o=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:o.original)==null?void 0:h.chequeDetails)&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.chequeDetails.length)?a(I,{children:(q=(j=(E=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:E.original)==null?void 0:j.chequeDetails)==null?void 0:q.map((i,O)=>a("span",{className:`block w-full ${O!==0?"mt-[10px]":""}`,children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.chequeimage)&&(i==null?void 0:i.chequeimage)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:(i==null?void 0:i.chequeimage)&&(i==null?void 0:i.chequeimage)!==""?b("a",{className:"flex gap-x-[5px] items-center",href:"http://dev-rare.srp.ai"+(i==null?void 0:i.chequeimage),target:"_blank",children:[a(R,{icon:"heroicons-outline:eye"}),"View Document"]}):"Not Available"})},O+1))}):a("span",{children:"Not Available"})})}},{Header:"Ejari Certificate PDF/PNG/JPG",accessor:"ejari_certificate_doc",Cell:e=>{var t,l,c,d,o;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?b("a",{className:"flex gap-x-[5px] items-center",href:"http://dev-rare.srp.ai"+((o=e==null?void 0:e.cell)==null?void 0:o.value),target:"_blank",children:[a(R,{icon:"heroicons-outline:eye"}),"View Document"]}):"Not Available"})})}},{Header:"Tenancy Contract PDF/PNG/JPG",accessor:"tenancy_contract_doc",Cell:e=>{var t,l,c,d,o;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?b("a",{className:"flex gap-x-[5px] items-center",href:"http://dev-rare.srp.ai"+((o=e==null?void 0:e.cell)==null?void 0:o.value),target:"_blank",children:[a(R,{icon:"heroicons-outline:eye"}),"View Document"]}):"Not Available"})})}},{Header:"Addendum PDF/PNG/JPG",accessor:"addendum_doc",Cell:e=>{var t,l,c,d,o;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?b("a",{className:"flex gap-x-[5px] items-center",href:"http://dev-rare.srp.ai"+((o=e==null?void 0:e.cell)==null?void 0:o.value),target:"_blank",children:[a(R,{icon:"heroicons-outline:eye"}),"View Document"]}):"Not Available"})})}},{Header:"Key Receipt PDF/PNG/JPG",accessor:"key_receipt_doc",Cell:e=>{var t,l,c,d,o;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((l=e==null?void 0:e.cell)==null?void 0:l.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?b("a",{className:"flex gap-x-[5px] items-center",href:"http://dev-rare.srp.ai"+((o=e==null?void 0:e.cell)==null?void 0:o.value),target:"_blank",children:[a(R,{icon:"heroicons-outline:eye"}),"View Document"]}):"Not Available"})})}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var t,l;return a("span",{className:"normal-case",children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"created-on",accessor:"Created_At",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var t,l;return a("span",{className:"normal-case",children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var t,l;return a("span",{children:(t=e==null?void 0:e.cell)!=null&&t.value?(l=e==null?void 0:e.cell)==null?void 0:l.value:"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var v,y,C;const t=localStorage.getItem("isAuth"),l=JSON.parse(t),{data:c}=sl(l==null?void 0:l.roleid);if(!c)return null;const d=(c==null?void 0:c.readtenant)===!0,o=(c==null?void 0:c.updatetenant)===!0,h=(c==null?void 0:c.deletetenant)===!0;return b("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[d&&a(Ae,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:a(pe,{className:"action-btn",to:`/view-tenantcontract/${e==null?void 0:e.cell.value}`,type:"button",children:a(R,{icon:"heroicons:eye"})})}),o&&((C=(y=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:y.original)==null?void 0:C.contractupdation)!=="terminated"?a(Ae,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:a(pe,{to:`/update-tenantcontract/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:a(R,{icon:"heroicons:pencil-square"})})}):null,h&&a(Ae,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:a("button",{className:"action-btn",type:"button",onClick:()=>Q(e==null?void 0:e.cell.value),children:a(R,{icon:"heroicons:trash"})})})]})}}],Ne=x.exports.useMemo(()=>ye,[]),ie=x.exports.useMemo(()=>_),Ce=te.exports.useTable({columns:Ne,data:ie,initialState:{pageIndex:0,pageSize:50}},te.exports.useGlobalFilter,te.exports.useSortBy,te.exports.usePagination,te.exports.useRowSelect,e=>{e.visibleColumns.push(t=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:l})=>a("div",{children:a(Yl,{...l()})}),Cell:({row:l})=>{var v;const[c,d]=x.exports.useState(""),o=y=>{y!=null&&y._id?W(!0):W(!1),d(C=>C===y?"":y),be(C=>C===y?"":y)},h=((v=l==null?void 0:l.original)==null?void 0:v._id)===(c==null?void 0:c._id);return x.exports.useEffect(()=>{ce(h)},[h]),a("div",{children:a("input",{type:"checkbox",...l.getToggleRowSelectedProps(),checked:h,onChange:()=>o(l.original),className:"table-checkbox"})})}},...t])}),{getTableProps:_e,getTableBodyProps:De,headerGroups:Se,footerGroups:Pe,page:de,nextPage:oe,previousPage:re,canNextPage:Y,canPreviousPage:K,pageOptions:ue,state:ke,gotoPage:ee,pageCount:s,setPageSize:N,setGlobalFilter:m,prepareRow:g}=Ce,{globalFilter:$,pageIndex:B,pageSize:X}=ke;function p(e){var c,d;const t={},l=[];for(const o of e){const h=`${(c=o==null?void 0:o.label)==null?void 0:c.trim()}|${(d=o==null?void 0:o.value)==null?void 0:d.trim()}`;t[h]||(l.push(o),t[h]=!0)}return l}const L=u.filter(e=>e.unitnumber!==void 0),$e=[...new Set(L.map(e=>e.unitnumber))].sort((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),il=u.filter(e=>e.community_name!==void 0),He=[...[...new Set(il.map(e=>e.communityid))].map(e=>{const t=u.find(l=>l.communityid===e);return t?{label:t.community_name,value:t.communityid}:null}).filter(Boolean)].sort((e,t)=>e.label.localeCompare(t.label)),dl=u.filter(e=>e.project_name!==void 0),Le=[...[...new Set(dl.map(e=>e.projectnameid))].map(e=>{const t=u.find(l=>l.projectnameid===e);return t?{label:t.project_name,value:t.projectnameid}:null}).filter(Boolean)].sort((e,t)=>e.label.localeCompare(t.label)),ol=u.filter(e=>e.building_name!==void 0),Re=[...[...new Set(ol.map(e=>e.buildingid))].map(e=>{const t=u.find(l=>l.buildingid===e);return t?{label:t.building_name,value:t.buildingid}:null}).filter(Boolean)].sort((e,t)=>e.label.localeCompare(t.label)),rl=u.filter(e=>e.owner_name!==void 0),Be=[...[...new Set(rl.map(e=>e.owner_email))].map(e=>{const t=u.find(l=>l.owner_email===e);return t?{label:t.owner_name+" | "+t.owner_email,value:t.owner_email}:null}).filter(Boolean)].sort((e,t)=>e.label.localeCompare(t.label)),ul=u==null?void 0:u.filter(e=>e.property_owner_name!==void 0),Ie=[...[...new Set(ul.map(e=>e.property_owner_id))].sort((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})).map(e=>{const t=u.find(l=>l.property_owner_id===e);return t?{label:t.property_owner_name,value:t.property_owner_id}:null}).filter(Boolean)].sort((e,t)=>e.label.localeCompare(t.label)),pl=u.filter(e=>e.unitnumber===f.unitnumber).map(e=>{const{community_name:t,communityid:l}=e;if(t!=""&&l!="")return{label:t,value:l}}),ml=u.filter(e=>e.unitnumber===f.unitnumber).map(e=>{const{projectnameid:t,project_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}}),hl=u.filter(e=>e.unitnumber===f.unitnumber).map(e=>{const{building_name:t,buildingid:l}=e;if(l!=""&&t!="")return{label:t,value:l}}),bl=u.filter(e=>e.unitnumber===f.unitnumber).map(e=>{const{customerid:t,owner_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}}),fl=u.filter(e=>e.unitnumber===f.unitnumber).map(e=>{const{email:t,guestname:l}=e;if(t!=""&&l!="")return{label:l+"|"+t,value:t}}),gl=p(pl),vl=p(ml),xl=p(hl),yl=p(bl),Nl=p(fl);gl.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),vl.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),xl.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),yl.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),Nl.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Cl=u.filter(e=>e.communityid===f.communityid).map(e=>{const{unitnumber:t}=e;if(t!="")return{label:t,value:t}}),_l=u.filter(e=>e.communityid===f.communityid).map(e=>{const{projectnameid:t,project_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}}),Dl=u.filter(e=>e.communityid===f.communityid).map(e=>{const{building_name:t,buildingid:l}=e;if(l!=""&&t!="")return{label:t,value:l}}),Sl=u.filter(e=>e.communityid===f.communityid).map(e=>{const{customerid:t,owner_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}}),kl=u.filter(e=>e.communityid===f.communityid).map(e=>{const{email:t,guestname:l}=e;if(t!=""&&l!="")return{label:l+"|"+t,value:t}});p(Cl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),p(_l).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),p(Dl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),p(Sl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label)),p(kl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Tl=u.filter(e=>e.projectnameid===f.projectnameid).map(e=>{const{unitnumber:t}=e;if(t!="")return{label:t,value:t}});p(Tl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Al=u.filter(e=>e.projectnameid===f.projectnameid).map(e=>{const{community_name:t,communityid:l}=e;if(t!=""&&l!="")return{label:t,value:l}});p(Al).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const El=u.filter(e=>e.projectnameid===f.projectnameid).map(e=>{const{building_name:t,buildingid:l}=e;if(l!=""&&t!="")return{label:t,value:l}});p(El).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const jl=u.filter(e=>e.projectnameid===f.projectnameid).map(e=>{const{customerid:t,owner_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}});p(jl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const ql=u.filter(e=>e.projectnameid===f.projectnameid).map(e=>{const{email:t,guestname:l}=e;if(t!=""&&l!="")return{label:l+"|"+t,value:t}});p(ql).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Ol=u.filter(e=>e.buildingid===f.buildingid).map(e=>{const{unitnumber:t}=e;if(t!="")return{label:t,value:t}});p(Ol).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Pl=u.filter(e=>e.buildingid===f.buildingid).map(e=>{const{community_name:t,communityid:l}=e;if(t!=""&&l!="")return{label:t,value:l}});p(Pl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const $l=u.filter(e=>e.buildingid===f.buildingid).map(e=>{const{projectnameid:t,project_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}});p($l).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Hl=u.filter(e=>e.buildingid===f.buildingid).map(e=>{const{customerid:t,owner_name:l}=e;if(t!=""&&l!="")return{label:l,value:t}});p(Hl).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Ll=u.filter(e=>e.buildingid===f.buildingid).map(e=>{const{email:t,guestname:l}=e;if(t!=""&&l!="")return{label:l+"|"+t,value:t}});p(Ll).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,t)=>e.label.localeCompare(t.label));const Rl=()=>{V(),P("")},Bl=()=>{se(!0)},Il=()=>{se(!1)},Ul=async e=>{try{await al.patch("http://dev-rare.srp.ai/tenantcontract/api/tenantcontractdelete",{_id:e,contractupdation:"terminated"}),U()}catch(t){console.log(t,"error")}};return b(I,{children:[b("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[r&&(r==null?void 0:r._id)&&(r==null?void 0:r.propertyid)&&(r==null?void 0:r.contractupdation)!=="terminated"&&(r==null?void 0:r.contractupdation)!=="renew"?a(pe,{to:`/add-tenantcontract?propertyid=${r==null?void 0:r.propertyid}&renew=renewed&customerid=${r==null?void 0:r.customerid}&contractenddate=${r.contractenddate}`,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:"Renew contract"}):null,r&&(r==null?void 0:r._id)&&(r==null?void 0:r.propertyid)&&(r==null?void 0:r.contractupdation)!=="renew"&&(r==null?void 0:r.contractupdation)!=="terminated"?a("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:Bl,children:"Terminate contract"}):null,b("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>ge(!G),children:[G===!0?a(R,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):a(R,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),a("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),k===!0?a("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",type:"button",onClick:ae,children:"Remove Date Filter"}):null,a(Gl,{filter:$,setFilter:m})]}),a(zl,{showModal:Oe,handleClose:Il,handleTerminateData:Ul,dataId:r}),b("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${G===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:$e,value:$e.filter(function(e){if((n==null?void 0:n.unitnumber)!=="")return e.value===(n==null?void 0:n.unitnumber)}),onChange:e=>{A({target:{name:"unitnumber",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.unitnumber?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,unitnumber:""}),children:"Clear filter"}):null]}),b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:He,value:He.filter(function(e){if((n==null?void 0:n.communityid)!=="")return e.value===(n==null?void 0:n.communityid)}),onChange:e=>{A({target:{name:"communityid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.communityid?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,communityid:""}),children:"Clear filter"}):null]}),b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Le,value:Le.filter(function(e){if((n==null?void 0:n.projectnameid)!=="")return e.value===(n==null?void 0:n.projectnameid)}),onChange:e=>{A({target:{name:"projectnameid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.projectnameid?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,projectnameid:""}),children:"Clear filter"}):null]}),b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Re,value:Re.filter(function(e){if((n==null?void 0:n.buildingid)!=="")return e.value===(n==null?void 0:n.buildingid)}),onChange:e=>{A({target:{name:"buildingid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.buildingid?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,buildingid:""}),children:"Clear filter"}):null]}),b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Property Owner"}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ie,value:Ie.filter(function(e){if((n==null?void 0:n.property_owner_id)!=="")return e.value===(n==null?void 0:n.property_owner_id)}),onChange:e=>{A({target:{name:"property_owner_id",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.property_owner_id?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,property_owner_id:""}),children:"Clear filter"}):null]}),b("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Tenant Name / Email"}),a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Be,value:Be.filter(function(e){if((n==null?void 0:n.owner_email)!=="")return e.value===(n==null?void 0:n.owner_email)}),onChange:e=>{A({target:{name:"owner_email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."}),n!=null&&n.owner_email?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>P({...n,owner_email:""}),children:"Clear filter"}):null]})]}),b("div",{className:`flex ${G===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[a("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>Rl(),children:"Clear filter"}),a("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>me(n),children:"Search"})]}),a(Ml,{showModal:ne,handleClose:ve,loaderModal:M,linkedData:H,handleDeleteData:xe,dataId:r,moduleName:"Tenancy Contract"}),a("div",{className:"overflow-x-auto -mx-6 mt-6",children:a("div",{className:"inline-block min-w-full align-middle",children:a("div",{className:" ",children:b("table",{className:"min-w-[150%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",..._e,children:[a("thead",{className:"bg-slate-200 dark:bg-slate-700",children:Se.map(e=>a("tr",{...e.getHeaderGroupProps(),children:e.headers.map(t=>t.Header==="action"&&!((T==null?void 0:T.readtenant)===!0||(T==null?void 0:T.updatetenant)===!0||(T==null?void 0:T.deletetenant)===!0)?a("th",{}):b("th",{...t.getHeaderProps(t.getSortByToggleProps()),scope:"col",className:"table-th",children:[t.render("Header"),a("span",{children:t.isSorted?t.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),a("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...De,children:de.map(e=>(g(e),a("tr",{...e.getRowProps(),children:e.cells.map(t=>a("td",{...t.getCellProps(),className:"table-td",children:t.render("Cell")}))})))})]})})})}),b("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[b("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[a("select",{className:"form-control py-2 w-max",value:X,onChange:e=>N(Number(e.target.value)),children:[10,25,50].map(e=>b("option",{value:e,children:["Show ",e]},e))}),b("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",b("span",{children:[B+1," of ",ue.length]})]})]}),b("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[a("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${K?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ee(0),disabled:!K,children:a(R,{icon:"heroicons:chevron-double-left-solid"})})}),a("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${K?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>re(),disabled:!K,children:"Prev"})}),ue.map((e,t)=>a("li",{children:a("button",{href:"#","aria-current":"page",className:` ${t===B?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>ee(t),children:e+1})},t)),a("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${Y?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>oe(),disabled:!Y,children:"Next"})}),a("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{onClick:()=>ee(s-1),disabled:!Y,className:` ${Y?"":"opacity-50 cursor-not-allowed"}`,children:a(R,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})},Ql={option:(_,U)=>({..._,fontSize:"14px"})},fa=()=>{const{data:_,error:U,isLoading:T,isFetching:u,isSuccess:V}=Xl(),me=localStorage.getItem("isAuth"),le=JSON.parse(me),{data:F}=sl(le==null?void 0:le.roleid),[je,ae]=x.exports.useState(""),[k,ne]=x.exports.useState(""),[he,M]=x.exports.useState(!1),[D,H]=x.exports.useState(),[qe,r]=x.exports.useState(!1),[be,J]=x.exports.useState(""),[W,fe]=x.exports.useState(""),ce=[{value:"SELECT CONTRACT EXECUTION DATE",label:"SELECT CONTRACT EXECUTION DATE"},{value:"SELECT CONTRACT START DATE",label:"SELECT CONTRACT START DATE"},{value:"SELECT CONTRACT END DATE",label:"SELECT CONTRACT END DATE"}],[Oe,se]=x.exports.useState({startDate:"",endDate:""}),[n,P]=x.exports.useState({startDate:"",endDate:""}),[f,w]=x.exports.useState({startDate:"",endDate:""}),[A,G]=x.exports.useState({startDate:"",endDate:""}),[ge,Q]=x.exports.useState(!1),ve=async s=>{const{startDate:N,endDate:m}=s,g=new Date(N),$=new Date(m),B=k.filter(p=>{const L=new Date(p.contractexecutiondate);return L>=g&&L<=$});let X="Selected Filter Dated are "+new Date(g).toDateString()+" - "+new Date($).toDateString();J(X),H(B),Q(!0),w({startDate:"",endDate:""}),G({startDate:"",endDate:""})},xe=async s=>{const{startDate:N,endDate:m}=s,g=new Date(N),$=new Date(m),B=k.filter(p=>{const L=new Date(p.contractstartdate);return L>=g&&L<=$});let X="Selected Filter Dated are "+new Date(g).toDateString()+" - "+new Date($).toDateString();J(X),H(B),Q(!0),P({startDate:"",endDate:""}),G({startDate:"",endDate:""})},ye=async s=>{const{startDate:N,endDate:m}=s,g=new Date(N),$=new Date(m),B=k.filter(p=>{const L=new Date(p.contractenddate);return L>=g&&L<=$});let X="Selected Filter Dated are "+new Date(g).toDateString()+" - "+new Date($).toDateString();J(X),H(B),Q(!0),P({startDate:"",endDate:""}),w({startDate:"",endDate:""})};x.exports.useEffect(()=>{r(!0),(async()=>{const m=await(await fetch("http://dev-rare.srp.ai/tenantcontract")).json();H(m),ne(m),ae(m),r(!1)})()},[]);const Ne=()=>{r(!0),(async()=>{const m=await(await fetch("http://dev-rare.srp.ai/tenantcontract")).json();H(m),ne(m),ae(m),r(!1)})()},[ie,Ce]=x.exports.useState(0);x.exports.useEffect(()=>{var s,N,m,g,$,B;if(D!=null&&D.length){let X=0;for(let p=0;p<(D==null?void 0:D.length);p++){let L=((s=D[p])==null?void 0:s.rentalamount)&&((N=D[p])==null?void 0:N.rentalamount)!==void 0&&((m=D[p])==null?void 0:m.rentalamount)!=="undefined"&&((g=D[p])==null?void 0:g.rentalamount)!==null&&(($=D[p])==null?void 0:$.rentalamount)!=="null"?parseFloat((B=D[p])==null?void 0:B.rentalamount):0;X+=L}Ce(X)}},[D==null?void 0:D.length]);const _e={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},De={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Se={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#5743BE"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Pe={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},de=_==null?void 0:_.filter(s=>{const N=(s==null?void 0:s.contractend_date)&&(s==null?void 0:s.contractend_date)!=="undefined"&&(s==null?void 0:s.contractend_date)!==void 0&&(s==null?void 0:s.contractend_date)!==null&&(s==null?void 0:s.contractend_date)!=="null"?new Date(s==null?void 0:s.contractend_date):null;return N<=new Date&&N&&N!=="undefined"&&N!==void 0&&N!==null&&N!=="null"&&N.toString()!=="Invalid Date"}).length,oe=new Date,re=new Date;re.setDate(oe.getDate()+90);const Y=_==null?void 0:_.filter(s=>{const N=new Date(s==null?void 0:s.contractstart_date);return N>=oe&&N<=re}).length,K=[{name:_e,title:"Total no of Tenancy Contracts",count:_?_==null?void 0:_.length:0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:De,title:"Expired Contracts",count:de||0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"},{name:Se,title:"Upcoming Contracts in 90 days",count:Y||0,bg:"bg-[#EAE5FF] dark:bg-slate-900	"},{name:Pe,title:"Total Rental Revenue",count:ie?parseFloat(ie).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"}];function ue(s){if(s)if((n==null?void 0:n.startDate)!==""&&(n==null?void 0:n.endDate)!==""||(f==null?void 0:f.startDate)&&(f==null?void 0:f.endDate)||(A==null?void 0:A.startDate)&&(A==null?void 0:A.endDate)){const N=D.filter(m=>{M(!0);let g=!0;return s.buildingid&&m.buildingid!==s.buildingid&&(g=!1),s.communityid&&m.communityid!==s.communityid&&(g=!1),s.projectnameid&&m.projectnameid!==s.projectnameid&&(g=!1),s.unitnumber&&m.unitnumber!==s.unitnumber&&(g=!1),s.owner_email&&m.owner_email!==s.owner_email&&(g=!1),s.property_owner_id&&m.property_owner_id!==s.property_owner_id&&(g=!1),g});H(N),M(!1)}else{const N=k.filter(m=>{M(!0);let g=!0;return s.buildingid&&m.buildingid!==s.buildingid&&(g=!1),s.communityid&&m.communityid!==s.communityid&&(g=!1),s.projectnameid&&m.projectnameid!==s.projectnameid&&(g=!1),s.unitnumber&&m.unitnumber!==s.unitnumber&&(g=!1),s.owner_email&&m.owner_email!==s.owner_email&&(g=!1),s.property_owner_id&&m.property_owner_id!==s.property_owner_id&&(g=!1),g});H(N),w({startDate:"",endDate:""}),G({startDate:"",endDate:""}),P({startDate:"",endDate:""}),J(""),M(!1)}else H(k)}const ke=async()=>{M(!0),H(k),M(!1)},ee=()=>{fe(""),se({startDate:"",endDate:""}),w({startDate:"",endDate:""}),G({startDate:"",endDate:""}),P({startDate:"",endDate:""}),J(""),H(k),Q(!1)};return a(I,{children:qe===!1?a("div",{className:" space-y-5",children:b(nl,{children:[b("div",{className:"flex justify-between items-center mb-6",children:[a("h4",{className:"card-title",children:"All Tenant Contract"}),(F==null?void 0:F.createtenant)===!0&&a(pe,{to:"/add-tenantcontract",className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:"Add new Tenant Contract"})]}),a("div",{className:"grid grid-cols-12 gap-5 mb-5",children:a("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:b(nl,{bodyClass:"p-4",children:[a("div",{className:"flex justify-end items-center mb-[15px]",children:a("div",{className:"flex justify-end items-center ",children:b("div",{className:"flex -gap-x-[5px] items-center",children:[a("div",{className:"w-[300px]",children:a(z,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ce,value:ce.filter(function(s){return s.value===W}),onChange:s=>{fe(s==null?void 0:s.value)},styles:Ql,id:"hh",placeholder:"Select Date filter option..."})}),W&&W==="SELECT CONTRACT EXECUTION DATE"?a("div",{className:"w-[150px]",children:a("div",{className:"date-range-custom relative",children:a(Ee,{value:n,inputClassName:"input-class",containerClassName:"container-class",onChange:ve,placeholder:"SELECT CONTRACT EXECUTION DATE"})})}):null,W&&W==="SELECT CONTRACT START DATE"?a("div",{className:"w-[150px]",children:a("div",{className:"date-range-custom relative",children:a(Ee,{value:f,inputClassName:"input-class",containerClassName:"container-class",onChange:xe,placeholder:"SELECT CONTRACT EXECUTION DATE"})})}):null,W&&W==="SELECT CONTRACT END DATE"?a("div",{className:"w-[150px]",children:a("div",{className:"date-range-custom relative",children:a(Ee,{value:A,inputClassName:"input-class",containerClassName:"container-class",onChange:ye,placeholder:"SELECT CONTRACT EXECUTION DATE"})})}):null]})})}),a("div",{className:"grid md:grid-cols-2 col-span-1 gap-4",children:a(Vl,{statistics:K})})]})})}),T&&u&&(!k||(k==null?void 0:k.length)===0)&&a(cl,{}),U&&a("p",{children:"Not Found"}),V&&_&&(k==null?void 0:k.length)&&a(Jl,{allData:D,onDataUpdate:Ne,dataRole:F,dateFilterActive:ge,handleFilterSearch:ue,handleClearFilter:ke,forFilterData:je,valueEXECUTION:n,valuecontractstar:f,valuecontractenddate:A,removeAllDateFilter:ee})]})}):a(cl,{})})};export{fa as default};
