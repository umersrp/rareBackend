import{R as il,j as n,F as C,bL as Ml,r as f,b as pe,c as r,C as Il,L as M,G as ln,I as R,aq as me,bN as Se,bP as Ul,K as El,T as cl,bW as tn,bX as nn}from"./index.75075c2e.js";import{G as sn}from"./GlobalFilter.472d6507.js";import{D as he}from"./DeleteParagraph.abfc3428.js";const an=il.forwardRef(({indeterminate:H,...T},Q)=>{const o=il.useRef(),U=Q||o;return il.useEffect(()=>{U.current.indeterminate=H},[U,H]),n(C,{children:n("input",{type:"checkbox",ref:U,...T,className:"table-checkbox",indeterminate:H?"true":"false"})})}),be={option:(H,T)=>({...H,fontSize:"14px"})},cn=({showModal:H,handleClose:T,loaderModal:Q,linkedData:o,handleDeleteData:U,dataId:S,moduleName:p,booking:O,managementcontract:P,tenantcontract:x,rentpurchase:_,unitNumber:J,dataRole:m})=>n("div",{className:"thumbnail-container",children:H&&n("div",{className:"modal-overlay-property",children:r("div",{className:"modal-new w-[850px]",children:[r("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[n("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Delete this ${p}?`}),n("img",{src:Ul,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),Q===!0?n(Se,{}):r(C,{children:[o!=null&&o.length?n("div",{className:"data-list-modal",children:r(C,{children:[r("h4",{className:"text-[16px] mb-[10px]",children:[n("span",{className:"font-bold",children:"Property"})," ",J," is linked with the following modules:"]}),O!=null&&O.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Booking: "}),(m==null?void 0:m.deletebooking)===!0?n(C,{children:O==null?void 0:O.map((v,B)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-booking/${v==null?void 0:v._id}?delete=true`,children:[v==null?void 0:v.bookingnumber,B!==O.length-1?",":null]},B+1))}):n(he,{moduleName:p,linkedName:"Booking"})]})})}):null,x!=null&&x.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Tenant Contract: "}),(m==null?void 0:m.deletetenant)===!0?n(C,{children:x==null?void 0:x.map((v,B)=>r(M,{className:" mr-[5px] hover:underline",to:`http://dev-rare.srp.ai/view-tenantcontract/${v==null?void 0:v._id}?delete=true`,children:["TC-"+(v==null?void 0:v._id.slice(0,6)),B!==x.length-1?",":null]},B+1))}):n(he,{moduleName:p,linkedName:"Tenancy Contract"})]})})}):null,_!=null&&_.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Availability Sheet: "}),(m==null?void 0:m.deleteavailability)===!0?n(C,{children:_==null?void 0:_.map((v,B)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-availability-sheet/${v==null?void 0:v._id}?delete=true`,children:["AS-"+(v==null?void 0:v._id.slice(0,6)),B!==_.length-1?",":null]},B+1))}):n(he,{moduleName:p,linkedName:"Availability Sheet"})]})})}):null,P!=null&&P.length?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center",children:[n("span",{className:"font-semibold mr-[5px]",children:"Management Contract: "}),(m==null?void 0:m.deletemanagement)===!0?n(C,{children:P==null?void 0:P.map((v,B)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-managementcontract/${v==null?void 0:v._id}?delete=true`,children:["MC-"+(v==null?void 0:v._id.slice(0,6)),B!==P.length-1?",":null]},B+1))}):n(he,{moduleName:p,linkedName:"Management Contract"})]})})}):null]})}):null,r("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[n(C,{}),n(C,{}),(o==null?void 0:o.length)||(_==null?void 0:_.length)||(x==null?void 0:x.length)||(P==null?void 0:P.length)||(O==null?void 0:O.length)?n("p",{className:" mt-[10px]",children:`This ${p} is already linked. Please first delete these entries which are linked it with`}):null,!(o!=null&&o.length)&&!(_!=null&&_.length)&&!(x!=null&&x.length)&&!(P!=null&&P.length)&&!(O!=null&&O.length)?n("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>U(S),children:"Delete"}):null]})]})]})})}),Tl=({showModal:H,handleClose:T,loaderModal:Q,linkedData:o,DeleteData:U,handleDeleteDatas:S,handleData:p,dataId:O,moduleName:P,tenantcontract:x,rentpurchase:_,unitNumber:J,dataRole:m})=>n("div",{className:"thumbnail-container",children:H&&n("div",{className:"modal-overlay-property",children:r("div",{className:"modal-new w-[850px]",children:[r("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[n("h5",{className:" text-[18px] capitalize",children:p.map(v=>v._id==O)?`Do you like to Make this ${P} in Contract`:`Do you like to Terminate this ${P} Contract ?`}),n("img",{src:Ul,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),Q===!0?n(Se,{}):r(C,{children:[o&&(o==null?void 0:o.length)?n("div",{className:"data-list-modal",children:r(C,{children:[r("h4",{className:"text-[16px] mb-[10px]",children:[n("span",{className:"font-bold",children:"Property"})," ",J," is linked with the following modules:"]}),console.log("==========check==>",x),x&&(x==null?void 0:x.length)?n("ul",{className:" mb-[10px] text-start",children:n("li",{className:"list-disc ml-[30px]",children:r("div",{className:"flex items-center gap-x-[30px]",children:[n("span",{className:"font-semibold mr-[5px]",children:"Tenant Contract: "}),(m==null?void 0:m.deletetenant)===!0?r(C,{children:[x&&(x==null?void 0:x.map((v,B)=>r(M,{className:" mr-[5px] hover:underline",to:`/view-tenantcontract/${v==null?void 0:v._id}?delete=true`,children:["TC-"+(v==null?void 0:v._id.slice(0,6)),B!==x.length-1?",":null]},B+1))),n("div",{className:"flex ",children:n("button",{className:"btn btn  justify-center btn-danger ",onClick:()=>S(U),children:"Delete"})})]}):n(C,{children:n(he,{moduleName:P,linkedName:"Tenancy Contract"})})]})})}):null]})}):null,r("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[(o==null?void 0:o.length)||(_==null?void 0:_.length)||(x==null?void 0:x.length)?n("p",{className:" mt-[10px]",children:`This ${P} is already linked. Please first delete these entries which are linked it with`}):null,!(o!=null&&o.length)&&!(_!=null&&_.length)&&!(x!=null&&x.length)?n("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>S(O),children:"Delete"}):null]})]})]})})}),un=({title:H,linktitle:T,pagelink:Q,allData:o,handleDataUpdate:U,managementData:S,forFilterData:p,handleFilterSearch:O,handleClearFilter:P,filterLoader:x})=>{const _=localStorage.getItem("isAuth"),J=JSON.parse(_),{data:m}=Ml(J==null?void 0:J.roleid),[v,B]=f.exports.useState(!1),[K,G]=f.exports.useState(!1),[L,le]=f.exports.useState(!1),[Ae,ul]=f.exports.useState(""),[$e,dl]=f.exports.useState(""),[Ll,fe]=f.exports.useState(""),[Wl,ge]=f.exports.useState(""),[rl,te]=f.exports.useState(""),[Pe,ne]=f.exports.useState(""),[He,ol]=f.exports.useState(""),[W,Z]=f.exports.useState(""),[s,A]=f.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:""}),[a,pl]=f.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:""});console.log("groupUnits",a,"tenantcontract",rl);const[q,F]=f.exports.useState(""),[ql,ml]=f.exports.useState(""),[X,D]=f.exports.useState(""),[Xl,Vl]=f.exports.useState(""),[V,se]=f.exports.useState(""),[zl,Gl]=f.exports.useState(""),[z,ee]=f.exports.useState(""),[Yl,Ql]=f.exports.useState([]),ae=e=>{const{name:l,value:t}=e.target;A(c=>({...c,[l]:t})),pl(c=>({...c,[l]:t}))};f.exports.useEffect(()=>(a.unitnumber&&(F(a.unitnumber),D(a.unitnumber),se(a.unitnumber),ee(a.unitnumber)),a.customerid&&(Z(a.customerid),F(a.customerid),D(a.customerid),se(a.customerid)),a.communityid&&(Z(a.communityid),D(a.communityid),se(a.communityid),ee(a.communityid)),a.projectnameid&&(Z(a.projectnameid),F(a.projectnameid),se(a.projectnameid),ee(a.projectnameid)),a.buildingid&&(Z(a.buildingid),F(a.buildingid),D(a.buildingid),ee(a.buildingid)),()=>{F(""),D(""),se(""),ee(""),Z("")}),[a]);const w=e=>{const{name:l,value:t}=e.target;a.unitnumber&&(F(a.unitnumber),A({...s,[l]:t}),ml({...s,[l]:t})),a.customerid&&(Z(a.customerid),A({...s,[l]:t}),F(a.customerid)),a.communityid&&(Z(a.communityid),A({...s,[l]:t})),a.projectnameid&&(Z(a.projectnameid),A({...s,[l]:t})),a.buildingid&&(Z(a.buildingid),A({...s,[l]:t}))},ve=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.customerid&&(A({...s,[l]:t}),D(a.customerid)),a.communityid&&(A({...s,[l]:t}),D(a.communityid)),a.buildingid&&A({...s,[l]:t})},xe=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.customerid&&A({...s,[l]:t}),a.communityid&&A({...s,[l]:t}),a.projectnameid&&A({...s,[l]:t})},ye=e=>{const{name:l,value:t}=e.target;a.unitnumber&&A({...s,[l]:t}),a.communityid&&A({...s,[l]:t}),a.projectnameid&&A({...s,[l]:t}),a.buildingid&&A({...s,[l]:t})};function $(e){var c,d;const l={},t=[];for(const u of e){const b=`${(c=u==null?void 0:u.label)==null?void 0:c.trim()}|${(d=u==null?void 0:u.value)==null?void 0:d.trim()}`;l[b]||(t.push(u),l[b]=!0)}return t}const[Ne,Jl]=f.exports.useState(!1),[bl,hl]=f.exports.useState(!1),[fl,Kl]=f.exports.useState([]),[gl,Zl]=f.exports.useState({}),[vl,Rl]=f.exports.useState(!1),[Oe,dn]=f.exports.useState(o),Fl=async e=>{if(B(!0),G(!0),e)try{const l=`http://dev-rare.srp.ai/booking/api/allbooking/forproperty?propertyid=${e==null?void 0:e._id}`,t=`http://dev-rare.srp.ai/managementcontract/api/propertydelete?propertyid=${e==null?void 0:e._id}`,c=`http://dev-rare.srp.ai/tenantcontract/api/propertydelete?propertyid=${e==null?void 0:e._id}`,d=`http://dev-rare.srp.ai/rentpurchase/api/propertydelete?porpertyid=${e==null?void 0:e._id}`,u=await fetch(l);if(!u.ok&&u.status!==400)throw new Error(`API 1 failed with status: ${u.status}`);const b=u.status===400?[]:await u.json(),g=await fetch(t);if(!g.ok&&g.status!==400)throw new Error(`API 2 failed with status: ${g.status}`);const h=g.status===400?[]:await g.json(),N=await fetch(c);if(!N.ok&&N.status!==400)throw new Error(`API 2 failed with status: ${N.status}`);const k=N.status===400?[]:await N.json();console.log("+++++++++++++>",k);const I=await fetch(d);if(!I.ok&&I.status!==400)throw new Error(`API 2 failed with status: ${I.status}`);const E=I.status===400?[]:await I.json(),Y=[...b,...h,...k,...E];b!=null&&b.length?fe(b):fe(""),h!=null&&h.length?ge(h):ge(""),k!=null&&k.length?te(k):te(""),E!=null&&E.length?ne(E):ne(""),ul(Y),dl(e==null?void 0:e._id),ol(e==null?void 0:e.unitnumber),G(!1)}catch(l){console.error("Error fetching data:",l),G(!1)}},xl=async e=>{var l;if(hl(!0),le(!0),e)try{const t=`http://dev-rare.srp.ai/property/activecontract/${e==null?void 0:e._id}`,c=await fetch(t);if(!c.ok&&c.status!==400)throw new Error(`API 1 failed with status: ${c.status}`);const d=c.status===400?[]:await c.json();(l=d.data)!=null&&l.length&&(Kl(d==null?void 0:d.data),Rl(!0)),ul(d.data),dl(e==null?void 0:e._id),Ql(e),ol(e==null?void 0:e.unitnumber),le(!1)}catch(t){console.error("Error fetching data:",t),le(!1)}},Be=()=>{B(!1),hl(!1),fe(""),ge(""),te(""),ne("")},Ce=async(e,l,t)=>{const c=Oe==null?void 0:Oe.map(u=>{const{_id:b,status:g}=u;return{_id:b,status:g}}),d=c==null?void 0:c.filter(u=>u._id==Yl._id).pop();try{Zl(d);const u=await El.put(`http://dev-rare.srp.ai/property/api/status/${d==null?void 0:d._id}?status=${d==null?void 0:d.status}`);console.log("wwwww",u),u.data.status===!0&&(U(),te(""),ne(""))}catch(u){console.log(u,"error")}},Dl=async e=>{try{await El.patch("http://dev-rare.srp.ai/property/api/availability",{_id:e,softdelete:!0}),U(),fe(""),ge(""),te(""),ne("")}catch(l){console.log(l,"error")}},wl=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:l})=>n("span",{children:l.indexOf(e)+1})},{Header:"Status",accessor:"status",Cell:e=>{const{original:l}=e==null?void 0:e.row,{status:t}=l;return n("span",{className:"block w-full",children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${t==="Occupied"?"text-green-500 bg-green-500":t==="Vacant"?"text-blue-500 bg-blue-500":t==="Occupy_Pending"?"text-purple-500 bg-purple-500":"text-red-500 bg-red-500"}`,children:t||"Pending"})})}},{Header:"PropertyType",accessor:"statuss",Cell:e=>{const{original:l}=e==null?void 0:e.row,{propertyType:t}=l;return n("span",{className:"block w-full",children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${t==="Short-term"?"text-green-500 bg-green-500":"text-red-500 bg-red-500"}`,children:t||"Not Available"})})}},{Header:"Listed for",accessor:"propertystatus",Cell:e=>{var t,c,d,u,b,g,h,N,k,I,E,Y,ie,ce,ue,de,re,oe,i;let l;return((t=e==null?void 0:e.cell)==null?void 0:t.value)&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="Multiple"?l=(d=e==null?void 0:e.cell)==null?void 0:d.value:l="Not Available",n(C,{children:((h=(g=(b=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:b.original)==null?void 0:g.multivaluation)==null?void 0:h.length)&&((I=(k=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:k.original)==null?void 0:I.multi_propertyvaluation)&&((E=e==null?void 0:e.cell)==null?void 0:E.value)==="Multiple"?n(C,{children:(ue=(ce=(ie=(Y=e==null?void 0:e.cell)==null?void 0:Y.row)==null?void 0:ie.original)==null?void 0:ce.multivaluation)==null?void 0:ue.map((j,al)=>n("span",{className:`block w-full ${al!==0?"mt-[10px]":""} cursor-pointer`,children:n("span",{onClick:()=>{var $l,Pl,Hl,Ol,Bl;return handleMultiPropertyStatus(j==null?void 0:j.propertystatus,(Pl=($l=e==null?void 0:e.cell)==null?void 0:$l.row)==null?void 0:Pl.original,(Bl=(Ol=(Hl=e==null?void 0:e.cell)==null?void 0:Hl.row)==null?void 0:Ol.original)==null?void 0:Bl._id,al,j==null?void 0:j.un_listed)},className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 
                                                        ${(j==null?void 0:j.propertystatus)==="Not Available"&&(j==null?void 0:j.un_listed)===!1?"text-danger-500 bg-danger-500":"text-success-500 bg-success-500"} `,children:"Listed for"+(j==null?void 0:j.propertystatus)})},al+1))}):n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((de=e==null?void 0:e.cell)==null?void 0:de.value)&&((i=(oe=(re=e==null?void 0:e.cell)==null?void 0:re.row)==null?void 0:oe.original)==null?void 0:i.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:l!=="Not Available"?"Listed for "+l:l})})})}},{Header:"listed / unlisted",accessor:"un_listed",Cell:e=>{var l,t,c,d,u,b,g,h,N,k,I,E,Y,ie,ce,ue,de,re,oe;return n(C,{children:((d=(c=(t=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:d.length)&&((g=(b=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:b.original)==null?void 0:g.propertystatus)==="Multiple"?n(C,{children:(I=(k=(N=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:N.original)==null?void 0:k.multivaluation)==null?void 0:I.map((i,j)=>n(C,{children:(i==null?void 0:i.propertystatus)==="Rent"?r(C,{children:[(i==null?void 0:i.contract_enddate)&&new Date(i==null?void 0:i.contract_enddate)>new Date&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"bg-info-500 text-info-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"upcoming"})},j+1):null,(i==null?void 0:i.contract_enddate)&&new Date(i==null?void 0:i.contract_enddate)<=new Date&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},j+1):null,((i==null?void 0:i.contract_enddate)===""||!(i!=null&&i.contract_enddate))&&(i==null?void 0:i.un_listed)===!1?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},j+1):null,(new Date(i==null?void 0:i.contract_enddate)<=new Date||new Date(i==null?void 0:i.contract_enddate)>new Date||(i==null?void 0:i.contract_enddate)===""||!(i!=null&&i.contract_enddate))&&(i==null?void 0:i.un_listed)===!0?n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:"unlisted"})},j+1):null]}):n("span",{className:`block w-full ${j!==0?"mt-[10px]":""} `,children:n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(i==null?void 0:i.un_listed)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(i==null?void 0:i.un_listed)===!0?"text-danger-500 bg-danger-500":""}`,children:(i==null?void 0:i.un_listed)===!0?"unlisted":"listed"})},j+1)}))}):n("span",{className:"block w-full",children:(ie=(Y=(E=e==null?void 0:e.cell)==null?void 0:E.row)==null?void 0:Y.original)!=null&&ie.propertystatus?n("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((ce=e==null?void 0:e.cell)==null?void 0:ce.value)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                         ${((de=(ue=e==null?void 0:e.cell)==null?void 0:ue.row)==null?void 0:de.original.unlisted)===!0?"text-danger-500 bg-danger-500":"text-success-500 bg-success-500"}`,children:((oe=(re=e==null?void 0:e.cell)==null?void 0:re.row)==null?void 0:oe.original.unlisted)===!0?"Unlisted":"listed"}):n("span",{className:"inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500",children:"No"})})})}},{Header:"Unit Number",accessor:"unitnumber",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var l,t;return n("div",{children:n("span",{className:"inline-flex items-center",children:n("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})})})}},{Header:"Owner Representative",accessor:"owner_representative_name",Cell:e=>{var l,t;return n("div",{children:n("span",{className:"inline-flex items-center",children:n("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})})})}},{Header:"Project Name",accessor:"project_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"building name",accessor:"building_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"community name",accessor:"community_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"sub type name",accessor:"subtype_name",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"usage",accessor:"usage",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"plot size",accessor:"plotsize",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"build up area",accessor:"builduparea",Cell:e=>{var l,t,c,d,u,b,g,h,N;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?((t=e==null?void 0:e.cell)==null?void 0:t.value)+" "+(((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((b=(u=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:u.original)==null?void 0:b.measure_units)?(N=(h=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:h.original)==null?void 0:N.measure_units:""):"Not Available"})}},{Header:"owner association",accessor:"ownerassociation",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no bathroom",accessor:"nobathroom",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"half bathroom",accessor:"halfbathroom",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"furnished",accessor:"furnished",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"kitchen",accessor:"kitchen",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no parking",accessor:"noparking",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"balcony",accessor:"balcony",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"dewa premises",accessor:"dewapremises",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"district",accessor:"district",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"parking bay",accessor:"parkingbay",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"property view",accessor:"propertyview",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"purchase date",accessor:"purchasedate",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"Total no of OWNER NAME DEED",accessor:"no_ownernamedeed",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"purchase value",accessor:"purchasevaue",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((t=e==null?void 0:e.cell)==null?void 0:t.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})}},{Header:"Title Deed Document",accessor:"titledeeddocument",Cell:e=>{var l,t,c,d,u,b,g,h,N,k,I,E,Y;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==void 0&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==null&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!=="undefined"&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="null"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((g=e==null?void 0:e.cell)==null?void 0:g.value)&&((h=e==null?void 0:e.cell)==null?void 0:h.value)!==""&&((N=e==null?void 0:e.cell)==null?void 0:N.value)!==void 0&&((k=e==null?void 0:e.cell)==null?void 0:k.value)!==null&&((I=e==null?void 0:e.cell)==null?void 0:I.value)!=="undefined"&&((E=e==null?void 0:e.cell)==null?void 0:E.value)!=="null"?n("a",{className:"flex gap-x-[5px] items-center",href:(Y=e==null?void 0:e.cell)==null?void 0:Y.value,target:"_blank",children:"veiw documents"}):"Not Available"})})}},{Header:"Youtube Video",accessor:"youtubelink",Cell:e=>{var l,t,c,d,u;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?r("a",{className:"flex gap-x-[5px] items-center",href:(u=e==null?void 0:e.cell)==null?void 0:u.value,target:"_blank",children:[n(R,{icon:"heroicons-outline:eye"}),"View Video"]}):"Not Available"})})}},{Header:"Google location",accessor:"propertylocation",Cell:e=>{var l,t,c,d,u;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==""?r("a",{className:"flex gap-x-[5px] items-center",href:(u=e==null?void 0:e.cell)==null?void 0:u.value,target:"_blank",children:[n(R,{icon:"heroicons-outline:eye"}),"View Location"]}):"Not Available"})})}},{Header:"total bathroom",accessor:"totalbathroom",Cell:e=>{var l,t,c,d,u,b,g;return n(C,{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?n("span",{children:((d=e==null?void 0:e.cell)==null?void 0:d.value)&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!==void 0&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"?(g=e==null?void 0:e.cell)==null?void 0:g.value:"Not Available"}):n("span",{className:"block w-full",children:n("span",{className:" inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500 ",children:"Missing"})})})}},{Header:"total bedroom",accessor:"totalbedroom",Cell:e=>{var l,t,c,d,u,b,g;return n(C,{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((t=e==null?void 0:e.cell)==null?void 0:t.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!=="undefined"?n("span",{children:((d=e==null?void 0:e.cell)==null?void 0:d.value)&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!==void 0&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"?(g=e==null?void 0:e.cell)==null?void 0:g.value:"Not Available"}):n("span",{className:"block w-full",children:n("span",{className:" inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 text-danger-500 bg-danger-500 ",children:"Missing"})})})}},{Header:"street number",accessor:"streetnumber",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"maid room",accessor:"maidroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"store room",accessor:"storeroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"bed room en suite",accessor:"bedroomensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"bath room en suite",accessor:"bathroomensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"driver room",accessor:"driverroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"other room",accessor:"otherroom",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"en suite",accessor:"ensuite",Cell:e=>{var l;return n("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"Available":"Not Available"})}},{Header:"property images",accessor:"propertyimages",Cell:e=>{var l,t,c,d,u,b,g,h,N,k;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((g=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:g.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((h=e==null?void 0:e.cell)==null?void 0:h.value[0])===""?"0":(k=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:k.length})})}},{Header:"floor plan images",accessor:"floorplan",Cell:e=>{var l,t,c,d,u,b,g,h,N,k;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((g=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:g.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((h=e==null?void 0:e.cell)==null?void 0:h.value[0])===""?"0":(k=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:k.length})})}},{Header:"unit plan attachment",accessor:"unitplanattachment",Cell:e=>{var l,t,c,d,u,b,g,h,N,k;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((g=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:g.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((h=e==null?void 0:e.cell)==null?void 0:h.value[0])===""?"0":(k=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:k.length})})}},{Header:"plot plan attachment",accessor:"plotplanattachment",Cell:e=>{var l,t,c,d,u,b,g,h,N,k;return n("span",{className:"block w-full",children:n("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((t=(l=e==null?void 0:e.cell)==null?void 0:l.value)==null?void 0:t.length)===0||((c=e==null?void 0:e.cell)==null?void 0:c.value[0])===""?"text-danger-500 bg-danger-500":((u=(d=e==null?void 0:e.cell)==null?void 0:d.value)==null?void 0:u.length)>0&&((g=(b=e==null?void 0:e.cell)==null?void 0:b.value)==null?void 0:g.length)<10?"badge bg-info-500 text-info-500 bg-opacity-[0.12] pill":"text-success-500 bg-success-500"} `,children:((h=e==null?void 0:e.cell)==null?void 0:h.value[0])===""?"0":(k=(N=e==null?void 0:e.cell)==null?void 0:N.value)==null?void 0:k.length})})}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var l,t;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var l,t;return n("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var l,t;return n("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{const l=localStorage.getItem("isAuth"),t=JSON.parse(l),{data:c}=Ml(t==null?void 0:t.roleid);if(!c)return null;const d=(c==null?void 0:c.readpropert)===!0,u=(c==null?void 0:c.updatepropert)===!0,b=(c==null?void 0:c.deletepropert)===!0;return r("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[d&&n(cl,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:n(M,{className:"action-btn",to:`/view-property/${e==null?void 0:e.cell.value}`,type:"button",children:n(R,{icon:"heroicons:eye"})})}),u&&n(cl,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:n(M,{to:`/update-property/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:n(R,{icon:"heroicons:pencil-square"})})}),b&&n(cl,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:n("button",{className:"action-btn",type:"button",onClick:()=>{var g,h;return Fl((h=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:h.original)},children:n(R,{icon:"heroicons:trash"})})})]})}}],et=f.exports.useMemo(()=>wl,[]),lt=f.exports.useMemo(()=>o),[y,yl]=f.exports.useState(""),[Nl,Me]=f.exports.useState(!1),[rn,Cl]=f.exports.useState(!1),[kl,_l]=f.exports.useState(!1),[jl,tt]=f.exports.useState();f.exports.useEffect(()=>{var l,t;let e=0;for(let c=0;c<(o==null?void 0:o.length);c++){let d=parseFloat((l=o[c])!=null&&l.purchasevaue?(t=o[c])==null?void 0:t.purchasevaue:0);e+=d}tt(e)},[o==null?void 0:o.length]);const nt={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},st={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},at={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#5743BE"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},it=[{name:nt,title:"Managed Properties",count:S!=null&&S.length?S==null?void 0:S.length:0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:st,title:"Non-Managed Properties",count:(S==null?void 0:S.length)&&(o==null?void 0:o.length)?Math.abs((S==null?void 0:S.length)-(o==null?void 0:o.length)):0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"},{name:at,title:"Total Properties Purchase Valuation",count:jl?jl.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#EAE5FF] dark:bg-slate-900	"}];f.exports.useEffect(()=>{Me(!1),yl(""),Cl(!1)},[o]);const ct=pe.exports.useTable({columns:et,data:lt,initialState:{pageIndex:0,pageSize:50}},pe.exports.useGlobalFilter,pe.exports.useSortBy,pe.exports.usePagination,pe.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:t})=>n("div",{children:n(an,{...t()})}),Cell:({row:t})=>{var g;const[c,d]=f.exports.useState(""),u=h=>{h!=null&&h._id?Me(!0):Me(!1),d(N=>N===h?"":h),yl(N=>N===h?"":h),(h==null?void 0:h.available_id)&&(h==null?void 0:h.available_id)!=="000000000000000000000000"?_l(!0):_l(!1)},b=((g=t==null?void 0:t.original)==null?void 0:g._id)===(c==null?void 0:c._id);return f.exports.useEffect(()=>{Cl(b)},[b]),n("div",{children:n("input",{type:"checkbox",...t.getToggleRowSelectedProps(),checked:b,onChange:()=>u(t.original),className:"table-checkbox"})})}},...l])}),{getTableProps:ut,getTableBodyProps:dt,headerGroups:rt,footerGroups:on,page:ot,nextPage:pt,previousPage:mt,canNextPage:ke,canPreviousPage:_e,pageOptions:Sl,state:bt,gotoPage:Ie,pageCount:ht,setPageSize:ft,setGlobalFilter:gt,prepareRow:vt}=ct,{globalFilter:xt,pageIndex:Al,pageSize:yt}=bt,Ee=[...new Set(p.map(e=>e.unitnumber))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Nt=p.filter(e=>e.community_name!==void 0),Ct=[...new Set(Nt.map(e=>e.communityid))],kt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),_t=p.filter(e=>e.communityid===ql.communityid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),jt=p.filter(e=>e.projectnameid===Xl.projectnameid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),St=p.filter(e=>e.buildingid===zl.buildingid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}});$(kt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(_t).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(jt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$(St).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const At=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Te=$(At).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$t=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),Ue=$($t).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Pt=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Le=$(Pt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ht=p.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),We=$(Ht).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ot=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),je=$(Ot).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Bt=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),qe=$(Bt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Mt=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Xe=$(Mt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),It=p.filter(e=>e.buildingid===a.buildingid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Ve=$(It).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Et=p.filter(e=>e.communityid===a.communityid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Tt=p.filter(e=>e.communityid===a.communityid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Ut=p.filter(e=>e.communityid===a.communityid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Lt=p.filter(e=>e.communityid===a.communityid).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),ze=$(Et).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ge=$(Tt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ye=$(Ut).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=$(Lt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Wt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),qt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Xt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Vt=p.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{customerid:l,owner_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),zt=$(Wt),Gt=$(qt),Yt=$(Xt),Qt=$(Vt),Je=zt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ke=Gt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ze=Yt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Re=Qt.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Jt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Kt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{community_name:l,communityid:t}=e;if(l!=""&&t!="")return{label:l,value:t}}),Zt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{projectnameid:l,project_name:t}=e;if(l!=""&&t!="")return{label:t,value:l}}),Rt=p.filter(e=>e.customerid===a.customerid).map(e=>{const{building_name:l,buildingid:t}=e;if(t!=""&&l!="")return{label:l,value:t}}),Fe=$(Jt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),De=$(Kt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=$(Zt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=$(Rt).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ll=[...Ct.map(e=>{const l=p.find(t=>t.communityid===e);return l?{label:l.community_name,value:l.communityid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ft=p.filter(e=>e.project_name!==void 0),tl=[...[...new Set(Ft.map(e=>e.projectnameid))].map(e=>{const l=p.find(t=>t.projectnameid===e);return l?{label:l.project_name,value:l.projectnameid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Dt=p.filter(e=>e.building_name!==void 0),nl=[...[...new Set(Dt.map(e=>e.buildingid))].map(e=>{const l=p.find(t=>t.buildingid===e);return l?{label:l.building_name,value:l.buildingid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),wt=p.filter(e=>e.owner_name!==void 0),sl=[...[...new Set(wt.map(e=>e.customerid))].map(e=>{const l=p.find(t=>t.customerid===e);return l?{label:l.owner_name,value:l.customerid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),en=()=>{P(),F(""),pl(""),ml(""),D(""),Vl(""),A(""),ee(""),Gl("")};return n(C,{children:r(Il,{children:[r("div",{className:"flex justify-between items-center mb-6",children:[n("h4",{className:"card-title",children:H}),(m==null?void 0:m.createpropert)===!0?n(M,{to:Q,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:T}):null]}),n("div",{className:"grid grid-cols-12 gap-5 mb-5",children:n("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:n(Il,{bodyClass:"p-4",children:n("div",{className:"grid md:grid-cols-3 col-span-1 gap-4",children:n(ln,{statistics:it})})})})}),r("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[(m==null?void 0:m.createavailability)===!0&&(m==null?void 0:m.updateavailability)===!0?r(C,{children:[y&&((y==null?void 0:y.unlisted)!==!0||(y==null?void 0:y.unlisted)===!1)&&Nl===!0&&kl===!1?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Rent`,children:"For Rent"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Sale`,children:"For Sale"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Short Term`,children:"Short Term"})]}):null,y&&(y==null?void 0:y.unlisted)===!0&&Nl===!0&&kl===!0?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Rent`,children:"For Rent"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Sale`,children:"For Sale"}),n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",to:`/add-availability-sheet?propertyid=${y==null?void 0:y._id}&valuation=Short Term`,children:"Short Term"})]}):null]}):null,r("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>Jl(!Ne),children:[Ne===!0?n(R,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):n(R,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),n("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),n(sn,{filter:xt,setFilter:gt})]}),r("div",{className:"md:flex justify-start items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[console.log("lklk",(m==null?void 0:m.deletepropert)===!0),(m==null?void 0:m.deletepropert)===!0?n(C,{children:y.status==="Occupied"?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:e=>{vl===!0?Ce():xl(y)},children:"For Vacant"}),n(Tl,{showModal:bl,handleData:o,DeleteData:gl,handleClose:Be,unitNumber:He,loaderModal:L,linkedData:Ae,handleDeleteDatas:Ce,dataId:$e,moduleName:"Property",tenantcontract:fl,rentpurchase:Pe,dataRole:m})]}):y.status==="Vacant"?r(C,{children:[n(M,{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:()=>{vl===!0?Ce():xl(y)},children:"For Occupied"}),n(Tl,{showModal:bl,handleData:o,DeleteData:gl,handleClose:Be,unitNumber:He,loaderModal:L,linkedData:Ae,handleDeleteDatas:Ce,dataId:$e,moduleName:"Property",tenantcontract:fl,rentpurchase:Pe,dataRole:m})]}):null}):null]}),r("div",{className:`xl:grid-cols-5 grid gap-5 grid-cols-1 ${Ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove pointer-events-none -mt-4"}`,children:[r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."}),console.log("sortedunitsbybuilding",je),n(me,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:W?a.communityid&&W?ze:a.projectnameid&&W?Te:a.buildingid&&W?je:Fe:Ee,value:W?a.communityid&&W?ze&&ze.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):a.projectnameid&&W?Te&&Te.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):a.buildingid&&W?je&&je.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):Fe&&Fe.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}):Ee&&Ee.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}),onChange:e=>{W?a.communityid&&W?w({target:{name:"unitnumber",value:e.value}}):a.projectnameid&&W?w({target:{name:"unitnumber",value:e.value}}):a.buildingid&&W?w({target:{name:"unitnumber",value:e.value}}):w({target:{name:"unitnumber",value:e.value}}):ae({target:{name:"unitnumber",value:e.value}})},styles:be,id:"hh",placeholder:"Select..."}),s!=null&&s.unitnumber?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,unitnumber:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),n(me,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:q?a.customerid&&q?De:a.projectnameid&&q?Ue:a.buildingid&&q?qe:Je:ll,value:q?a.customerid&&q?De&&De.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):a.projectnameid&&q?Ue&&Ue.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):a.buildingid&&q?qe&&qe.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):Je&&Je.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}):ll&&ll.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}),onChange:e=>{q?w({target:{name:"communityid",value:e.value}}):a.customerid&&q?w({target:{name:"communityid",value:e.value}}):a.projectnameid&&q?w({target:{name:"communityid",value:e.value}}):a.buildingid&&q?w({target:{name:"communityid",value:e.value}}):ae({target:{name:"communityid",value:e.value}})},styles:be,id:"hh",placeholder:"Select..."}),s!=null&&s.communityid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,communityid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),n(me,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:X?a.customerid&&X?we:a.communityid&&X?Ge:a.buildingid&&X?Xe:Ke:tl,value:X?a.customerid&&X?we&&we.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):a.communityid&&X?Ge&&Ge.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):a.buildingid&&X?Xe&&Xe.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):Ke&&Ke.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}):tl&&tl.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}),onChange:e=>{X?a.customerid&&X?ve({target:{name:"projectnameid",value:e.value}}):a.communityid&&X?ve({target:{name:"projectnameid",value:e.value}}):a.buildingid&&X?ve({target:{name:"projectnameid",value:e.value}}):ve({target:{name:"projectnameid",value:e.value}}):ae({target:{name:"projectnameid",value:e.value}})},styles:be,id:"hh",placeholder:"Select..."}),s!=null&&s.projectnameid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,projectnameid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),n(me,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:V?a.customerid&&V?el:a.communityid&&V?Ye:a.projectnameid&&V?Le:Ze:nl,value:V?a.customerid&&V?el&&el.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):a.communityid&&V?Ye&&Ye.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):a.projectnameid&&V?Le&&Le.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):Ze&&Ze.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}):nl&&nl.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}),onChange:e=>{V?a.customerid&&V?xe({target:{name:"buildingid",value:e.value}}):a.communityid&&V?xe({target:{name:"buildingid",value:e.value}}):a.projectnameid&&V?xe({target:{name:"buildingid",value:e.value}}):xe({target:{name:"buildingid",value:e.value}}):ae({target:{name:"buildingid",value:e.value}})},styles:be,id:"hh",placeholder:"Select..."}),s!=null&&s.buildingid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,buildingid:""}),children:"Clear filter"}):null]}),r("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"}),n(me,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:z?a.communityid&&z?Qe:a.projectnameid&&z?We:a.buildingid&&z?Ve:Re:sl,value:z?a.communityid&&z?Qe&&Qe.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):a.projectnameid&&z?We&&We.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):a.buildingid&&z?Ve&&Ve.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):Re&&Re.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}):sl&&sl.filter(function(e){if((s==null?void 0:s.customerid)!=="")return e.value===(s==null?void 0:s.customerid)}),onChange:e=>{z?a.communityid&&z?ye({target:{name:"customerid",value:e.value}}):a.projectnameid&&z?ye({target:{name:"customerid",value:e.value}}):a.buildingid&&z?ye({target:{name:"customerid",value:e.value}}):ye({target:{name:"customerid",value:e.value}}):ae({target:{name:"customerid",value:e.value}})},styles:be,id:"hh",placeholder:"Select..."}),s!=null&&s.customerid?n("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>A({...s,customerid:""}),children:"Clear filter"}):null]})]}),r("div",{className:`flex ${Ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove pointer-events-none mt-0"} justify-end gap-x-[10px]`,children:[n("button",{className:"btn btn-secondary  text-center",type:"button",onClick:en,children:"Clear filter"}),n("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>O(s),children:"Search"})]}),n(cn,{showModal:v,handleClose:Be,unitNumber:He,loaderModal:K,linkedData:Ae,handleDeleteData:Dl,dataId:$e,moduleName:"Property",booking:Ll,managementcontract:Wl,tenantcontract:rl,rentpurchase:Pe,dataRole:m}),n("div",{className:"overflow-x-auto -mx-6 mt-6",children:n("div",{className:"inline-block min-w-full align-middle",children:n("div",{className:"",children:r("table",{className:"min-w-[140%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...ut,children:[n("thead",{className:"bg-slate-200 dark:bg-slate-700",children:rt.map(e=>n("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((m==null?void 0:m.readpropert)===!0||(m==null?void 0:m.updatepropert)===!0||(m==null?void 0:m.deletepropert)===!0)?n("th",{}):r("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),n("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),x===!0?n("div",{className:"pl-[10px]",children:n(Se,{})}):n("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...dt,children:ot.map(e=>(vt(e),n("tr",{...e.getRowProps(),children:e.cells.map(l=>n("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")}))})))})]})})})}),r("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[r("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[n("select",{className:"form-control py-2 w-max",value:yt,onChange:e=>ft(Number(e.target.value)),children:[50,100,200].map(e=>r("option",{value:e,children:["Show ",e]},e))}),r("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",r("span",{children:[Al+1," of ",Sl.length]})]})]}),r("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[n("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Ie(0),disabled:!_e,children:n(R,{icon:"heroicons:chevron-double-left-solid"})})}),n("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>mt(),disabled:!_e,children:"Prev"})}),Sl.map((e,l)=>n("li",{children:n("button",{href:"#","aria-current":"page",className:` ${l===Al?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>Ie(l),children:e+1})},l)),n("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{className:` ${ke?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>pt(),disabled:!ke,children:"Next"})}),n("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:n("button",{onClick:()=>Ie(ht-1),disabled:!ke,className:` ${ke?"":"opacity-50 cursor-not-allowed"}`,children:n(R,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})})},An=()=>{const{data:H,isSuccess:T}=tn(),[Q,o]=f.exports.useState(!1),[U,S]=f.exports.useState(""),[p,O]=f.exports.useState(""),{data:P}=nn(),[x,_]=f.exports.useState(!1);f.exports.useEffect(()=>{o(!0),T&&H&&(S(H),O(H),o(!1))},[T,H]);const J=async()=>{o(!0);const G=await(await fetch("http://dev-rare.srp.ai/property/api/connectdb")).json();S(G),o(!1)};function m(K){let G="http://dev-rare.srp.ai/property/api/advancesearch?";for(const L in K)K[L]&&(G+=`${L}=${K[L]}&`);return G.slice(0,-1)}const v=async K=>{if(K){_(!0);try{const G=m(K),L=await fetch(G);if(!L.ok&&L.status!==400)throw new Error(`API 1 failed with status: ${L.status}`);const le=L.status===400?[]:await L.json();S(le),_(!1)}catch{S(H),_(!1)}}else S(H)},B=()=>{S(H)};return r(C,{children:[n(C,{}),Q===!1&&T&&H&&(p==null?void 0:p.length)?n("div",{className:" space-y-5",children:n(un,{pagelink:"/add-property",linktitle:"Add new Property",title:"All Property",allData:U,filterLoader:x,handleDataUpdate:J,handleFilterSearch:v,handleClearFilter:B,forFilterData:p,managementData:P})}):n(Se,{})]})};export{An as default};
