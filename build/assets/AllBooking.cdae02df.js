import{R as Cl,j as t,F as P,y as kn,r as d,L as ee,I as K,am as X,c9 as Sl,s as An,G as ii,c8 as ai,cn as En,C as ni}from"./index.baa22cf8.js";import{G as Sn}from"./group-chart-1.e5e0d80b.js";import{D as kl}from"./index.esm.1fd6752e.js";import{N as Tn}from"./not-found.46bdbc04.js";import{r as Se}from"./index.4b93aa2c.js";import{G as On}from"./GlobalFilter.356989a9.js";import{T as Te}from"./Tooltip.b3b2bab5.js";import{E as jn,u as Al,w as Ln}from"./jspdf.plugin.autotable.2ad87b4e.js";import{c as Hn}from"./calendar.6b75ea36.js";import"./jspdf.es.min.b640128c.js";import"./html2canvas.esm.0eae2bf4.js";import{M as ti}from"./Modal.280d743c.js";import{D as _n}from"./DeleteModal.7f51e4db.js";import"./react-apexcharts.min.530e6852.js";/* empty css                     */var o="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBookingTable.jsx";const In=Cl.forwardRef(({indeterminate:H,...U},I)=>{const s=Cl.useRef(),z=I||s;return Cl.useEffect(()=>{z.current.indeterminate=H},[z,H]),t(P,{children:t("input",{type:"checkbox",ref:z,...U,className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:42,columnNumber:17},void 0)},void 0,!1)}),Z={option:(H,U)=>({...H,fontSize:"14px"})},Bn=({showModal:H})=>t("div",{className:"thumbnail-container",children:H&&t("div",{className:"modal-overlay-property align-center-important",children:t("div",{className:"w-[300px]",children:[t("div",{className:"mb-3",children:t("img",{className:" w-[100%]",src:An,alt:"Logo"},void 0,!1,{fileName:o,lineNumber:71,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:70,columnNumber:25},void 0),t("svg",{className:"animate-spin  h-12 w-12 m-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t("circle",{className:"opacity-25 text-white",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:o,lineNumber:80,columnNumber:29},void 0),t("path",{className:"opacity-75 text-white",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:o,lineNumber:88,columnNumber:29},void 0)]},void 0,!0,{fileName:o,lineNumber:73,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:65,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:64,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:62,columnNumber:9},void 0),Rn=({allBooking:H,handleDataUpdate:U,dataRole:I,forFilterData:s,handleFilterSearch:z,handleClearFilter:V,filterLoader:J,dataFilterActive:g,removeDateFilter:M,typeOfBooking:le,selectedtypeOfBooking:D,setSelectedtypeOfBooking:Be})=>{const be=window.location.origin,F=kn(),[ie,Oe]=d.exports.useState(!1),[ne,$]=d.exports.useState(!1),[fe,Re]=d.exports.useState(""),[Pe,ve]=d.exports.useState("");d.exports.useState("");const[Ue,je]=d.exports.useState(!1),[S,L]=d.exports.useState(""),[i,r]=d.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:"",email:"",bookingagent:""}),[a,Le]=d.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",customerid:"",email:"",bookingagent:""});console.log("groupUnits",a);const[T,C]=d.exports.useState(""),[Tl,Ne]=d.exports.useState(""),[k,G]=d.exports.useState(""),[Ol,Me]=d.exports.useState(""),[A,Y]=d.exports.useState(""),[jl,Ge]=d.exports.useState(""),[c,y]=d.exports.useState(""),[f,p]=d.exports.useState(""),[h,E]=d.exports.useState(""),_=e=>{const{name:l,value:n}=e.target;r(u=>({...u,[l]:n})),Le(u=>({...u,[l]:n}))};d.exports.useEffect(()=>(a.unitnumber&&(C(a.unitnumber),G(a.unitnumber),Y(a.unitnumber),y(a.unitnumber),p(a.unitnumber),E(a.unitnumber)),a.customerid&&(L(a.customerid),C(a.customerid),G(a.customerid),Y(a.customerid),p(a.customerid),E(a.customerid)),a.communityid&&(L(a.communityid),G(a.communityid),Y(a.communityid),y(a.communityid),p(a.communityid),E(a.communityid)),a.projectnameid&&(L(a.projectnameid),C(a.projectnameid),Y(a.projectnameid),y(a.projectnameid),p(a.projectnameid),E(a.projectnameid)),a.buildingid&&(L(a.buildingid),C(a.buildingid),G(a.buildingid),y(a.buildingid),p(a.buildingid),E(a.buildingid)),a.email&&(L(a.email),C(a.email),G(a.email),Y(a.email),y(a.email),p(a.email)),a.bookingagent&&(L(a.bookingagent),C(a.bookingagent),G(a.bookingagent),Y(a.bookingagent),y(a.bookingagent)),()=>{C(""),G(""),Y(""),y(""),p(""),L("")}),[a]);const W=e=>{const{name:l,value:n}=e.target;a.unitnumber&&(C(a.unitnumber),r({...i,[l]:n}),Ne({...i,[l]:n})),a.customerid&&(L(a.customerid),r({...i,[l]:n}),C(a.customerid)),a.communityid&&(L(a.communityid),r({...i,[l]:n})),a.projectnameid&&(L(a.projectnameid),r({...i,[l]:n})),a.buildingid&&(L(a.buildingid),r({...i,[l]:n})),a.email&&(L(a.email),r({...i,[l]:n})),a.bookingagent&&(L(a.bookingagent),r({...i,[l]:n}))},te=e=>{const{name:l,value:n}=e.target;a.unitnumber&&r({...i,[l]:n}),a.customerid&&(r({...i,[l]:n}),G(a.customerid)),a.communityid&&(r({...i,[l]:n}),G(a.communityid)),a.buildingid&&r({...i,[l]:n}),a.email&&r({...i,[l]:n}),a.bookingagent&&r({...i,[l]:n})},ae=e=>{const{name:l,value:n}=e.target;a.unitnumber&&r({...i,[l]:n}),a.customerid&&r({...i,[l]:n}),a.communityid&&r({...i,[l]:n}),a.projectnameid&&r({...i,[l]:n}),a.email&&r({...i,[l]:n}),a.bookingagent&&r({...i,[l]:n})},oe=e=>{const{name:l,value:n}=e.target;a.unitnumber&&r({...i,[l]:n}),a.communityid&&r({...i,[l]:n}),a.projectnameid&&r({...i,[l]:n}),a.buildingid&&r({...i,[l]:n}),a.email&&r({...i,[l]:n}),a.bookingagent&&r({...i,[l]:n})},me=e=>{const{name:l,value:n}=e.target;a.email&&r({...i,[l]:n}),a.unitnumber&&r({...i,[l]:n}),a.communityid&&r({...i,[l]:n}),a.projectnameid&&r({...i,[l]:n}),a.buildingid&&r({...i,[l]:n}),a.bookingagent&&r({...i,[l]:n})},oi=async e=>{Oe(!0),ve(e)},We=e=>{const{name:l,value:n}=e.target;a.email&&r({...i,[l]:n}),a.unitnumber&&r({...i,[l]:n}),a.communityid&&r({...i,[l]:n}),a.projectnameid&&r({...i,[l]:n}),a.buildingid&&r({...i,[l]:n}),a.bookingagent&&r({...i,[l]:n})},mi=()=>{Oe(!1)},ci=async e=>{try{await ii.patch("http://stg.srp.ai/booking/api/updatebooking",{_id:e,softdelete:!0}),U()}catch(l){console.log(l,"error")}};function N(e){var u,b;const l={},n=[];for(const m of e){const j=`${(u=m==null?void 0:m.label)==null?void 0:u.trim()}|${(b=m==null?void 0:m.value)==null?void 0:b.trim()}`;l[j]||(n.push(m),l[j]=!0)}return n}const[He,ui]=d.exports.useState(!1),si=async e=>{const n=`http://stg.srp.ai/property/${e.propertyid}`,u=await ii.get(`${n}`);if(console.log("proData",u),u.statusText==="OK"&&u.status===200){const{propertyimages:b,propertylocation:m,subtype:j}=u.data,B={propertyimages:b.length>0?b[0]:null,propertylocation:m,subtype:j};F("/bookingsd",{state:{data:e,obj:B}})}},di=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:l})=>t("span",{children:l.indexOf(e)+1},void 0,!1,{fileName:o,lineNumber:512,columnNumber:24},void 0)},{Header:"Booking Number",accessor:"bookingnumber",Cell:e=>{var l,n,u,b,m,j,B,O,R,q,Q;return t(P,{children:be==="http://127.0.0.1:5173"||be==="http://stg.srp.ai"||be==="http://127.0.0.1:5174"?t(ee,{to:`/view-booking/${(u=(n=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:n.original)==null?void 0:u._id}`,children:(b=e==null?void 0:e.cell)!=null&&b.value?((j=(m=e==null?void 0:e.cell)==null?void 0:m.value)==null?void 0:j.slice(0,15))+(((B=e==null?void 0:e.cell)==null?void 0:B.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:523,columnNumber:33},void 0):t("span",{children:(O=e==null?void 0:e.cell)!=null&&O.value?((q=(R=e==null?void 0:e.cell)==null?void 0:R.value)==null?void 0:q.slice(0,15))+(((Q=e==null?void 0:e.cell)==null?void 0:Q.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:524,columnNumber:33},void 0)},void 0,!1)}},{Header:"Booking Status",accessor:"cancelled",Cell:e=>{var l,n,u;return t("span",{className:"block w-full",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)===!1?"text-success-500 bg-success-500":""} 
            ${((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-danger-500 bg-danger-500":""}
            
             `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)===!0?"Cancelled":"Approved"},void 0,!1,{fileName:o,lineNumber:536,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:535,columnNumber:21},void 0)}},{Header:"Unit No",accessor:e=>`${e.unitnumber}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:562,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:561,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:560,columnNumber:21},void 0)}},{Header:"Building Name",accessor:e=>`${e.building_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:577,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:576,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:575,columnNumber:21},void 0)}},{Header:"Floor Level",accessor:e=>`${e.floor}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:592,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:591,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:590,columnNumber:21},void 0)}},{Header:"Community Name",accessor:e=>`${e.community_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:607,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:606,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:605,columnNumber:21},void 0)}},{Header:"Project Name",accessor:e=>`${e.project_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:622,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:621,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:620,columnNumber:21},void 0)}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:637,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:636,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:635,columnNumber:21},void 0)}},{Header:"Guest Name",accessor:"guestname",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:652,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:651,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:650,columnNumber:21},void 0)}},{Header:"Check in Type",accessor:"checkintype",Cell:e=>{var l,n,u,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:u.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:665,columnNumber:24},void 0)}},{Header:"Nationality",accessor:"nationality",Cell:e=>{var l,n,u,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:u.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:672,columnNumber:24},void 0)}},{Header:"passport no",accessor:"passportnumber",Cell:e=>{var l,n,u,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:u.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:679,columnNumber:24},void 0)}},{Header:"Mobile Number",accessor:"mobilenumber",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:686,columnNumber:24},void 0)}},{Header:"Email",accessor:"email",Cell:e=>{var l,n,u,b;return t("span",{className:"lowercase",children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:u.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:693,columnNumber:24},void 0)}},{Header:"No. of Adults",accessor:"noadults",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:700,columnNumber:24},void 0)}},{Header:"No. of Children",accessor:"nochildern",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0"},void 0,!1,{fileName:o,lineNumber:707,columnNumber:24},void 0)}},{Header:"No. Of Occupants",accessor:"totaloccupants",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:714,columnNumber:24},void 0)}},{Header:"Confirmation Code",accessor:"confirmationcode",Cell:e=>{var l,n,u,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:u.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:721,columnNumber:24},void 0)}},{Header:"Booking Date",accessor:"reservation_date",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:728,columnNumber:24},void 0)}},{Header:"Booking Agent",accessor:"bookingagent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:735,columnNumber:24},void 0)}},{Header:"Mode of Payment",accessor:"modepayment",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:743,columnNumber:24},void 0)}},{Header:"Check in Date",accessor:"checkindate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:750,columnNumber:24},void 0)}},{Header:"Check out Date",accessor:"checkoutdate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:757,columnNumber:24},void 0)}},{Header:"No. of Nights",accessor:"nonight",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0.00"},void 0,!1,{fileName:o,lineNumber:764,columnNumber:24},void 0)}},{Header:"Tourism Fee /Unit",accessor:"tourismfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value)+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:771,columnNumber:24},void 0)}},{Header:"Security Deposit Amount",accessor:"securitydeposit",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:778,columnNumber:24},void 0)}},{Header:"TOTAL PAYOUT",accessor:"totalpayout",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:785,columnNumber:24},void 0)}},{Header:"Host Service Fee (portal)",accessor:"hostservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:792,columnNumber:24},void 0)}},{Header:"Total Collection All incl",accessor:"totalcollectall",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:799,columnNumber:24},void 0)}},{Header:"Cleaning Fee",accessor:"cleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:806,columnNumber:24},void 0)}},{Header:"TOTAL ADDITIONAL FEE",accessor:"totaladditionalfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:813,columnNumber:24},void 0)}},{Header:"Room Rent Amount: ( Incl. portal fee)",accessor:"roomrentamount",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:836,columnNumber:24},void 0)}},{Header:"Room Rent Amount: (host Payable)",accessor:"roomrenthostpayable",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:843,columnNumber:24},void 0)}},{Header:"Guest Service Fee",accessor:"guestservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:850,columnNumber:24},void 0)}},{Header:"Guest Management Fee",accessor:"guestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:857,columnNumber:24},void 0)}},{Header:"Host Management Fee",accessor:"hostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:864,columnNumber:24},void 0)}},{Header:"Total Room Rent Amount (incl. GM FEE)",accessor:"propertyid",Cell:e=>{var n,u,b,m,j,B,O,R,q,Q,pe,he,ye,xe,Ce,ke,Ae,Ee,xl,Gl,Wl,$l,Dl,Kl,Yl,ql,Xl,zl,Jl,Ql,Zl,Vl,Fl,wl,ei,li;let l;return((b=(u=(n=e==null?void 0:e.cell)==null?void 0:n.row)==null?void 0:u.original)==null?void 0:b.guestservicefee)&&((B=(j=(m=e==null?void 0:e.cell)==null?void 0:m.row)==null?void 0:j.original)==null?void 0:B.guestservicefee)>0?l=(parseFloat((q=(R=(O=e==null?void 0:e.cell)==null?void 0:O.row)==null?void 0:R.original)!=null&&q.roomrentamount?(he=(pe=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:pe.original)==null?void 0:he.roomrentamount:0)+parseFloat((Ce=(xe=(ye=e==null?void 0:e.cell)==null?void 0:ye.row)==null?void 0:xe.original)!=null&&Ce.guestmanagementfee?(Ee=(Ae=(ke=e==null?void 0:e.cell)==null?void 0:ke.row)==null?void 0:Ae.original)==null?void 0:Ee.guestmanagementfee:0)+parseFloat((Wl=(Gl=(xl=e==null?void 0:e.cell)==null?void 0:xl.row)==null?void 0:Gl.original)!=null&&Wl.guestservicefee?(Kl=(Dl=($l=e==null?void 0:e.cell)==null?void 0:$l.row)==null?void 0:Dl.original)==null?void 0:Kl.guestservicefee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):l=(parseFloat((Xl=(ql=(Yl=e==null?void 0:e.cell)==null?void 0:Yl.row)==null?void 0:ql.original)!=null&&Xl.roomrentamount?(Ql=(Jl=(zl=e==null?void 0:e.cell)==null?void 0:zl.row)==null?void 0:Jl.original)==null?void 0:Ql.roomrentamount:0)+parseFloat((Fl=(Vl=(Zl=e==null?void 0:e.cell)==null?void 0:Zl.row)==null?void 0:Vl.original)!=null&&Fl.guestmanagementfee?(li=(ei=(wl=e==null?void 0:e.cell)==null?void 0:wl.row)==null?void 0:ei.original)==null?void 0:li.guestmanagementfee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),t("span",{children:l?l+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:877,columnNumber:24},void 0)}},{Header:"VAT 5% on Booking Room Rent",accessor:"vatperbookingrent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:884,columnNumber:24},void 0)}},{Header:"VAT 5% on Service fee",accessor:"vatperservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:891,columnNumber:24},void 0)}},{Header:"VAT 5% on Cleaning fee",accessor:"vatpercleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:898,columnNumber:24},void 0)}},{Header:"VAT 5% on Guest Management",accessor:"vatperguestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:905,columnNumber:24},void 0)}},{Header:"VAT 5% On Host Management Fee",accessor:"vatperhostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:912,columnNumber:24},void 0)}},{Header:"Total Payout Vat",accessor:"totalvatper",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:919,columnNumber:24},void 0)}},{Header:"Total Room rent + GM+VAT",accessor:e=>`${e.totalroomrent}`,Cell:e=>{var l,n,u;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((u=parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value))==null?void 0:u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:926,columnNumber:24},void 0)}},{Header:"Audit Difference",accessor:e=>`${e.auditdiff}`,Cell:e=>t("span",{children:"0"},void 0,!1,{fileName:o,lineNumber:933,columnNumber:24},void 0)},{Header:"Total Collection All incl",accessor:e=>`${e.totalcollectall}`,Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:940,columnNumber:24},void 0)}},{Header:"DTCM uploaded",accessor:"dtcm_uploaded",Cell:e=>{var l,n,u,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:950,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:949,columnNumber:25},void 0)},void 0,!1)}},{Header:"passort id collected",accessor:"passortid_collected",Cell:e=>{var l,n,u,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:970,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:969,columnNumber:25},void 0)},void 0,!1)}},{Header:"Signature verified as per Passport",accessor:"sign_verified",Cell:e=>{var l,n,u,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:990,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:989,columnNumber:25},void 0)},void 0,!1)}},{Header:"smart code provided",accessor:"smartcode_provided",Cell:e=>{var l,n,u,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1010,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1009,columnNumber:25},void 0)},void 0,!1)}},{Header:"Payment collected",accessor:"payment_collected",Cell:e=>{var l,n,u,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1030,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1029,columnNumber:25},void 0)},void 0,!1)}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1047,columnNumber:24},void 0)}},{Header:"created-on",accessor:"Created_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1054,columnNumber:24},void 0)}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1061,columnNumber:24},void 0)}},{Header:"updated-on",accessor:"updated_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1068,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var R,q,Q,pe,he,ye,xe,Ce,ke,Ae,Ee;const l=localStorage.getItem("isAuth"),n=JSON.parse(l),{data:u}=ai(n==null?void 0:n.roleid);if(!u)return null;const b=(u==null?void 0:u.readbooking)===!0,m=(u==null?void 0:u.updatebooking)===!0,j=(u==null?void 0:u.deletebooking)===!0,B=(u==null?void 0:u.updatecustomer)===!0,O=(q=(R=e==null?void 0:e.cell)==null?void 0:R.row)==null?void 0:q.original;return t("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[t(Te,{content:"Download PDF Under Maintenance",placement:"top",arrow:!0,animation:"shift-away",children:t("button",{className:"action-btn",onClick:xl=>si(O),type:"button",children:t(K,{icon:"heroicons:arrow-down"},void 0,!1,{fileName:o,lineNumber:1094,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1093,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1092,columnNumber:26},void 0),B&&t(Te,{content:"Edit Customer",placement:"top",arrow:!0,animation:"shift-away",children:((he=(pe=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:pe.original)==null?void 0:he.customertype)==="New Customer"?t(ee,{className:"action-btn",to:`/update-customer/${(Ce=(xe=(ye=e==null?void 0:e.cell)==null?void 0:ye.row)==null?void 0:xe.original)==null?void 0:Ce.guest_id}`,type:"button",children:t(K,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1108,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1107,columnNumber:45},void 0):t(ee,{className:"action-btn",to:`/update-customer/${(Ee=(Ae=(ke=e==null?void 0:e.cell)==null?void 0:ke.row)==null?void 0:Ae.original)==null?void 0:Ee.customerid}`,type:"button",children:t(K,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1111,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1110,columnNumber:45},void 0)},void 0,!1,{fileName:o,lineNumber:1104,columnNumber:33},void 0),b&&t(Te,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:t(ee,{className:"action-btn",to:`/view-booking/${e==null?void 0:e.cell.value}`,type:"button",children:t(K,{icon:"heroicons:eye"},void 0,!1,{fileName:o,lineNumber:1121,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1120,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1119,columnNumber:33},void 0),m&&t(Te,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:t(ee,{to:`/update-booking/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:t(K,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:o,lineNumber:1130,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1129,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1128,columnNumber:33},void 0),j&&t(Te,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:t("button",{className:"action-btn",type:"button",onClick:()=>oi(e==null?void 0:e.cell.value),children:t(K,{icon:"heroicons:trash"},void 0,!1,{fileName:o,lineNumber:1145,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1144,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1137,columnNumber:33},void 0)]},void 0,!0,{fileName:o,lineNumber:1091,columnNumber:21},void 0)}}];function ri(e){const l=[["BOOKING NUMBER","BOOKING STATUS","UNIT NO","BUILDING NAME","FLOOR LEVEL","COMMUNITY NAME","PROJECT NAME","OWNER NAME","GUEST NAME","CHECK IN TYPE","NATIONALITY","PASSPORT NO","MOBILE NUMBER","EMAIL","NO. OF ADULTS","NO. OF CHILDREN","NO. OF OCCUPANTS","CONFIRMATION CODE","BOOKING DATE","BOOKING DATE","MODE OF PAYMENT","CHECK IN DATE","CHECK OUT DATE","NO. OF NIGHTS","NO. OF NIGHTS","SECURITY DEPOSIT AMOUNT","TOTAL PAYOUT","HOST SERVICE FEE (PORTAL)","TOTAL COLLECTION ALL INCL","CLEANING FEE","TOTAL ADDITIONAL FEE","ROOM RENT AMOUNT: ( INCL. PORTAL FEE)","Room Rent Amount: (host Payable)","GUEST SERVICE FEE","GUEST MANAGEMENT FEE","HOST MANAGEMENT FEE","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON CLEANING FEE","VAT 5% ON GUEST MANAGEMENT","VAT 5% ON HOST MANAGEMENT FEE","TOTAL PAYOUT VAT","TOTAL ROOM RENT + GM+VAT","AUDIT DIFFERENCE","TOTAL COLLECTION ALL INCL","CREATED-BY","CREATED-ON"],...e.map(m=>[m.bookingnumber,m.cancelled===!1?"Approved":"Cancelled",m.unitnumber,m==null?void 0:m.building_name,m==null?void 0:m.floor,m==null?void 0:m.community_name,m==null?void 0:m.project_name,m==null?void 0:m.owner_name,m.guestname,m.checkintype,m.nationality,m.passportnumber,m.mobilenumber,m.email,m.noadults,m.nochildern,m.totaloccupants,m.confirmationcode,new Date(m.reservationdate).toDateString(),m.bookingagent,m.modepayment,new Date(m.checkindate).toDateString(),new Date(m.checkoutdate).toDateString(),m.nonight,m.tourismfee,m.securitydeposit?m.securitydeposit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalpayout?m.totalpayout.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostservicefee?m.hostservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.cleaningfee?m.cleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totaladditionalfee?m.totaladditionalfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrentamount?m.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrenthostpayable?m.roomrenthostpayable.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestservicefee?m.guestservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestmanagementfee?m.guestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostmanagementfee?m.hostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperbookingrent?m.vatperbookingrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperservicefee?m.vatperservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatpercleaningfee?m.vatpercleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperguestmanagementfee?m.vatperguestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperhostmanagementfee?m.vatperhostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalvatper?m.totalvatper.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalroomrent?m.totalroomrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m==null?void 0:m.employee_email_createdBy,new Date(m.createdAt).toDateString()])],n=Al.aoa_to_sheet(l),u=Al.book_new();Al.book_append_sheet(u,n,"Sheet1");const b=Ln(u,{bookType:"xlsx",type:"array"});En.exports.saveAs(new Blob([b],{type:"application/octet-stream"}),"bookings.xlsx")}const bi=d.exports.useMemo(()=>di,[]),fi=d.exports.useMemo(()=>H),[v,Ll]=d.exports.useState(""),[Mn,Hl]=d.exports.useState(!1),[_l,Il]=d.exports.useState(!1);d.exports.useState(!1),d.exports.useState(""),d.exports.useState(!1),d.exports.useEffect(()=>{Ll(""),Il(!1)},[H]);const vi=Se.exports.useTable({columns:bi,data:fi,initialState:{pageIndex:0,pageSize:50}},Se.exports.useGlobalFilter,Se.exports.useSortBy,Se.exports.usePagination,Se.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:n})=>t("div",{children:t(In,{...n()},void 0,!1,{fileName:o,lineNumber:1281,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1280,columnNumber:25},void 0),Cell:({row:n})=>{var B;const[u,b]=d.exports.useState(""),m=O=>{O!=null&&O._id?Hl(!0):Hl(!1),b(R=>R===O?"":O),Ll(R=>R===O?"":O)};let j;return d.exports.useEffect(()=>{var O;Il(((O=n==null?void 0:n.original)==null?void 0:O._id)===(u==null?void 0:u._id)),_l===!0?j=!0:_l===!1&&(j=!1)},[(B=n==null?void 0:n.original)==null?void 0:B._id,u==null?void 0:u._id]),t("div",{children:t("input",{type:"checkbox",...n.getToggleRowSelectedProps(),checked:j,onChange:()=>m(n.original),className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:1320,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1319,columnNumber:29},void 0)}},...l])}),{getTableProps:Ni,getTableBodyProps:gi,headerGroups:pi,footerGroups:Gn,page:hi,nextPage:yi,previousPage:xi,canNextPage:_e,canPreviousPage:Ie,pageOptions:Bl,state:Ci,gotoPage:$e,pageCount:ki,setPageSize:Ai,setGlobalFilter:Ei,prepareRow:Si}=vi,{globalFilter:Ti,pageIndex:Rl,pageSize:Oi}=Ci,ji=s.filter(e=>e.unitnumber!==void 0),De=[...new Set(ji.map(e=>e.unitnumber))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Li=s.filter(e=>e.community_name!==void 0),Ke=[...[...new Set(Li.map(e=>e.communityid))].map(e=>{const l=s.find(n=>n.communityid===e);return l?{label:l.community_name,value:l.communityid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Hi=s.filter(e=>e.project_name!==void 0),Ye=[...[...new Set(Hi.map(e=>e.projectnameid))].map(e=>{const l=s.find(n=>n.projectnameid===e);return l?{label:l.project_name,value:l.projectnameid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),_i=s.filter(e=>e.building_name!==void 0),qe=[...[...new Set(_i.map(e=>e.buildingid))].map(e=>{const l=s.find(n=>n.buildingid===e);return l?{label:l.building_name,value:l.buildingid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ii=s.filter(e=>e.owner_email!==void 0),Xe=[...[...new Set(Ii.map(e=>e.owner_email))].map(e=>{const l=s.find(n=>n.owner_email===e);return l?{label:l.owner_name+" | "+l.owner_email,value:l.owner_email}:null}).filter(Boolean)].sort((e,l)=>{var n;return(n=e.label)==null?void 0:n.localeCompare(l.label)}),Bi=s.filter(e=>e.email!==void 0),Pl=[...[...new Set(Bi.map(e=>e.email))].map(e=>{const l=s.find(n=>n.email===e);return l?{label:l.guestname+" | "+l.email,value:l.email}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ul=[...[{value:"Airbnb",label:"Airbnb"},{value:"Booking.com",label:"Booking.com"},{value:"vrbo",label:"vrbo"},{value:"Direct Booking",label:"Direct Booking"},{value:"Not in the List",label:"Not in the List"}]].sort((e,l)=>e.label.localeCompare(l.label)),Ri=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),Pi=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Ui=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Mi=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Gi=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),Ml=s.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}});console.log("bookingAgentWithReferenceofUnits_Number",Ml);const Wi=N(Ri),$i=N(Pi),Di=N(Ui),Ki=N(Mi),Yi=N(Gi),qi=N(Ml),ze=Wi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Je=$i.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=Di.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ze=Ki.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ve=Yi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Xi=qi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));console.log("sortedagentsbyunits",Xi);const zi=s.filter(e=>e.communityid===a.communityid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Ji=s.filter(e=>e.communityid===a.communityid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Qi=s.filter(e=>e.communityid===a.communityid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Zi=s.filter(e=>e.communityid===a.communityid).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Fe=N(zi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=N(Ji).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=N(Qi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ll=N(Zi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Vi=s.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),il=N(Vi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fi=s.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),nl=N(Fi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),wi=s.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),tl=N(wi).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),en=s.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),al=N(en).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ln=s.filter(e=>e.buildingid===a.buildingid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),ol=N(ln).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),nn=s.filter(e=>e.buildingid===a.buildingid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),ml=N(nn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),tn=s.filter(e=>e.buildingid===a.buildingid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),cl=N(tn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),an=s.filter(e=>e.buildingid===a.buildingid).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),ul=N(an).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),on=s.filter(e=>e.customerid===a.customerid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),mn=s.filter(e=>e.customerid===a.customerid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),cn=s.filter(e=>e.customerid===a.customerid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),un=s.filter(e=>e.customerid===a.customerid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),sl=N(on).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),dl=N(mn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),rl=N(cn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),bl=N(un).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),sn=s.filter(e=>e.email===a.email).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),fl=N(sn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),dn=s.filter(e=>e.email===a.email).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),vl=N(dn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),rn=s.filter(e=>e.email===a.email).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Nl=N(rn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),bn=s.filter(e=>e.email===a.email).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),gl=N(bn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),fn=s.filter(e=>e.email===a.email).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),pl=N(fn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),vn=s.filter(e=>e.email===a.email).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),hl=N(vn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Nn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),w=N(Nn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));console.log("sortedunitnumber====>byagent",w);const gn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),ce=N(gn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),pn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),ue=N(pn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),hn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),se=N(hn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),yn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{customerid:l,owner_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),de=N(yn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),xn=s.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),re=N(xn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Cn=()=>{V(),C(""),Le(""),Ne(""),G(""),Me(""),r(""),y(""),Ge(""),p(""),E("")},[yl,ge]=d.exports.useState(!1);return d.exports.useEffect(()=>{const e=l=>{const{_id:n,propertyid:u,checkindate:b,checkoutdate:m,cancelled:j}=l,{checkindate:B,checkoutdate:O,propertyid:R}=v;return n!==(v==null?void 0:v._id)&&j===!1?new Date(b).toISOString()<new Date(O).toISOString()&&new Date(m).toISOString()>new Date(B).toISOString()&&u===R?(ge(!0),!0):(ge(!1),!1):(console.log("first else"),ge(!1),!1)};if((v==null?void 0:v.checkindate)&&(v==null?void 0:v.checkoutdate)&&(v==null?void 0:v.propertyid)){let l=!1;for(let n=0;n<s.length;n++){const u=s[n];if(e(u)){l=!0;break}}ge(l)}else ge(!1)},[v==null?void 0:v.checkindate,v==null?void 0:v.checkoutdate,v==null?void 0:v.propertyid]),t(P,{children:[t("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[t(ee,{to:"/calendar-2-0",className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",children:[t("img",{src:Hn,alt:"Calendar icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2122,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Calendar View"},void 0,!1,{fileName:o,lineNumber:2123,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2121,columnNumber:17},void 0),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",onClick:()=>ri(H),children:[t("img",{src:jn,alt:"Excel icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2130,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Export in Excel"},void 0,!1,{fileName:o,lineNumber:2131,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2129,columnNumber:17},void 0),v&&(v==null?void 0:v.cancelled)===!1?t(P,{children:t(ti,{title:"Do you want to Cancel this booking?",label:"Cancel booking",labelClass:"btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:v,onDataUpdate:U,bookingtable:!0,cancelkrnihai:!0,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2147,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2136,columnNumber:29},void 0)},void 0,!1):null,yl===!1&&v&&(v==null?void 0:v.cancelled)===!0?t(P,{children:t(ti,{title:"Do you want to Approve this booking?",label:"Approve booking",labelClass:"btn btn inline-flex justify-center btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:v,onDataUpdate:U,bookingtable:!0,cancelkrnihai:!1,alreadyBooking:yl,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2168,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2156,columnNumber:29},void 0)},void 0,!1):null,yl===!0&&v&&(v==null?void 0:v.cancelled)===!0?t(P,{children:t("button",{type:"button",class:"btn btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",children:"This property cannot be approved as it is already booked"},void 0,!1,{fileName:o,lineNumber:2177,columnNumber:29},void 0)},void 0,!1):null,t(P,{},void 0,!1),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>ui(!He),children:[He===!0?t(K,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2205,columnNumber:29},void 0):t(K,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2206,columnNumber:29},void 0),t("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:o,lineNumber:2208,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2201,columnNumber:17},void 0),g===!0?t("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",type:"button",onClick:M,children:"Remove Date Filter"},void 0,!1,{fileName:o,lineNumber:2212,columnNumber:25},void 0):null,t("div",{className:"w-[180px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:le,value:le==null?void 0:le.filter(function(e){return e.value===D}),onChange:e=>{Be(e==null?void 0:e.value)},styles:Z,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:o,lineNumber:2215,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:2214,columnNumber:17},void 0),t(On,{filter:Ti,setFilter:Ei},void 0,!1,{fileName:o,lineNumber:2231,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2118,columnNumber:13},void 0),t("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${He===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."},void 0,!1,{fileName:o,lineNumber:2235,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:S?a.communityid&&S?Fe:a.projectnameid&&S?il:a.buildingid&&S?ol:a.email&&S?fl:a.bookingagent&&S?w:sl:De,value:S?a.communityid&&S?Fe&&Fe.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.projectnameid&&S?il&&il.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.buildingid&&S?ol&&ol.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.email&&S?fl&&fl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.bookingagent&&S?w&&w.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):sl&&sl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):De&&De.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}),onChange:e=>{S?a.communityid&&S?W({target:{name:"unitnumber",value:e.value}}):a.projectnameid&&S?W({target:{name:"unitnumber",value:e.value}}):a.buildingid&&S?W({target:{name:"unitnumber",value:e.value}}):a.email&&S?W({target:{name:"unitnumber",value:e.value}}):a.bookingagent&&S?W({target:{name:"unitnumber",value:e.value}}):W({target:{name:"unitnumber",value:e.value}}):_({target:{name:"unitnumber",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2238,columnNumber:21},void 0),i!=null&&i.unitnumber?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,unitnumber:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2330,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2234,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"},void 0,!1,{fileName:o,lineNumber:2336,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:T?a.customerid&&T?dl:a.projectnameid&&T?nl:a.buildingid&&T?ml:a.email&&T?vl:a.bookingagent&&T?ce:ze:Ke,value:T?a.customerid&&T?dl&&dl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.projectnameid&&T?nl&&nl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.buildingid&&T?ml&&ml.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.email&&T?vl&&vl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.bookingagent&&T?ce&&ce.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):ze&&ze.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):Ke&&Ke.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}),onChange:e=>{T?W({target:{name:"communityid",value:e.value}}):a.customerid&&T?W({target:{name:"communityid",value:e.value}}):a.projectnameid&&T?W({target:{name:"communityid",value:e.value}}):a.buildingid&&T?W({target:{name:"communityid",value:e.value}}):a.email&&T?W({target:{name:"communityid",value:e.value}}):a.bookingagent&&T?W({target:{name:"communityid",value:e.value}}):_({target:{name:"communityid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2339,columnNumber:21},void 0),i!=null&&i.communityid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,communityid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2435,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2335,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"},void 0,!1,{fileName:o,lineNumber:2441,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:k?a.customerid&&k?rl:a.communityid&&k?we:a.buildingid&&k?cl:a.email&&k?Nl:a.bookingagent&&k?ue:Je:Ye,value:k?a.customerid&&k?rl&&rl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.communityid&&k?we&&we.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.buildingid&&k?cl&&cl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.email&&k?Nl&&Nl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.bookingagent&&k?ue&&ue.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):Je&&Je.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):Ye&&Ye.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}),onChange:e=>{k?a.customerid&&k?te({target:{name:"projectnameid",value:e.value}}):a.communityid&&k?te({target:{name:"projectnameid",value:e.value}}):a.buildingid&&k?te({target:{name:"projectnameid",value:e.value}}):a.email&&k?te({target:{name:"projectnameid",value:e.value}}):a.bookingagent&&k?te({target:{name:"projectnameid",value:e.value}}):te({target:{name:"projectnameid",value:e.value}}):_({target:{name:"projectnameid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2444,columnNumber:21},void 0),i!=null&&i.projectnameid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,projectnameid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2539,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2440,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"},void 0,!1,{fileName:o,lineNumber:2545,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A?a.customerid&&A?bl:a.communityid&&A?el:a.projectnameid&&A?tl:a.email&&A?gl:a.bookingagent&&A?se:Qe:qe,value:A?a.customerid&&A?bl&&bl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.communityid&&A?el&&el.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.projectnameid&&A?tl&&tl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.email&&A?gl&&gl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.bookingagent&&A?se&&se.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):Qe&&Qe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):qe&&qe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}),onChange:e=>{A?a.customerid&&A?ae({target:{name:"buildingid",value:e.value}}):a.communityid&&A?ae({target:{name:"buildingid",value:e.value}}):a.projectnameid&&A?ae({target:{name:"buildingid",value:e.value}}):a.email&&A?ae({target:{name:"buildingid",value:e.value}}):a.bookingagent&&A?ae({target:{name:"buildingid",value:e.value}}):ae({target:{name:"buildingid",value:e.value}}):_({target:{name:"buildingid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2548,columnNumber:21},void 0),i!=null&&i.buildingid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,buildingid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2632,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2544,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"},void 0,!1,{fileName:o,lineNumber:2638,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:c?a.communityid&&c?ll:a.projectnameid&&c?al:a.buildingid&&c?ul:a.email&&c?pl:a.bookingagent&&c?de:Ze:Xe,value:c?a.communityid&&c?ll&&ll.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):a.projectnameid&&c?al&&al.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):a.buildingid&&c?ul&&ul.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):a.email&&c?pl&&pl.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):a.bookingagent&&c?de&&de.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):Ze&&Ze.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}):Xe&&Xe.filter(function(e){if((i==null?void 0:i.customerid)!=="")return e.value===(i==null?void 0:i.customerid)}),onChange:e=>{c?a.communityid&&c?oe({target:{name:"customerid",value:e.value}}):a.projectnameid&&c?oe({target:{name:"customerid",value:e.value}}):a.buildingid&&c?oe({target:{name:"customerid",value:e.value}}):a.email&&c?oe({target:{name:"customerid",value:e.value}}):a.bookingagent&&c?oe({target:{name:"customerid",value:e.value}}):oe({target:{name:"customerid",value:e.value}}):_({target:{name:"customerid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2641,columnNumber:21},void 0),i!=null&&i.owner_email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,customerid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2727,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2637,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Guest Name / Email"},void 0,!1,{fileName:o,lineNumber:2733,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:h?a.unitnumber&&h?Ve:(a.bookingagent&&h,re):Pl,value:h?a.unitnumber&&h?re&&re.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.bookingagent&&h?re&&re.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Ve&&Ve.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Pl.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}),onChange:e=>{h?a.unitnumber&&h?We({target:{name:"email",value:e.value}}):a.bookingagent&&h?We({target:{name:"email",value:e.value}}):We({target:{name:"email",value:e.value}}):_({target:{name:"email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2736,columnNumber:21},void 0),i!=null&&i.email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,email:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2794,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2732,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Booking Agent"},void 0,!1,{fileName:o,lineNumber:2800,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:f?a.unitnumber&&f?w:a.communityid&&f?ce:a.projectnameid&&f?ue:a.buildingid&&f?se:a.customerid&&f?de:hl:Ul,value:f?a.unitnumber&&f?w&&w.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.communityid&&f?ce&&ce.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.projectnameid&&f?ue&&ue.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.buildingid&&f?se&&se.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.customerid&&f?de&&de.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):hl&&hl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):Ul.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}),onChange:e=>{f?a.unitnumber&&f?me({target:{name:"bookingagent",value:e.value}}):a.communityid&&f?me({target:{name:"bookingagent",value:e.value}}):a.projectnameid&&f?me({target:{name:"bookingagent",value:e.value}}):a.buildingid&&f?me({target:{name:"bookingagent",value:e.value}}):a.customerid&&f?me({target:{name:"bookingagent",value:e.value}}):me({target:{name:"bookingagent",value:e.value}}):_({target:{name:"bookingagent",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2803,columnNumber:21},void 0),i!=null&&i.bookingagent?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>r({...i,bookingagent:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2897,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2799,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2233,columnNumber:13},void 0),t("div",{className:`flex ${He===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[t("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>Cn(),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2904,columnNumber:17},void 0),t("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>z(i),children:"Search"},void 0,!1,{fileName:o,lineNumber:2905,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2903,columnNumber:13},void 0),t(_n,{showModal:ie,handleClose:mi,loaderModal:ne,linkedData:fe,handleDeleteData:ci,dataId:Pe,moduleName:"Booking"},void 0,!1,{fileName:o,lineNumber:2907,columnNumber:13},void 0),t(Bn,{showModal:Ue},void 0,!1,{fileName:o,lineNumber:2908,columnNumber:13},void 0),t("div",{className:"overflow-x-auto -mx-6 mt-6",children:t("div",{className:"inline-block min-w-full align-middle",children:t("div",{className:"",children:t("table",{className:"min-w-[206%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...Ni,children:[t("thead",{className:"bg-slate-200 dark:bg-slate-700",children:pi.map(e=>t("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((I==null?void 0:I.readbooking)===!0||(I==null?void 0:I.updatebooking)===!0||(I==null?void 0:I.deletebooking)===!0)?t("th",{},void 0,!1,{fileName:o,lineNumber:2925,columnNumber:56},void 0):t("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),t("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:o,lineNumber:2935,columnNumber:53},void 0)]},void 0,!0,{fileName:o,lineNumber:2929,columnNumber:49},void 0))},void 0,!1,{fileName:o,lineNumber:2918,columnNumber:37},void 0))},void 0,!1,{fileName:o,lineNumber:2916,columnNumber:29},void 0),J===!0?t("div",{className:"pl-[10px]",children:t(Sl,{},void 0,!1,{fileName:o,lineNumber:2947,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:2946,columnNumber:37},void 0):t("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...gi,children:hi.map(e=>(Si(e),t("tr",{...e.getRowProps(),children:e.cells.map(l=>t("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")},void 0,!1,{fileName:o,lineNumber:2960,columnNumber:61},void 0))},void 0,!1,{fileName:o,lineNumber:2957,columnNumber:49},void 0)))},void 0,!1,{fileName:o,lineNumber:2950,columnNumber:37},void 0)]},void 0,!0,{fileName:o,lineNumber:2912,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:2911,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:2910,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:2909,columnNumber:13},void 0),t("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[t("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[t("select",{className:"form-control py-2 w-max",value:Oi,onChange:e=>Ai(Number(e.target.value)),children:[50,100,200].map(e=>t("option",{value:e,children:["Show ",e]},e,!0,{fileName:o,lineNumber:2982,columnNumber:29},void 0))},void 0,!1,{fileName:o,lineNumber:2976,columnNumber:21},void 0),t("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",t("span",{children:[Rl+1," of ",Bl.length]},void 0,!0,{fileName:o,lineNumber:2989,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:2987,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2975,columnNumber:17},void 0),t("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Ie?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>$e(0),disabled:!Ie,children:t(K,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:o,lineNumber:3002,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:2996,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:2995,columnNumber:21},void 0),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Ie?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>xi(),disabled:!Ie,children:"Prev"},void 0,!1,{fileName:o,lineNumber:3006,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3005,columnNumber:21},void 0),Bl.map((e,l)=>t("li",{children:t("button",{href:"#","aria-current":"page",className:` ${l===Rl?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>$e(l),children:e+1},void 0,!1,{fileName:o,lineNumber:3017,columnNumber:29},void 0)},l,!1,{fileName:o,lineNumber:3016,columnNumber:25},void 0)),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>yi(),disabled:!_e,children:"Next"},void 0,!1,{fileName:o,lineNumber:3031,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3030,columnNumber:21},void 0),t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{onClick:()=>$e(ki-1),disabled:!_e,className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,children:t(K,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:o,lineNumber:3047,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:3041,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3040,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2994,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2974,columnNumber:13},void 0)]},void 0,!0)};var x="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\BookingTable.jsx";const Pn={option:(H,U)=>({...H,fontSize:"14px"})},Un=({title:H,linktitle:U,pagelink:I,handleDataUpdate:s})=>{const z=localStorage.getItem("isAuth"),V=JSON.parse(z),{data:J}=ai(V==null?void 0:V.roleid),[g,M]=d.exports.useState([]),[le,D]=d.exports.useState(!1),[Be,be]=d.exports.useState(""),[F,ie]=d.exports.useState(""),[Oe,ne]=d.exports.useState(!1);d.exports.useState({startDate:"",endDate:""});const[$,fe]=d.exports.useState(""),Re=[{value:"SELECT RESERVATION DATE",label:"SELECT RESERVATION DATE"},{value:"SELECT CHECK-IN DATE",label:"SELECT CHECK-IN DATE"},{value:"SELECT CHECK-OUT DATE",label:"SELECT CHECK-OUT DATE"}],[Pe,ve]=d.exports.useState({startDate:"",endDate:""}),[Ue,je]=d.exports.useState({startDate:"",endDate:""}),[S,L]=d.exports.useState({startDate:"",endDate:""}),[i,r]=d.exports.useState(!1),a=async c=>{if($==="SELECT RESERVATION DATE"){ve(c);const y=g.filter(f=>{let p=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const h=new Date(f.reservationdate),E=new Date(c==null?void 0:c.startDate),_=new Date(c==null?void 0:c.endDate);h.setHours(0,0,0,0),E.setHours(0,0,0,0),_.setHours(0,0,0,0),(h<E||h>_)&&(p=!1)}return p});M(y),r(!0)}else if($==="SELECT CHECK-IN DATE"){je(c);const y=g.filter(f=>{let p=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const h=new Date(f.checkindate),E=new Date(c==null?void 0:c.startDate),_=new Date(c==null?void 0:c.endDate);h.setHours(0,0,0,0),E.setHours(0,0,0,0),_.setHours(0,0,0,0),(h<E||h>_)&&(p=!1)}return p});M(y),r(!0)}else if($==="SELECT CHECK-OUT DATE"){L(c);const y=g.filter(f=>{let p=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const h=new Date(f.checkoutdate),E=new Date(c==null?void 0:c.startDate),_=new Date(c==null?void 0:c.endDate);h.setHours(0,0,0,0),E.setHours(0,0,0,0),_.setHours(0,0,0,0),(h<E||h>_)&&(p=!1)}return p});M(y),r(!0)}},Le=async()=>{D(!0);const y=await(await fetch("http://stg.srp.ai/booking")).json();M(y),ie(y),ve({startDate:"",endDate:""}),je({startDate:"",endDate:""}),L({startDate:"",endDate:""}),fe(""),D(!1),r(!1)},T=[{value:"All Booking",label:"All Booking"},{value:"Approved Booking",label:"Approved Booking"},{value:"Cancelled Booking",label:"Cancelled Booking"}],[C,Tl]=d.exports.useState("All Booking");d.exports.useEffect(()=>{C==="All Booking"?(async()=>{D(!0);const f=await(await fetch("http://stg.srp.ai/booking")).json();M(f),ie(f),be(f),D(!1)})():C==="Approved Booking"?(async()=>{D(!0);const f=await(await fetch("http://stg.srp.ai/booking/api/approvedbooking")).json();M(f),ie(f),D(!1)})():C==="Cancelled Booking"&&(async()=>{D(!0);const f=await(await fetch("http://stg.srp.ai/booking/api/cancelledbooking?cancelled=true")).json();M(f),ie(f),D(!1)})()},[C]);const[Ne,k]=d.exports.useState(0),G={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Ol={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}};d.exports.useEffect(()=>{var c,y,f;if(C==="All Booking"){let p=0;for(let h=0;h<(g==null?void 0:g.length);h++){let E=parseFloat((c=g[h])==null?void 0:c.roomrentamount);!isNaN(E)&&((y=g[h])==null?void 0:y.cancelled)===!1&&(p+=E)}k(p||0)}else{let p=0;for(let h=0;h<(g==null?void 0:g.length);h++){let E=parseFloat((f=g[h])==null?void 0:f.roomrentamount);isNaN(E)||(p+=E)}k(p||0)}},[g==null?void 0:g.length,C]);const[Me,A]=d.exports.useState(0);d.exports.useEffect(()=>{if(C==="All Booking"||C==="Approved Booking"){let c=g==null?void 0:g.filter(y=>y.cancelled===!1).length;A(c)}else{let c=g==null?void 0:g.length;A(c)}},[C,g]);const Y=[{name:G,title:"Total No of Check-In",count:Me,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:Ol,title:"Total Collection",count:Ne?Ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"}];function jl(c){if(c){const y=g.filter(f=>{ne(!0);let p=!0;return c.buildingid&&f.buildingid!==c.buildingid&&(p=!1),c.communityid&&f.communityid!==c.communityid&&(p=!1),c.owner_email&&f.owner_email!==c.owner_email&&(p=!1),c.projectnameid&&f.projectnameid!==c.projectnameid&&(p=!1),c.unitnumber&&f.unitnumber!==c.unitnumber&&(p=!1),c.email&&f.email!==c.email&&(p=!1),c.bookingagent&&f.bookingagent!==c.bookingagent&&(p=!1),p});M(y),ne(!1)}else M(F)}const Ge=async()=>{ne(!0),ve({startDate:"",endDate:""}),je({startDate:"",endDate:""}),L({startDate:"",endDate:""}),fe(""),M(F),ne(!1),r(!1)};return t(P,{children:le===!0?t(Sl,{},void 0,!1,{fileName:x,lineNumber:645,columnNumber:21},void 0):t(ni,{children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("h4",{className:"card-title",children:H},void 0,!1,{fileName:x,lineNumber:648,columnNumber:29},void 0),(J==null?void 0:J.createbooking)===!0&&t(ee,{to:I,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:U},void 0,!1,{fileName:x,lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:x,lineNumber:647,columnNumber:25},void 0),t("div",{className:"grid grid-cols-12 gap-5 mb-5",children:t("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:[t(ni,{bodyClass:"p-4",children:t("div",{className:"grid md:grid-cols-2 col-span-1 gap-4",children:t(Sn,{statistics:Y},void 0,!1,{fileName:x,lineNumber:694,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:693,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:657,columnNumber:33},void 0),t("div",{className:"flex justify-end items-center mb-[15px] mt-[25px]",children:t("div",{className:"flex justify-end items-center ",children:t("div",{className:"flex -gap-x-[5px] items-center",children:[t("div",{className:"w-[300px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Re,value:Re.filter(function(c){return c.value===$}),onChange:c=>{fe(c==null?void 0:c.value)},styles:Pn,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:x,lineNumber:701,columnNumber:49},void 0)},void 0,!1,{fileName:x,lineNumber:700,columnNumber:45},void 0),$&&$==="SELECT RESERVATION DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(kl,{value:Pe,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT RESERVATION DATE"},void 0,!1,{fileName:x,lineNumber:721,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:720,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:719,columnNumber:53},void 0):null,$&&$==="SELECT CHECK-IN DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(kl,{value:Ue,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-IN DATE"},void 0,!1,{fileName:x,lineNumber:735,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:734,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:733,columnNumber:53},void 0):null,$&&$==="SELECT CHECK-OUT DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(kl,{value:S,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-OUT DATE"},void 0,!1,{fileName:x,lineNumber:749,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:748,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:747,columnNumber:53},void 0):null]},void 0,!0,{fileName:x,lineNumber:699,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:698,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:697,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:656,columnNumber:29},void 0)},void 0,!1,{fileName:x,lineNumber:655,columnNumber:25},void 0),(F==null?void 0:F.length)&&(g==null?void 0:g.length)?t(Rn,{allBooking:g,handleDataUpdate:s,dataRole:J,forFilterData:Be,handleClearFilter:Ge,typeOfBooking:T,selectedtypeOfBooking:C,setSelectedtypeOfBooking:Tl,filterLoader:Oe,handleFilterSearch:jl,dataFilterActive:i,removeDateFilter:Le},void 0,!1,{fileName:x,lineNumber:766,columnNumber:33},void 0):t("div",{className:"flex justify-center items-center",children:t("img",{src:Tn,alt:"NotFound",className:"h-[564px] object-contain"},void 0,!1,{fileName:x,lineNumber:768,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:767,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:646,columnNumber:21},void 0)},void 0,!1)};var El="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBooking.jsx";const bt=()=>{const[H,U]=d.exports.useState([]),[I,s]=d.exports.useState(!1);return d.exports.useEffect(()=>{s(!0),(async()=>{const g=await(await fetch("http://stg.srp.ai/booking")).json();U(g),s(!1)})()},[]),t(P,{children:I===!1?t("div",{className:" space-y-5",children:t(Un,{pagelink:"/add-booking",linktitle:"Add new Booking",title:"All Booking",allData:H,handleDataUpdate:()=>{(async()=>{s(!0);const g=await(await fetch("http://stg.srp.ai/booking")).json();U(g),s(!1)})()}},void 0,!1,{fileName:El,lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:El,lineNumber:73,columnNumber:21},void 0):t(Sl,{},void 0,!1,{fileName:El,lineNumber:75,columnNumber:30},void 0)},void 0,!1)};export{bt as default};
