import{R as Se,j as l,F as A,r as u,L as X,I as _,aj as j,c6 as Fe,s as Sl,G as yl,c5 as rl,cl as Tl,C as ml}from"./index.50116af3.js";import{G as Ol}from"./group-chart-1.595900e1.js";import{D as ye}from"./index.esm.555622e7.js";import{N as Fl}from"./not-found.46bdbc04.js";import{r as se}from"./index.41f5701e.js";import{G as Ll}from"./GlobalFilter.448936e6.js";import{T as ce}from"./Tooltip.e32c83fa.js";import{E as Hl,u as Te,w as Il}from"./jspdf.plugin.autotable.1a3abd5b.js";import{c as Bl}from"./calendar.6b75ea36.js";import"./jspdf.es.min.fbc70108.js";import{M as ul}from"./Modal.1c2ea8d3.js";import{D as _l}from"./DeleteModal.a6fbc09a.js";import"./react-apexcharts.min.1ed89489.js";/* empty css                     */var t="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBookingTable.jsx";const Ml=Se.forwardRef(({indeterminate:x,...S},D)=>{const b=Se.useRef(),P=D||b;return Se.useEffect(()=>{P.current.indeterminate=x},[P,x]),l(A,{children:l("input",{type:"checkbox",ref:P,...S,className:"table-checkbox"},void 0,!1,{fileName:t,lineNumber:40,columnNumber:17},void 0)},void 0,!1)}),G={option:(x,S)=>({...x,fontSize:"14px"})},jl=({showModal:x})=>l("div",{className:"thumbnail-container",children:x&&l("div",{className:"modal-overlay-property align-center-important",children:l("div",{className:"w-[300px]",children:[l("div",{className:"mb-3",children:l("img",{className:" w-[100%]",src:Sl,alt:"Logo"},void 0,!1,{fileName:t,lineNumber:69,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:68,columnNumber:25},void 0),l("svg",{className:"animate-spin  h-12 w-12 m-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25 text-white",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:t,lineNumber:78,columnNumber:29},void 0),l("path",{className:"opacity-75 text-white",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:t,lineNumber:86,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:71,columnNumber:25},void 0)]},void 0,!0,{fileName:t,lineNumber:63,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:62,columnNumber:17},void 0)},void 0,!1,{fileName:t,lineNumber:60,columnNumber:9},void 0),Pl=({allBooking:x,handleDataUpdate:S,dataRole:D,forFilterData:b,handleFilterSearch:P,handleClearFilter:$,filterLoader:R,dataFilterActive:d,removeDateFilter:y,typeOfBooking:z,selectedtypeOfBooking:I,setSelectedtypeOfBooking:pe})=>{const W=window.location.origin,[K,Y]=u.exports.useState(!1),[ge,Q]=u.exports.useState(!1),[T,oe]=u.exports.useState(""),[me,he]=u.exports.useState(""),[s,L]=u.exports.useState(""),[Z,Le]=u.exports.useState(!1),H=e=>{const{name:i,value:a}=e.target;L({...s,[i]:a})},[J,q]=u.exports.useState(!1),V=async e=>{Y(!0),he(e)},xe=()=>{Y(!1)},Ce=async e=>{try{await yl.patch("http://stg.srp.ai/booking/api/updatebooking",{_id:e,softdelete:!0}),S()}catch(i){console.log(i,"error")}},O=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:i})=>l("span",{children:i.indexOf(e)+1},void 0,!1,{fileName:t,lineNumber:155,columnNumber:24},void 0)},{Header:"Booking Number",accessor:"bookingnumber",Cell:e=>{var i,a,o,m,n,E,F,g,k,M,U;return l(A,{children:W==="http://127.0.0.1:5173"||W==="http://stg.srp.ai"||W==="http://127.0.0.1:5174"?l(X,{to:`/view-booking/${(o=(a=(i=e==null?void 0:e.cell)==null?void 0:i.row)==null?void 0:a.original)==null?void 0:o._id}`,children:(m=e==null?void 0:e.cell)!=null&&m.value?((E=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:E.slice(0,15))+(((F=e==null?void 0:e.cell)==null?void 0:F.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:166,columnNumber:33},void 0):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?((M=(k=e==null?void 0:e.cell)==null?void 0:k.value)==null?void 0:M.slice(0,15))+(((U=e==null?void 0:e.cell)==null?void 0:U.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:167,columnNumber:33},void 0)},void 0,!1)}},{Header:"Booking Status",accessor:"cancelled",Cell:e=>{var i,a,o;return l("span",{className:"block w-full",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)===!1?"text-success-500 bg-success-500":""} 
            ${((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-danger-500 bg-danger-500":""}
            
             `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)===!0?"Cancelled":"Approved"},void 0,!1,{fileName:t,lineNumber:179,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:178,columnNumber:21},void 0)}},{Header:"Unit No",accessor:e=>`${e.unitnumber}`,Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:205,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:204,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:203,columnNumber:21},void 0)}},{Header:"Building Name",accessor:e=>`${e.building_name}`,Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:220,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:219,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:218,columnNumber:21},void 0)}},{Header:"Floor Level",accessor:e=>`${e.floor}`,Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:235,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:234,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:233,columnNumber:21},void 0)}},{Header:"Community Name",accessor:e=>`${e.community_name}`,Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:250,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:249,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:248,columnNumber:21},void 0)}},{Header:"Project Name",accessor:e=>`${e.project_name}`,Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:265,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:264,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:263,columnNumber:21},void 0)}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:280,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:279,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:278,columnNumber:21},void 0)}},{Header:"Guest Name",accessor:"guestname",Cell:e=>{var i,a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:295,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:294,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:293,columnNumber:21},void 0)}},{Header:"Check in Type",accessor:"checkintype",Cell:e=>{var i,a,o,m;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=(a=e==null?void 0:e.cell)==null?void 0:a.value)==null?void 0:o.slice(0,15))+(((m=e==null?void 0:e.cell)==null?void 0:m.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:308,columnNumber:24},void 0)}},{Header:"Nationality",accessor:"nationality",Cell:e=>{var i,a,o,m;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=(a=e==null?void 0:e.cell)==null?void 0:a.value)==null?void 0:o.slice(0,15))+(((m=e==null?void 0:e.cell)==null?void 0:m.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:315,columnNumber:24},void 0)}},{Header:"passport no",accessor:"passportnumber",Cell:e=>{var i,a,o,m;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=(a=e==null?void 0:e.cell)==null?void 0:a.value)==null?void 0:o.slice(0,15))+(((m=e==null?void 0:e.cell)==null?void 0:m.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:322,columnNumber:24},void 0)}},{Header:"Mobile Number",accessor:"mobilenumber",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:329,columnNumber:24},void 0)}},{Header:"Email",accessor:"email",Cell:e=>{var i,a,o,m;return l("span",{className:"lowercase",children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=(a=e==null?void 0:e.cell)==null?void 0:a.value)==null?void 0:o.slice(0,15))+(((m=e==null?void 0:e.cell)==null?void 0:m.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:336,columnNumber:24},void 0)}},{Header:"No. of Adults",accessor:"noadults",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:343,columnNumber:24},void 0)}},{Header:"No. of Children",accessor:"nochildern",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"0"},void 0,!1,{fileName:t,lineNumber:350,columnNumber:24},void 0)}},{Header:"No. Of Occupants",accessor:"totaloccupants",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:357,columnNumber:24},void 0)}},{Header:"Confirmation Code",accessor:"confirmationcode",Cell:e=>{var i,a,o,m;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=(a=e==null?void 0:e.cell)==null?void 0:a.value)==null?void 0:o.slice(0,15))+(((m=e==null?void 0:e.cell)==null?void 0:m.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:t,lineNumber:364,columnNumber:24},void 0)}},{Header:"Booking Date",accessor:"reservation_date",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"},void 0,!1,{fileName:t,lineNumber:371,columnNumber:24},void 0)}},{Header:"Booking Agent",accessor:"bookingagent",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:378,columnNumber:24},void 0)}},{Header:"Mode of Payment",accessor:"modepayment",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:386,columnNumber:24},void 0)}},{Header:"Check in Date",accessor:"checkindate",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"},void 0,!1,{fileName:t,lineNumber:393,columnNumber:24},void 0)}},{Header:"Check out Date",accessor:"checkoutdate",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"},void 0,!1,{fileName:t,lineNumber:400,columnNumber:24},void 0)}},{Header:"No. of Nights",accessor:"nonight",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"0.00"},void 0,!1,{fileName:t,lineNumber:407,columnNumber:24},void 0)}},{Header:"Tourism Fee /Unit",accessor:"tourismfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value)+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:414,columnNumber:24},void 0)}},{Header:"Security Deposit Amount",accessor:"securitydeposit",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:421,columnNumber:24},void 0)}},{Header:"TOTAL PAYOUT",accessor:"totalpayout",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:428,columnNumber:24},void 0)}},{Header:"Host Service Fee (portal)",accessor:"hostservicefee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:435,columnNumber:24},void 0)}},{Header:"Total Collection All incl",accessor:"totalcollectall",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:442,columnNumber:24},void 0)}},{Header:"Cleaning Fee",accessor:"cleaningfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:449,columnNumber:24},void 0)}},{Header:"TOTAL ADDITIONAL FEE",accessor:"totaladditionalfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:456,columnNumber:24},void 0)}},{Header:"Room Rent Amount: ( Incl. portal fee)",accessor:"roomrentamount",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?parseFloat((a=e==null?void 0:e.cell)==null?void 0:a.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:479,columnNumber:24},void 0)}},{Header:"Room Rent Amount: (host Payable)",accessor:"roomrenthostpayable",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?parseFloat((a=e==null?void 0:e.cell)==null?void 0:a.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:486,columnNumber:24},void 0)}},{Header:"Guest Service Fee",accessor:"guestservicefee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:493,columnNumber:24},void 0)}},{Header:"Guest Management Fee",accessor:"guestmanagementfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:500,columnNumber:24},void 0)}},{Header:"Host Management Fee",accessor:"hostmanagementfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:507,columnNumber:24},void 0)}},{Header:"Total Room Rent Amount (incl. GM FEE)",accessor:"propertyid",Cell:e=>{var a,o,m,n,E,F,g,k,M,U,le,ie,ae,te,ne,$e,Ke,Ye,qe,Xe,ze,Je,We,Qe,Ze,Ve,we,el,ll,il,al,tl,nl,sl,cl,ol;let i;return((m=(o=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:o.original)==null?void 0:m.guestservicefee)&&((F=(E=(n=e==null?void 0:e.cell)==null?void 0:n.row)==null?void 0:E.original)==null?void 0:F.guestservicefee)>0?i=(parseFloat((M=(k=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:k.original)!=null&&M.roomrentamount?(ie=(le=(U=e==null?void 0:e.cell)==null?void 0:U.row)==null?void 0:le.original)==null?void 0:ie.roomrentamount:0)+parseFloat((ne=(te=(ae=e==null?void 0:e.cell)==null?void 0:ae.row)==null?void 0:te.original)!=null&&ne.guestmanagementfee?(Ye=(Ke=($e=e==null?void 0:e.cell)==null?void 0:$e.row)==null?void 0:Ke.original)==null?void 0:Ye.guestmanagementfee:0)+parseFloat((ze=(Xe=(qe=e==null?void 0:e.cell)==null?void 0:qe.row)==null?void 0:Xe.original)!=null&&ze.guestservicefee?(Qe=(We=(Je=e==null?void 0:e.cell)==null?void 0:Je.row)==null?void 0:We.original)==null?void 0:Qe.guestservicefee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):i=(parseFloat((we=(Ve=(Ze=e==null?void 0:e.cell)==null?void 0:Ze.row)==null?void 0:Ve.original)!=null&&we.roomrentamount?(il=(ll=(el=e==null?void 0:e.cell)==null?void 0:el.row)==null?void 0:ll.original)==null?void 0:il.roomrentamount:0)+parseFloat((nl=(tl=(al=e==null?void 0:e.cell)==null?void 0:al.row)==null?void 0:tl.original)!=null&&nl.guestmanagementfee?(ol=(cl=(sl=e==null?void 0:e.cell)==null?void 0:sl.row)==null?void 0:cl.original)==null?void 0:ol.guestmanagementfee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),l("span",{children:i?i+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:520,columnNumber:24},void 0)}},{Header:"VAT 5% on Booking Room Rent",accessor:"vatperbookingrent",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:527,columnNumber:24},void 0)}},{Header:"VAT 5% on Service fee",accessor:"vatperservicefee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:534,columnNumber:24},void 0)}},{Header:"VAT 5% on Cleaning fee",accessor:"vatpercleaningfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:541,columnNumber:24},void 0)}},{Header:"VAT 5% on Guest Management",accessor:"vatperguestmanagementfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:548,columnNumber:24},void 0)}},{Header:"VAT 5% On Host Management Fee",accessor:"vatperhostmanagementfee",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:555,columnNumber:24},void 0)}},{Header:"Total Payout Vat",accessor:"totalvatper",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((a=e==null?void 0:e.cell)==null?void 0:a.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:562,columnNumber:24},void 0)}},{Header:"Total Room rent + GM+VAT",accessor:e=>`${e.totalroomrent}`,Cell:e=>{var i,a,o;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?((o=parseFloat((a=e==null?void 0:e.cell)==null?void 0:a.value))==null?void 0:o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:569,columnNumber:24},void 0)}},{Header:"Audit Difference",accessor:e=>`${e.auditdiff}`,Cell:e=>l("span",{children:"0"},void 0,!1,{fileName:t,lineNumber:576,columnNumber:24},void 0)},{Header:"Total Collection All incl",accessor:e=>`${e.totalcollectall}`,Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?parseFloat((a=e==null?void 0:e.cell)==null?void 0:a.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:t,lineNumber:583,columnNumber:24},void 0)}},{Header:"DTCM uploaded",accessor:"dtcm_uploaded",Cell:e=>{var i,a,o,m;return l(A,{children:l("span",{className:"block w-full ",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Yes":"No"},void 0,!1,{fileName:t,lineNumber:593,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:592,columnNumber:25},void 0)},void 0,!1)}},{Header:"passort id collected",accessor:"passortid_collected",Cell:e=>{var i,a,o,m;return l(A,{children:l("span",{className:"block w-full ",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Yes":"No"},void 0,!1,{fileName:t,lineNumber:613,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:612,columnNumber:25},void 0)},void 0,!1)}},{Header:"Signature verified as per Passport",accessor:"sign_verified",Cell:e=>{var i,a,o,m;return l(A,{children:l("span",{className:"block w-full ",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Yes":"No"},void 0,!1,{fileName:t,lineNumber:633,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:632,columnNumber:25},void 0)},void 0,!1)}},{Header:"smart code provided",accessor:"smartcode_provided",Cell:e=>{var i,a,o,m;return l(A,{children:l("span",{className:"block w-full ",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Yes":"No"},void 0,!1,{fileName:t,lineNumber:653,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:652,columnNumber:25},void 0)},void 0,!1)}},{Header:"Payment collected",accessor:"payment_collected",Cell:e=>{var i,a,o,m;return l(A,{children:l("span",{className:"block w-full ",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((i=e==null?void 0:e.cell)==null?void 0:i.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Yes":"No"},void 0,!1,{fileName:t,lineNumber:673,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:672,columnNumber:25},void 0)},void 0,!1)}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var i,a;return l("span",{className:"normal-case",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:690,columnNumber:24},void 0)}},{Header:"created-on",accessor:"Created_At",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:697,columnNumber:24},void 0)}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var i,a;return l("span",{className:"normal-case",children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:704,columnNumber:24},void 0)}},{Header:"updated-on",accessor:"updated_At",Cell:e=>{var i,a;return l("span",{children:(i=e==null?void 0:e.cell)!=null&&i.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"},void 0,!1,{fileName:t,lineNumber:711,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var g,k,M,U,le,ie,ae,te,ne;const i=localStorage.getItem("isAuth"),a=JSON.parse(i),{data:o}=rl(a==null?void 0:a.roleid);if(!o)return null;const m=(o==null?void 0:o.readbooking)===!0,n=(o==null?void 0:o.updatebooking)===!0,E=(o==null?void 0:o.deletebooking)===!0,F=(o==null?void 0:o.updatecustomer)===!0;return l("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[l(ce,{content:"Download PDF Under Maintenance",placement:"top",arrow:!0,animation:"shift-away",children:l("button",{className:"action-btn",type:"button",children:l(_,{icon:"heroicons:arrow-down"},void 0,!1,{fileName:t,lineNumber:737,columnNumber:33},void 0)},void 0,!1,{fileName:t,lineNumber:736,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:735,columnNumber:25},void 0),F&&l(ce,{content:"Edit Customer",placement:"top",arrow:!0,animation:"shift-away",children:((M=(k=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:k.original)==null?void 0:M.customertype)==="New Customer"?l(X,{className:"action-btn",to:`/update-customer/${(ie=(le=(U=e==null?void 0:e.cell)==null?void 0:U.row)==null?void 0:le.original)==null?void 0:ie.guest_id}`,type:"button",children:l(_,{icon:"heroicons:user"},void 0,!1,{fileName:t,lineNumber:751,columnNumber:49},void 0)},void 0,!1,{fileName:t,lineNumber:750,columnNumber:45},void 0):l(X,{className:"action-btn",to:`/update-customer/${(ne=(te=(ae=e==null?void 0:e.cell)==null?void 0:ae.row)==null?void 0:te.original)==null?void 0:ne.customerid}`,type:"button",children:l(_,{icon:"heroicons:user"},void 0,!1,{fileName:t,lineNumber:754,columnNumber:49},void 0)},void 0,!1,{fileName:t,lineNumber:753,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:747,columnNumber:33},void 0),m&&l(ce,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:l(X,{className:"action-btn",to:`/view-booking/${e==null?void 0:e.cell.value}`,type:"button",children:l(_,{icon:"heroicons:eye"},void 0,!1,{fileName:t,lineNumber:764,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:763,columnNumber:37},void 0)},void 0,!1,{fileName:t,lineNumber:762,columnNumber:33},void 0),n&&l(ce,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:l(X,{to:`/update-booking/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:l(_,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:t,lineNumber:773,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:772,columnNumber:37},void 0)},void 0,!1,{fileName:t,lineNumber:771,columnNumber:33},void 0),E&&l(ce,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:l("button",{className:"action-btn",type:"button",onClick:()=>V(e==null?void 0:e.cell.value),children:l(_,{icon:"heroicons:trash"},void 0,!1,{fileName:t,lineNumber:788,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:787,columnNumber:37},void 0)},void 0,!1,{fileName:t,lineNumber:780,columnNumber:33},void 0)]},void 0,!0,{fileName:t,lineNumber:734,columnNumber:21},void 0)}}];function De(e){const i=[["BOOKING NUMBER","BOOKING STATUS","UNIT NO","BUILDING NAME","FLOOR LEVEL","COMMUNITY NAME","PROJECT NAME","OWNER NAME","GUEST NAME","CHECK IN TYPE","NATIONALITY","PASSPORT NO","MOBILE NUMBER","EMAIL","NO. OF ADULTS","NO. OF CHILDREN","NO. OF OCCUPANTS","CONFIRMATION CODE","BOOKING DATE","BOOKING DATE","MODE OF PAYMENT","CHECK IN DATE","CHECK OUT DATE","NO. OF NIGHTS","NO. OF NIGHTS","SECURITY DEPOSIT AMOUNT","TOTAL PAYOUT","HOST SERVICE FEE (PORTAL)","TOTAL COLLECTION ALL INCL","CLEANING FEE","TOTAL ADDITIONAL FEE","ROOM RENT AMOUNT: ( INCL. PORTAL FEE)","Room Rent Amount: (host Payable)","GUEST SERVICE FEE","GUEST MANAGEMENT FEE","HOST MANAGEMENT FEE","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON CLEANING FEE","VAT 5% ON GUEST MANAGEMENT","VAT 5% ON HOST MANAGEMENT FEE","TOTAL PAYOUT VAT","TOTAL ROOM RENT + GM+VAT","AUDIT DIFFERENCE","TOTAL COLLECTION ALL INCL","CREATED-BY","CREATED-ON"],...e.map(n=>[n.bookingnumber,n.cancelled===!1?"Approved":"Cancelled",n.unitnumber,n==null?void 0:n.building_name,n==null?void 0:n.floor,n==null?void 0:n.community_name,n==null?void 0:n.project_name,n==null?void 0:n.owner_name,n.guestname,n.checkintype,n.nationality,n.passportnumber,n.mobilenumber,n.email,n.noadults,n.nochildern,n.totaloccupants,n.confirmationcode,new Date(n.reservationdate).toDateString(),n.bookingagent,n.modepayment,new Date(n.checkindate).toDateString(),new Date(n.checkoutdate).toDateString(),n.nonight,n.tourismfee,n.securitydeposit?n.securitydeposit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.totalpayout?n.totalpayout.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.hostservicefee?n.hostservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.totalcollectall?n.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.cleaningfee?n.cleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.totaladditionalfee?n.totaladditionalfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.roomrentamount?n.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.roomrenthostpayable?n.roomrenthostpayable.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.guestservicefee?n.guestservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.guestmanagementfee?n.guestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.hostmanagementfee?n.hostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.vatperbookingrent?n.vatperbookingrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.vatperservicefee?n.vatperservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.vatpercleaningfee?n.vatpercleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.vatperguestmanagementfee?n.vatperguestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.vatperhostmanagementfee?n.vatperhostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.totalvatper?n.totalvatper.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n.totalroomrent?n.totalroomrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,0,n.totalcollectall?n.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,n==null?void 0:n.employee_email_createdBy,new Date(n.createdAt).toDateString()])],a=Te.aoa_to_sheet(i),o=Te.book_new();Te.book_append_sheet(o,a,"Sheet1");const m=Il(o,{bookType:"xlsx",type:"array"});Tl.exports.saveAs(new Blob([m],{type:"application/octet-stream"}),"bookings.xlsx")}const ue=u.exports.useMemo(()=>O,[]),re=u.exports.useMemo(()=>x),[r,de]=u.exports.useState(""),[He,w]=u.exports.useState(!1),[Ne,ve]=u.exports.useState(!1);u.exports.useState(!1),u.exports.useState(""),u.exports.useState(!1),u.exports.useEffect(()=>{de(""),ve(!1)},[x]);const ke=se.exports.useTable({columns:ue,data:re,initialState:{pageIndex:0,pageSize:50}},se.exports.useGlobalFilter,se.exports.useSortBy,se.exports.usePagination,se.exports.useRowSelect,e=>{e.visibleColumns.push(i=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:a})=>l("div",{children:l(Ml,{...a()},void 0,!1,{fileName:t,lineNumber:924,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:923,columnNumber:25},void 0),Cell:({row:a})=>{var F;const[o,m]=u.exports.useState(""),n=g=>{g!=null&&g._id?w(!0):w(!1),m(k=>k===g?"":g),de(k=>k===g?"":g)};let E;return u.exports.useEffect(()=>{var g;ve(((g=a==null?void 0:a.original)==null?void 0:g._id)===(o==null?void 0:o._id)),Ne===!0?E=!0:Ne===!1&&(E=!1)},[(F=a==null?void 0:a.original)==null?void 0:F._id,o==null?void 0:o._id]),l("div",{children:l("input",{type:"checkbox",...a.getToggleRowSelectedProps(),checked:E,onChange:()=>n(a.original),className:"table-checkbox"},void 0,!1,{fileName:t,lineNumber:963,columnNumber:33},void 0)},void 0,!1,{fileName:t,lineNumber:962,columnNumber:29},void 0)}},...i])}),{getTableProps:c,getTableBodyProps:h,headerGroups:N,footerGroups:f,page:p,nextPage:C,previousPage:B,canNextPage:fe,canPreviousPage:be,pageOptions:Ie,state:dl,gotoPage:Ae,pageCount:Nl,setPageSize:vl,setGlobalFilter:fl,prepareRow:bl}=ke,{globalFilter:pl,pageIndex:Be,pageSize:gl}=dl,hl=b.filter(e=>e.unitnumber!==void 0),_e=[...new Set(hl.map(e=>e.unitnumber))].sort((e,i)=>e.localeCompare(i,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),xl=b.filter(e=>e.community_name!==void 0),Me=[...[...new Set(xl.map(e=>e.communityid))].map(e=>{const i=b.find(a=>a.communityid===e);return i?{label:i.community_name,value:i.communityid}:null}).filter(Boolean)].sort((e,i)=>e.label.localeCompare(i.label)),Cl=b.filter(e=>e.project_name!==void 0),je=[...[...new Set(Cl.map(e=>e.projectnameid))].map(e=>{const i=b.find(a=>a.projectnameid===e);return i?{label:i.project_name,value:i.projectnameid}:null}).filter(Boolean)].sort((e,i)=>e.label.localeCompare(i.label)),Dl=b.filter(e=>e.building_name!==void 0),Pe=[...[...new Set(Dl.map(e=>e.buildingid))].map(e=>{const i=b.find(a=>a.buildingid===e);return i?{label:i.building_name,value:i.buildingid}:null}).filter(Boolean)].sort((e,i)=>e.label.localeCompare(i.label)),kl=b.filter(e=>e.owner_email!==void 0),Re=[...[...new Set(kl.map(e=>e.owner_email))].map(e=>{const i=b.find(a=>a.owner_email===e);return i?{label:i.owner_name+" | "+i.owner_email,value:i.owner_email}:null}).filter(Boolean)].sort((e,i)=>{var a;return(a=e.label)==null?void 0:a.localeCompare(i.label)}),Al=b.filter(e=>e.email!==void 0),Ue=[...[...new Set(Al.map(e=>e.email))].map(e=>{const i=b.find(a=>a.email===e);return i?{label:i.guestname+" | "+i.email,value:i.email}:null}).filter(Boolean)].sort((e,i)=>e.label.localeCompare(i.label)),Ge=[...[{value:"Airbnb",label:"Airbnb"},{value:"Booking.com",label:"Booking.com"},{value:"vrbo",label:"vrbo"},{value:"Direct Booking",label:"Direct Booking"},{value:"Not in the List",label:"Not in the List"}]].sort((e,i)=>e.label.localeCompare(i.label)),El=()=>{$(),L("")},[Ee,ee]=u.exports.useState(!1);return u.exports.useEffect(()=>{const e=i=>{const{_id:a,propertyid:o,checkindate:m,checkoutdate:n,cancelled:E}=i,{checkindate:F,checkoutdate:g,propertyid:k}=r;return a!==(r==null?void 0:r._id)&&E===!1?new Date(m).toISOString()<new Date(g).toISOString()&&new Date(n).toISOString()>new Date(F).toISOString()&&o===k?(ee(!0),!0):(ee(!1),!1):(console.log("first else"),ee(!1),!1)};if((r==null?void 0:r.checkindate)&&(r==null?void 0:r.checkoutdate)&&(r==null?void 0:r.propertyid)){let i=!1;for(let a=0;a<b.length;a++){const o=b[a];if(e(o)){i=!0;break}}ee(i)}else ee(!1)},[r==null?void 0:r.checkindate,r==null?void 0:r.checkoutdate,r==null?void 0:r.propertyid]),l(A,{children:[l("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[l(X,{to:"/calendar-2-0",className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",children:[l("img",{src:Bl,alt:"Calendar icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:t,lineNumber:1207,columnNumber:21},void 0),l("p",{className:"text-[14px] leading regular color-black",children:"Calendar View"},void 0,!1,{fileName:t,lineNumber:1208,columnNumber:21},void 0)]},void 0,!0,{fileName:t,lineNumber:1206,columnNumber:17},void 0),l("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",onClick:()=>De(x),children:[l("img",{src:Hl,alt:"Excel icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:t,lineNumber:1215,columnNumber:21},void 0),l("p",{className:"text-[14px] leading regular color-black",children:"Export in Excel"},void 0,!1,{fileName:t,lineNumber:1216,columnNumber:21},void 0)]},void 0,!0,{fileName:t,lineNumber:1214,columnNumber:17},void 0),r&&(r==null?void 0:r.cancelled)===!1?l(A,{children:l(ul,{title:"Do you want to Cancel this booking?",label:"Cancel booking",labelClass:"btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:r,onDataUpdate:S,bookingtable:!0,cancelkrnihai:!0,bookingUpdate:!0,children:l("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:t,lineNumber:1232,columnNumber:33},void 0)},void 0,!1,{fileName:t,lineNumber:1221,columnNumber:29},void 0)},void 0,!1):null,Ee===!1&&r&&(r==null?void 0:r.cancelled)===!0?l(A,{children:l(ul,{title:"Do you want to Approve this booking?",label:"Approve booking",labelClass:"btn btn inline-flex justify-center btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:r,onDataUpdate:S,bookingtable:!0,cancelkrnihai:!1,alreadyBooking:Ee,bookingUpdate:!0,children:l("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:t,lineNumber:1253,columnNumber:33},void 0)},void 0,!1,{fileName:t,lineNumber:1241,columnNumber:29},void 0)},void 0,!1):null,Ee===!0&&r&&(r==null?void 0:r.cancelled)===!0?l(A,{children:l("button",{type:"button",class:"btn btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",children:"This property cannot be approved as it is already booked"},void 0,!1,{fileName:t,lineNumber:1262,columnNumber:29},void 0)},void 0,!1):null,l(A,{},void 0,!1),l("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>q(!J),children:[J===!0?l(_,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:t,lineNumber:1290,columnNumber:29},void 0):l(_,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:t,lineNumber:1291,columnNumber:29},void 0),l("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:t,lineNumber:1293,columnNumber:21},void 0)]},void 0,!0,{fileName:t,lineNumber:1286,columnNumber:17},void 0),d===!0?l("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",type:"button",onClick:y,children:"Remove Date Filter"},void 0,!1,{fileName:t,lineNumber:1297,columnNumber:25},void 0):null,l("div",{className:"w-[180px]",children:l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:z,value:z==null?void 0:z.filter(function(e){return e.value===I}),onChange:e=>{pe(e==null?void 0:e.value)},styles:G,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:t,lineNumber:1300,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:1299,columnNumber:17},void 0),l(Ll,{filter:pl,setFilter:fl},void 0,!1,{fileName:t,lineNumber:1316,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:1203,columnNumber:13},void 0),l("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${J===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."},void 0,!1,{fileName:t,lineNumber:1320,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:_e,value:_e.filter(function(e){if((s==null?void 0:s.unitnumber)!=="")return e.value===(s==null?void 0:s.unitnumber)}),onChange:e=>{H({target:{name:"unitnumber",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1323,columnNumber:21},void 0),s!=null&&s.unitnumber?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,unitnumber:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1342,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1319,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"},void 0,!1,{fileName:t,lineNumber:1348,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Me,value:Me.filter(function(e){if((s==null?void 0:s.communityid)!=="")return e.value===(s==null?void 0:s.communityid)}),onChange:e=>{H({target:{name:"communityid",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1351,columnNumber:21},void 0),s!=null&&s.communityid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,communityid:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1370,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1347,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"},void 0,!1,{fileName:t,lineNumber:1376,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:je,value:je.filter(function(e){if((s==null?void 0:s.projectnameid)!=="")return e.value===(s==null?void 0:s.projectnameid)}),onChange:e=>{H({target:{name:"projectnameid",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1379,columnNumber:21},void 0),s!=null&&s.projectnameid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,projectnameid:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1398,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1375,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"},void 0,!1,{fileName:t,lineNumber:1404,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Pe,value:Pe.filter(function(e){if((s==null?void 0:s.buildingid)!=="")return e.value===(s==null?void 0:s.buildingid)}),onChange:e=>{H({target:{name:"buildingid",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1407,columnNumber:21},void 0),s!=null&&s.buildingid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,buildingid:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1426,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1403,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"},void 0,!1,{fileName:t,lineNumber:1432,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Re,value:Re.filter(function(e){if(s!=null&&s.owner_email)return e.value===(s==null?void 0:s.owner_email)}),onChange:e=>{H({target:{name:"owner_email",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1435,columnNumber:21},void 0),s!=null&&s.owner_email?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,customerid:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1454,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1431,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Guest Name / Email"},void 0,!1,{fileName:t,lineNumber:1460,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ue,value:Ue.filter(function(e){if((s==null?void 0:s.email)!=="")return e.value===(s==null?void 0:s.email)}),onChange:e=>{H({target:{name:"email",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1463,columnNumber:21},void 0),s!=null&&s.email?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,email:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1482,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1459,columnNumber:17},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Booking Agent"},void 0,!1,{fileName:t,lineNumber:1488,columnNumber:21},void 0),l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ge,value:Ge.filter(function(e){if((s==null?void 0:s.bookingagent)!=="")return e.value===(s==null?void 0:s.bookingagent)}),onChange:e=>{H({target:{name:"bookingagent",value:e.value}})},styles:G,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:t,lineNumber:1491,columnNumber:21},void 0),s!=null&&s.bookingagent?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>L({...s,bookingagent:""}),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1510,columnNumber:29},void 0):null]},void 0,!0,{fileName:t,lineNumber:1487,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:1318,columnNumber:13},void 0),l("div",{className:`flex ${J===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[l("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>El(),children:"Clear filter"},void 0,!1,{fileName:t,lineNumber:1517,columnNumber:17},void 0),l("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>P(s),children:"Search"},void 0,!1,{fileName:t,lineNumber:1518,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:1516,columnNumber:13},void 0),l(_l,{showModal:K,handleClose:xe,loaderModal:ge,linkedData:T,handleDeleteData:Ce,dataId:me,moduleName:"Booking"},void 0,!1,{fileName:t,lineNumber:1520,columnNumber:13},void 0),l(jl,{showModal:Z},void 0,!1,{fileName:t,lineNumber:1521,columnNumber:13},void 0),l("div",{className:"overflow-x-auto -mx-6 mt-6",children:l("div",{className:"inline-block min-w-full align-middle",children:l("div",{className:"",children:l("table",{className:"min-w-[206%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...c,children:[l("thead",{className:"bg-slate-200 dark:bg-slate-700",children:N.map(e=>l("tr",{...e.getHeaderGroupProps(),children:e.headers.map(i=>i.Header==="action"&&!((D==null?void 0:D.readbooking)===!0||(D==null?void 0:D.updatebooking)===!0||(D==null?void 0:D.deletebooking)===!0)?l("th",{},void 0,!1,{fileName:t,lineNumber:1538,columnNumber:56},void 0):l("th",{...i.getHeaderProps(i.getSortByToggleProps()),scope:"col",className:"table-th",children:[i.render("Header"),l("span",{children:i.isSorted?i.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:t,lineNumber:1548,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1542,columnNumber:49},void 0))},void 0,!1,{fileName:t,lineNumber:1531,columnNumber:37},void 0))},void 0,!1,{fileName:t,lineNumber:1529,columnNumber:29},void 0),R===!0?l("div",{className:"pl-[10px]",children:l(Fe,{},void 0,!1,{fileName:t,lineNumber:1560,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:1559,columnNumber:37},void 0):l("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...h,children:p.map(e=>(bl(e),l("tr",{...e.getRowProps(),children:e.cells.map(i=>l("td",{...i.getCellProps(),className:"table-td",children:i.render("Cell")},void 0,!1,{fileName:t,lineNumber:1573,columnNumber:61},void 0))},void 0,!1,{fileName:t,lineNumber:1570,columnNumber:49},void 0)))},void 0,!1,{fileName:t,lineNumber:1563,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1525,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:1524,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:1523,columnNumber:17},void 0)},void 0,!1,{fileName:t,lineNumber:1522,columnNumber:13},void 0),l("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[l("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[l("select",{className:"form-control py-2 w-max",value:gl,onChange:e=>vl(Number(e.target.value)),children:[50,100,200].map(e=>l("option",{value:e,children:["Show ",e]},e,!0,{fileName:t,lineNumber:1595,columnNumber:29},void 0))},void 0,!1,{fileName:t,lineNumber:1589,columnNumber:21},void 0),l("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",l("span",{children:[Be+1," of ",Ie.length]},void 0,!0,{fileName:t,lineNumber:1602,columnNumber:25},void 0)]},void 0,!0,{fileName:t,lineNumber:1600,columnNumber:21},void 0)]},void 0,!0,{fileName:t,lineNumber:1588,columnNumber:17},void 0),l("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${be?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Ae(0),disabled:!be,children:l(_,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:t,lineNumber:1615,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1609,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:1608,columnNumber:21},void 0),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${be?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>B(),disabled:!be,children:"Prev"},void 0,!1,{fileName:t,lineNumber:1619,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:1618,columnNumber:21},void 0),Ie.map((e,i)=>l("li",{children:l("button",{href:"#","aria-current":"page",className:` ${i===Be?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>Ae(i),children:e+1},void 0,!1,{fileName:t,lineNumber:1630,columnNumber:29},void 0)},i,!1,{fileName:t,lineNumber:1629,columnNumber:25},void 0)),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${fe?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>C(),disabled:!fe,children:"Next"},void 0,!1,{fileName:t,lineNumber:1644,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:1643,columnNumber:21},void 0),l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{onClick:()=>Ae(Nl-1),disabled:!fe,className:` ${fe?"":"opacity-50 cursor-not-allowed"}`,children:l(_,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:t,lineNumber:1660,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1654,columnNumber:25},void 0)},void 0,!1,{fileName:t,lineNumber:1653,columnNumber:21},void 0)]},void 0,!0,{fileName:t,lineNumber:1607,columnNumber:17},void 0)]},void 0,!0,{fileName:t,lineNumber:1587,columnNumber:13},void 0)]},void 0,!0)};var v="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\BookingTable.jsx";const Rl={option:(x,S)=>({...x,fontSize:"14px"})},Ul=({title:x,linktitle:S,pagelink:D,handleDataUpdate:b})=>{const P=localStorage.getItem("isAuth"),$=JSON.parse(P),{data:R}=rl($==null?void 0:$.roleid),[d,y]=u.exports.useState([]),[z,I]=u.exports.useState(!1),[pe,W]=u.exports.useState(""),[K,Y]=u.exports.useState(""),[ge,Q]=u.exports.useState(!1);u.exports.useState({startDate:"",endDate:""});const[T,oe]=u.exports.useState(""),me=[{value:"SELECT RESERVATION DATE",label:"SELECT RESERVATION DATE"},{value:"SELECT CHECK-IN DATE",label:"SELECT CHECK-IN DATE"},{value:"SELECT CHECK-OUT DATE",label:"SELECT CHECK-OUT DATE"}],[he,s]=u.exports.useState({startDate:"",endDate:""}),[L,Z]=u.exports.useState({startDate:"",endDate:""}),[Le,H]=u.exports.useState({startDate:"",endDate:""}),[J,q]=u.exports.useState(!1),V=async c=>{if(T==="SELECT RESERVATION DATE"){s(c);const h=d.filter(N=>{let f=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const p=new Date(N.reservationdate),C=new Date(c==null?void 0:c.startDate),B=new Date(c==null?void 0:c.endDate);p.setHours(0,0,0,0),C.setHours(0,0,0,0),B.setHours(0,0,0,0),(p<C||p>B)&&(f=!1)}return f});y(h),q(!0)}else if(T==="SELECT CHECK-IN DATE"){Z(c);const h=d.filter(N=>{let f=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const p=new Date(N.checkindate),C=new Date(c==null?void 0:c.startDate),B=new Date(c==null?void 0:c.endDate);p.setHours(0,0,0,0),C.setHours(0,0,0,0),B.setHours(0,0,0,0),(p<C||p>B)&&(f=!1)}return f});y(h),q(!0)}else if(T==="SELECT CHECK-OUT DATE"){H(c);const h=d.filter(N=>{let f=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const p=new Date(N.checkoutdate),C=new Date(c==null?void 0:c.startDate),B=new Date(c==null?void 0:c.endDate);p.setHours(0,0,0,0),C.setHours(0,0,0,0),B.setHours(0,0,0,0),(p<C||p>B)&&(f=!1)}return f});y(h),q(!0)}},xe=async()=>{I(!0);const h=await(await fetch("http://stg.srp.ai/booking")).json();y(h),Y(h),s({startDate:"",endDate:""}),Z({startDate:"",endDate:""}),H({startDate:"",endDate:""}),oe(""),I(!1),q(!1)},Ce=[{value:"All Booking",label:"All Booking"},{value:"Approved Booking",label:"Approved Booking"},{value:"Cancelled Booking",label:"Cancelled Booking"}],[O,De]=u.exports.useState("All Booking");u.exports.useEffect(()=>{O==="All Booking"?(async()=>{I(!0);const N=await(await fetch("http://stg.srp.ai/booking")).json();y(N),Y(N),W(N),I(!1)})():O==="Approved Booking"?(async()=>{I(!0);const N=await(await fetch("http://stg.srp.ai/booking/api/approvedbooking")).json();y(N),Y(N),I(!1)})():O==="Cancelled Booking"&&(async()=>{I(!0);const N=await(await fetch("http://stg.srp.ai/booking/api/cancelledbooking?cancelled=true")).json();y(N),Y(N),I(!1)})()},[O]);const[ue,re]=u.exports.useState(0),r={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},de={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}};u.exports.useEffect(()=>{var c,h,N;if(O==="All Booking"){let f=0;for(let p=0;p<(d==null?void 0:d.length);p++){let C=parseFloat((c=d[p])==null?void 0:c.roomrentamount);!isNaN(C)&&((h=d[p])==null?void 0:h.cancelled)===!1&&(f+=C)}re(f||0)}else{let f=0;for(let p=0;p<(d==null?void 0:d.length);p++){let C=parseFloat((N=d[p])==null?void 0:N.roomrentamount);isNaN(C)||(f+=C)}re(f||0)}},[d==null?void 0:d.length,O]);const[He,w]=u.exports.useState(0);u.exports.useEffect(()=>{if(O==="All Booking"||O==="Approved Booking"){let c=d==null?void 0:d.filter(h=>h.cancelled===!1).length;w(c)}else{let c=d==null?void 0:d.length;w(c)}},[O,d]);const Ne=[{name:r,title:"Total No of Check-In",count:He,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:de,title:"Total Collection",count:ue?ue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"}];function ve(c){if(c){const h=d.filter(N=>{Q(!0);let f=!0;return c.buildingid&&N.buildingid!==c.buildingid&&(f=!1),c.communityid&&N.communityid!==c.communityid&&(f=!1),c.owner_email&&N.owner_email!==c.owner_email&&(f=!1),c.projectnameid&&N.projectnameid!==c.projectnameid&&(f=!1),c.unitnumber&&N.unitnumber!==c.unitnumber&&(f=!1),c.email&&N.email!==c.email&&(f=!1),c.bookingagent&&N.bookingagent!==c.bookingagent&&(f=!1),f});y(h),Q(!1)}else y(K)}const ke=async()=>{Q(!0),s({startDate:"",endDate:""}),Z({startDate:"",endDate:""}),H({startDate:"",endDate:""}),oe(""),y(K),Q(!1),q(!1)};return l(A,{children:z===!0?l(Fe,{},void 0,!1,{fileName:v,lineNumber:645,columnNumber:21},void 0):l(ml,{children:[l("div",{className:"flex justify-between items-center mb-6",children:[l("h4",{className:"card-title",children:x},void 0,!1,{fileName:v,lineNumber:648,columnNumber:29},void 0),(R==null?void 0:R.createbooking)===!0&&l(X,{to:D,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:S},void 0,!1,{fileName:v,lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:v,lineNumber:647,columnNumber:25},void 0),l("div",{className:"grid grid-cols-12 gap-5 mb-5",children:l("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:[l(ml,{bodyClass:"p-4",children:l("div",{className:"grid md:grid-cols-2 col-span-1 gap-4",children:l(Ol,{statistics:Ne},void 0,!1,{fileName:v,lineNumber:694,columnNumber:41},void 0)},void 0,!1,{fileName:v,lineNumber:693,columnNumber:37},void 0)},void 0,!1,{fileName:v,lineNumber:657,columnNumber:33},void 0),l("div",{className:"flex justify-end items-center mb-[15px] mt-[25px]",children:l("div",{className:"flex justify-end items-center ",children:l("div",{className:"flex -gap-x-[5px] items-center",children:[l("div",{className:"w-[300px]",children:l(j,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:me,value:me.filter(function(c){return c.value===T}),onChange:c=>{oe(c==null?void 0:c.value)},styles:Rl,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:v,lineNumber:701,columnNumber:49},void 0)},void 0,!1,{fileName:v,lineNumber:700,columnNumber:45},void 0),T&&T==="SELECT RESERVATION DATE"?l("div",{className:"w-[150px]",children:l("div",{className:"date-range-custom relative",children:l(ye,{value:he,inputClassName:"input-class",containerClassName:"container-class",onChange:V,placeholder:"SELECT RESERVATION DATE"},void 0,!1,{fileName:v,lineNumber:721,columnNumber:61},void 0)},void 0,!1,{fileName:v,lineNumber:720,columnNumber:57},void 0)},void 0,!1,{fileName:v,lineNumber:719,columnNumber:53},void 0):null,T&&T==="SELECT CHECK-IN DATE"?l("div",{className:"w-[150px]",children:l("div",{className:"date-range-custom relative",children:l(ye,{value:L,inputClassName:"input-class",containerClassName:"container-class",onChange:V,placeholder:"SELECT CHECK-IN DATE"},void 0,!1,{fileName:v,lineNumber:735,columnNumber:61},void 0)},void 0,!1,{fileName:v,lineNumber:734,columnNumber:57},void 0)},void 0,!1,{fileName:v,lineNumber:733,columnNumber:53},void 0):null,T&&T==="SELECT CHECK-OUT DATE"?l("div",{className:"w-[150px]",children:l("div",{className:"date-range-custom relative",children:l(ye,{value:Le,inputClassName:"input-class",containerClassName:"container-class",onChange:V,placeholder:"SELECT CHECK-OUT DATE"},void 0,!1,{fileName:v,lineNumber:749,columnNumber:61},void 0)},void 0,!1,{fileName:v,lineNumber:748,columnNumber:57},void 0)},void 0,!1,{fileName:v,lineNumber:747,columnNumber:53},void 0):null]},void 0,!0,{fileName:v,lineNumber:699,columnNumber:41},void 0)},void 0,!1,{fileName:v,lineNumber:698,columnNumber:37},void 0)},void 0,!1,{fileName:v,lineNumber:697,columnNumber:33},void 0)]},void 0,!0,{fileName:v,lineNumber:656,columnNumber:29},void 0)},void 0,!1,{fileName:v,lineNumber:655,columnNumber:25},void 0),(K==null?void 0:K.length)&&(d==null?void 0:d.length)?l(Pl,{allBooking:d,handleDataUpdate:b,dataRole:R,forFilterData:pe,handleClearFilter:ke,typeOfBooking:Ce,selectedtypeOfBooking:O,setSelectedtypeOfBooking:De,filterLoader:ge,handleFilterSearch:ve,dataFilterActive:J,removeDateFilter:xe},void 0,!1,{fileName:v,lineNumber:766,columnNumber:33},void 0):l("div",{className:"flex justify-center items-center",children:l("img",{src:Fl,alt:"NotFound",className:"h-[564px] object-contain"},void 0,!1,{fileName:v,lineNumber:768,columnNumber:37},void 0)},void 0,!1,{fileName:v,lineNumber:767,columnNumber:33},void 0)]},void 0,!0,{fileName:v,lineNumber:646,columnNumber:21},void 0)},void 0,!1)};var Oe="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBooking.jsx";const Ni=()=>{const[x,S]=u.exports.useState([]),[D,b]=u.exports.useState(!1);return u.exports.useEffect(()=>{b(!0),(async()=>{const d=await(await fetch("http://stg.srp.ai/booking")).json();S(d),b(!1)})()},[]),l(A,{children:D===!1?l("div",{className:" space-y-5",children:l(Ul,{pagelink:"/add-booking",linktitle:"Add new Booking",title:"All Booking",allData:x,handleDataUpdate:()=>{(async()=>{b(!0);const d=await(await fetch("http://stg.srp.ai/booking")).json();S(d),b(!1)})()}},void 0,!1,{fileName:Oe,lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:Oe,lineNumber:73,columnNumber:21},void 0):l(Fe,{},void 0,!1,{fileName:Oe,lineNumber:75,columnNumber:30},void 0)},void 0,!1)};export{Ni as default};
