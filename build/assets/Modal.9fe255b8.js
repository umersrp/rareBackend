import{r as n,P as W,V as Y,j as r,F as B,c,N as p,W as d,I as O,K as m,Q as A}from"./index.1adaee61.js";const R=({activeModal:H,onClose:w,noFade:t,disableBackdrop:h,className:b="max-w-xl",children:N,footerContent:_,centered:T,scrollContent:k,themeClass:j="bg-slate-900 dark:bg-slate-800 dark:border-b dark:border-slate-700",title:M="Basic Modal",uncontrol:I,label:q="Basic Modal",labelClass:D,alldata:e,ref:E,onDataUpdate:a,unlisted:u,bookingUpdate:f,cancelbooking:x,setSelectedBooking:G,bookingtable:v,cancelkrnihai:l,deletebooking:y,alreadyBooking:J})=>{const[$,C]=n.exports.useState(!1),s=()=>{C(!1)},K=()=>{C(!$)},Q=()=>null,[P]=W(),[S]=Y(),[z,o]=n.exports.useState(!1),V=async()=>{if(f&&f!==void 0&&f!=="undefined"){if(x&&x!==void 0&&x!=="undefined"){o(!0);try{await m.patch("http://dev-rare.srp.ai/booking/api/updatebooking",{_id:e==null?void 0:e._id,cancelled:!0}),a(),setTimeout(()=>{s()},1500),o(!1)}catch(i){console.log(i,"error"),o(!1),setTimeout(()=>{s()},1500)}}else if(v&&v!==void 0&&v!=="undefined"){if(l===!0&&l!==void 0&&l!=="undefined"){o(!0);try{await m.patch("http://dev-rare.srp.ai/booking/api/updatebooking",{_id:e==null?void 0:e._id,cancelled:!0}),a(),setTimeout(()=>{s()},1500),o(!1)}catch(i){console.log(i,"error"),o(!1),setTimeout(()=>{s()},1500)}}else if(l===!1&&l!==void 0&&l!=="undefined"){o(!0);try{await m.patch("http://dev-rare.srp.ai/booking/api/updatebooking",{_id:e==null?void 0:e._id,cancelled:!1}),a(),setTimeout(()=>{s()},1500),o(!1)}catch(i){console.log(i,"error"),o(!1),setTimeout(()=>{s()},1500)}}else if(y&&y!==void 0&&y!=="undefined"){o(!0);try{await m.patch("http://dev-rare.srp.ai/booking/api/updatebooking",{_id:e==null?void 0:e._id,softdelete:!0}),a(),setTimeout(()=>{s()},1500),o(!1)}catch(i){console.log(i,"error"),o(!1),setTimeout(()=>{s()},1500)}}}}else if(e!=null&&e.porpertyid){o(!0);const i=new FormData;i.append("_id",e==null?void 0:e.porpertyid),i.append("unlisted",u);try{await P(i),await S({_id:e==null?void 0:e._id,unlisted:u,unlist_date:new Date}),a(),setTimeout(()=>{s()},1500)}catch(g){console.log(g,"error"),A.error("Something went wrong",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),s()}}else if(e!=null&&e.available_id){o(!0);const i=new FormData;i.append("_id",e==null?void 0:e._id),i.append("unlisted",u);try{await P(i),await S({_id:e==null?void 0:e.available_id,unlisted:u,unlist_date:new Date}),a(),setTimeout(()=>{s()},1500)}catch(g){console.log(g,"error"),A.error("Something went wrong",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),s()}}};return r(B,{children:I?c(B,{children:[r("button",{type:"button",onClick:K,className:`btn ${D}`,children:q}),r(p,{appear:!0,show:$,as:n.exports.Fragment,children:c(d,{as:"div",className:"relative z-[99999]",onClose:h?Q:s,children:[!h&&r(p.Child,{as:n.exports.Fragment,enter:t?"":"duration-300 ease-out",enterFrom:t?"":"opacity-0",enterTo:t?"":"opacity-100",leave:t?"":"duration-200 ease-in",leaveFrom:t?"":"opacity-100",leaveTo:t?"":"opacity-0",children:r("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-filter backdrop-blur-sm"})}),r("div",{className:"fixed inset-0 overflow-y-auto",children:r("div",{className:`flex min-h-full justify-center text-center p-6 ${T?"items-center":"items-start "}`,children:r(p.Child,{as:n.exports.Fragment,enter:t?"":"duration-300  ease-out",enterFrom:t?"":"opacity-0 scale-95",enterTo:t?"":"opacity-100 scale-100",leave:t?"":"duration-200 ease-in",leaveFrom:t?"":"opacity-100 scale-100",leaveTo:t?"":"opacity-0 scale-95",children:c(d.Panel,{className:`w-full transform overflow-hidden rounded-md
                 bg-white dark:bg-slate-800 text-left align-middle shadow-xl transition-alll ${b}`,children:[c("div",{className:`relative overflow-hidden py-4 px-5 text-white flex justify-between  ${j}`,children:[r("h2",{className:"capitalize leading-6 tracking-wider font-medium text-base text-white",children:M}),r("button",{onClick:s,className:"text-[22px]",children:r(O,{icon:"heroicons-outline:x"})})]}),r("div",{className:`px-6 py-8 ${k?"overflow-y-auto max-h-[400px]":""}`,children:N}),c("div",{className:"flex justify-end p-[24px] relative w-[100%]",children:[r("button",{onClick:V,className:`btn-dark py-[8px] px-[24px] rounded-[5px] select-none ${z===!0?"opacity-[0.7]":""}`,children:"Yes"}),z===!0?r("div",{className:" absolute top-[27%] right-[4%] w-[76px] black-bg flex select-none justify-center h-[38px] button-style items-center",children:r("div",{className:"loader-spiner"})}):null]})]})})})})]})})]}):r(p,{appear:!0,show:H,as:n.exports.Fragment,children:c(d,{as:"div",className:"relative z-[99999]",onClose:w,children:[r(p.Child,{as:n.exports.Fragment,enter:t?"":"duration-300 ease-out",enterFrom:t?"":"opacity-0",enterTo:t?"":"opacity-100",leave:t?"":"duration-200 ease-in",leaveFrom:t?"":"opacity-100",leaveTo:t?"":"opacity-0",children:!h&&r("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-filter backdrop-blur-sm"})}),r("div",{className:"fixed inset-0 overflow-y-auto",children:r("div",{className:`flex min-h-full justify-center text-center p-6 ${T?"items-center":"items-start "}`,children:r(p.Child,{as:n.exports.Fragment,enter:t?"":"duration-300  ease-out",enterFrom:t?"":"opacity-0 scale-95",enterTo:t?"":"opacity-100 scale-100",leave:t?"":"duration-200 ease-in",leaveFrom:t?"":"opacity-100 scale-100",leaveTo:t?"":"opacity-0 scale-95",children:c(d.Panel,{className:`w-full transform overflow-hidden rounded-md
                 bg-white dark:bg-slate-800 text-left align-middle shadow-xl transition-alll ${b}`,children:[c("div",{className:`relative overflow-hidden py-4 px-5 text-white flex justify-between  ${j}`,children:[r("h2",{className:"capitalize leading-6 tracking-wider font-medium text-base text-white",children:M}),r("button",{onClick:w,className:"text-[22px]",children:r(O,{icon:"heroicons-outline:x"})})]}),r("div",{className:`px-6 py-8 ${k?"overflow-y-auto max-h-[400px]":""}`,children:N}),_&&r("div",{className:"px-4 py-3 flex justify-end space-x-3 border-t border-slate-100 dark:border-slate-700",children:_})]})})})})]})})})};export{R as M};
