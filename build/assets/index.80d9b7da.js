import{v as Ba,w as Sa,bd as _a,B as Ua,r as m,x as $a,y as Ja,j as E,b as P,L as Ka,c7 as Qa,c8 as Za,C as Da}from"./index.5e55c1ba.js";import{i as Ra,c as De,D as Ia,T as eo,E as to,p as no,a as so,b as ro,d as ao,I as he,e as me,f as oo,g as we,h as xe,t as io,j as Ee,k as Ma,l as O,m as H,n as ka,o as Na,q as ie,r as le,s as lo,u as Aa,v as ja,w as ma,x as co,y as C,z as La,A as Pe,B as ve,C as ho,F as po,G as Ha,H as go,J as fo,K as uo,L as vo,M as yo,N as Eo,O as bo,P as So,Q as Do,R as mo,W as wo,S as xo,U as Po,V as Co,X as Oa,Y as To,Z as wa,_ as ce,$ as b,a0 as _o,a1 as Ro,a2 as Ce,a3 as Va,a4 as Mo,a5 as ko,a6 as No,a7 as Ao,a8 as jo,a9 as Fa,aa as Lo,ab as xa,ac as Ho,ad as Ya,ae as Oo,af as Vo,ag as Fo,ah as ye,ai as Pa,aj as Yo,ak as Xo}from"./index.ff27331a.js";import{M as zo}from"./Modal.7f5fdd60.js";var Go=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Ra(Go);var Wo=De({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Ia,dateProfileGeneratorClass:eo},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Pe.touchMouseIgnoreWait=500;let be=0,de=0,Se=!1;class Xa{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&qo(e)&&this.tryStart(e)){let n=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let n=this.createEventFromMouse(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let n=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let s=e.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let n=this.createEventFromTouch(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=e=>{if(this.isDragging){let n=e.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,Bo()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let n=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:s,deltaX:n-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=t,this.emitter=new La,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Uo()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),$o()}tryStart(t){let e=this.querySubjectEl(t),n=t.target;return e&&(!this.handleSelector||O(n,this.handleSelector))?(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Se=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?O(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return be||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Se=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,e){let n=0,s=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,s=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:s}}createEventFromTouch(t,e){let n=t.touches,s,o,r=0,a=0;return n&&n.length?(s=n[0].pageX,o=n[0].pageY):(s=t.pageX,o=t.pageY),e?(this.origPageX=s,this.origPageY=o):(r=s-this.origPageX,a=o-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:o,deltaX:r,deltaY:a}}}function qo(l){return l.button===0&&!l.ctrlKey}function Bo(){be+=1,setTimeout(()=>{be-=1},Pe.touchMouseIgnoreWait)}function Uo(){de+=1,de===1&&window.addEventListener("touchmove",za,{passive:!1})}function $o(){de-=1,de||window.removeEventListener("touchmove",za,{passive:!1})}function za(l){Se&&l.preventDefault()}class Jo{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,e,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,e){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,e){let n=()=>{this.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(t,e){let n=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();n.style.transition="top "+e+"ms,left "+e+"ms",ve(n,{left:s.left,top:s.top}),ho(n,()=>{n.style.transition="",t()})}cleanup(){this.mirrorEl&&(po(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ve(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.classList.add("fc-unselectable"),e.classList.add("fc-event-dragging"),ve(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e}}class Ga extends Co{constructor(t,e){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=e,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Wa extends Ga{constructor(t,e){super(new Do(t),e)}getEventTarget(){return this.scrollController.el}computeClientRect(){return mo(this.scrollController.el)}}class Ko extends Ga{constructor(t){super(new wo,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ca=typeof performance=="function"?performance.now:Date.now;class Qo{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(t){let e=Ca();this.handleSide(t,(e-this.msSinceRequest)/1e3),this.requestAnimation(e)}else this.isAnimating=!1}}}start(t,e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))}handleMove(t,e){if(this.isEnabled){let n=t-window.pageXOffset,s=e-window.pageYOffset,o=this.pointerScreenY===null?0:s-this.pointerScreenY,r=this.pointerScreenX===null?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ca()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,e){let{scrollCache:n}=t,{edgeThreshold:s}=this,o=s-t.distance,r=o*o/(s*s)*this.maxVelocity*e,a=1;switch(t.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+r*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+r*a);break}}computeBestEdge(t,e){let{edgeThreshold:n}=this,s=null,o=this.scrollCaches||[];for(let r of o){let a=r.clientRect,i=t-a.left,d=a.right-t,g=e-a.top,f=a.bottom-e;i>=0&&d>=0&&g>=0&&f>=0&&(g<=n&&this.everMovedUp&&r.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:r,name:"top",distance:g}),f<=n&&this.everMovedDown&&r.canScrollDown()&&(!s||s.distance>f)&&(s={scrollCache:r,name:"bottom",distance:f}),i<=n&&this.everMovedLeft&&r.canScrollLeft()&&(!s||s.distance>i)&&(s={scrollCache:r,name:"left",distance:i}),d<=n&&this.everMovedRight&&r.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:r,name:"right",distance:d}))}return s}buildCaches(t){return this.queryScrollEls(t).map(e=>e===window?new Ko(!1):new Wa(e,!1))}queryScrollEls(t){let e=[];for(let n of this.scrollQuery)typeof n=="object"?e.push(n):e.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(n)));return e}}class U extends to{constructor(t,e){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,no(document.body),so(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let o=this.minDistance,r,{deltaX:a,deltaY:i}=s;r=a*a+i*i,r>=o*o&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,ro(document.body),ao(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Xa(t);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),e&&(n.selector=e),this.mirror=new Jo,this.autoScroller=new Qo}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class Zo{constructor(t){this.origRect=Ha(t),this.scrollCaches=xo(t).map(e=>new Wa(e,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let e of this.scrollCaches)t+=e.origScrollLeft-e.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let e of this.scrollCaches)t+=e.origScrollTop-e.getScrollTop();return t}isWithinClipping(t,e){let n={left:t,top:e};for(let s of this.scrollCaches)if(!Io(s.getEventTarget())&&!Po(n,s.clientRect))return!1;return!0}}function Io(l){let t=l.tagName;return t==="HTML"||t==="BODY"}class pe{constructor(t,e){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):s.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new La}processFirstCoord(t){let e={left:t.pageX,top:t.pageY},n=e,s=t.subjectEl,o;s instanceof HTMLElement&&(o=Ha(s),n=go(n,o));let r=this.initialHit=this.queryHitForOffset(n.left,n.top);if(r){if(this.useSubjectCenter&&o){let a=fo(o,r.rect);a&&(n=uo(a))}this.coordAdjust=vo(n,e)}else this.coordAdjust={left:0,top:0}}handleMove(t,e){let n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(e||!ge(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))}prepareHits(){this.offsetTrackers=yo(this.droppableStore,t=>(t.component.prepareHits(),new Zo(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(t,e){let{droppableStore:n,offsetTrackers:s}=this,o=null;for(let r in n){let a=n[r].component,i=s[r];if(i&&i.isWithinClipping(t,e)){let d=i.computeLeft(),g=i.computeTop(),f=t-d,u=e-g,{origRect:v}=i,D=v.right-v.left,h=v.bottom-v.top;if(f>=0&&f<D&&u>=0&&u<h){let y=a.queryHit(f,u,D,h);y&&Eo(y.dateProfile.activeRange,y.dateSpan.range)&&(!o||y.layer>o.layer)&&(y.componentId=r,y.context=a.context,y.rect.left+=d,y.rect.right+=d,y.rect.top+=g,y.rect.bottom+=g,o=y)}}}return o}}function ge(l,t){return!l&&!t?!0:Boolean(l)!==Boolean(t)?!1:bo(l.dateSpan,t.dateSpan)}function qa(l,t){let e={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(e,n(l,t));return Object.assign(e,ei(l,t.dateEnv)),e}function ei(l,t){return{date:t.toDate(l.range.start),dateStr:t.formatIso(l.range.start,{omitTime:l.allDay}),allDay:l.allDay}}class ti extends he{constructor(t){super(t),this.handlePointerDown=n=>{let{dragging:s}=this,o=n.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=n=>{let{component:s}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:r,finalHit:a}=this.hitDragging;if(r&&a&&ge(r,a)){let{context:i}=s,d=Object.assign(Object.assign({},qa(r.dateSpan,i)),{dayEl:r.dayEl,jsEvent:n.origEvent,view:i.viewApi||i.calendarApi.view});i.emitter.trigger("dateClick",d)}}},this.dragging=new U(t.el),this.dragging.autoScroller.isEnabled=!1;let e=this.hitDragging=new pe(this.dragging,me(t));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class ni extends he{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=r=>{let{component:a,dragging:i}=this,{options:d}=a.context,g=d.selectable&&a.isValidDateDownEl(r.origEvent.target);i.setIgnoreMove(!g),i.delay=r.isTouch?si(a):null},this.handleDragStart=r=>{this.component.context.calendarApi.unselect(r)},this.handleHitUpdate=(r,a)=>{let{context:i}=this.component,d=null,g=!1;if(r){let f=this.hitDragging.initialHit;r.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,r)||(d=ri(f,r,i.pluginHooks.dateSelectionTransformers)),(!d||!oo(d,r.dateProfile,i))&&(g=!0,d=null)}d?i.dispatch({type:"SELECT_DATES",selection:d}):a||i.dispatch({type:"UNSELECT_DATES"}),g?xe():we(),a||(this.dragSelection=d)},this.handlePointerUp=r=>{this.dragSelection&&(io(this.dragSelection,r,this.component.context),this.dragSelection=null)};let{component:e}=t,{options:n}=e.context,s=this.dragging=new U(t.el);s.touchScrollAllowed=!1,s.minDistance=n.selectMinDistance||0,s.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new pe(this.dragging,me(t));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function si(l){let{options:t}=l.context,e=t.selectLongPressDelay;return e==null&&(e=t.longPressDelay),e}function ri(l,t,e){let n=l.dateSpan,s=t.dateSpan,o=[n.range.start,n.range.end,s.range.start,s.range.end];o.sort(So);let r={};for(let a of e){let i=a(l,t);if(i===!1)return null;i&&Object.assign(r,i)}return r.range={start:o[0],end:o[3]},r.allDay=n.allDay,r}class $ extends he{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let a=r.origEvent.target,{component:i,dragging:d}=this,{mirror:g}=d,{options:f}=i.context,u=i.context;this.subjectEl=r.subjectEl;let v=this.subjectSeg=Ee(r.subjectEl),h=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=Ma(u.getCurrentData().eventStore,h),d.minDistance=r.isTouch?0:f.eventDragMinDistance,d.delay=r.isTouch&&h!==i.props.eventSelection?oi(i):null,f.fixedMirrorParent?g.parentNode=f.fixedMirrorParent:g.parentNode=O(a,".fc"),g.revertDuration=f.dragRevertDuration;let y=i.isValidSegDownEl(a)&&!O(a,".fc-event-resizer");d.setIgnoreMove(!y),this.isDragging=y&&r.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=r=>{let a=this.component.context,i=this.eventRange,d=i.instance.instanceId;r.isTouch?d!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(r),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new H(a,i.def,i.instance),jsEvent:r.origEvent,view:a.viewApi}))},this.handleHitUpdate=(r,a)=>{if(!this.isDragging)return;let i=this.relevantEvents,d=this.hitDragging.initialHit,g=this.component.context,f=null,u=null,v=null,D=!1,h={affectedEvents:i,mutatedEvents:ie(),isEvent:!0};if(r){f=r.context;let y=f.options;g===f||y.editable&&y.droppable?(u=ai(d,r,f.getCurrentData().pluginHooks.eventDragMutationMassagers),u&&(v=ka(i,f.getCurrentData().eventUiBases,u,f),h.mutatedEvents=v,Na(h,r.dateProfile,f)||(D=!0,u=null,v=null,h.mutatedEvents=ie()))):f=null}this.displayDrag(f,h),D?xe():we(),a||(g===f&&ge(d,r)&&(u=null),this.dragging.setMirrorNeedsRevert(!u),this.dragging.setMirrorIsVisible(!r||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=u,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=r=>{if(this.isDragging){let a=this.component.context,i=a.viewApi,{receivingContext:d,validMutation:g}=this,f=this.eventRange.def,u=this.eventRange.instance,v=new H(a,f,u),D=this.relevantEvents,h=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:r.origEvent,view:i}),g){if(d===a){let T=new H(a,h.defs[f.defId],u?h.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:h});let _={oldEvent:v,event:T,relatedEvents:le(h,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:D})}},R={};for(let N of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(R,N(g,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},_),R),{el:r.subjectEl,delta:g.datesDelta,jsEvent:r.origEvent,view:i})),a.emitter.trigger("eventChange",_)}else if(d){let T={event:v,relatedEvents:le(D,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:D})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},T),{draggedEl:r.subjectEl,view:i})),a.dispatch({type:"REMOVE_EVENTS",eventStore:D}),a.emitter.trigger("eventRemove",T);let _=h.defs[f.defId],R=h.instances[u.instanceId],N=new H(d,_,R);d.dispatch({type:"MERGE_EVENTS",eventStore:h});let L={event:N,relatedEvents:le(h,d,R),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:h})}};d.emitter.trigger("eventAdd",L),r.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},qa(y.dateSpan,d)),{draggedEl:r.subjectEl,jsEvent:r.origEvent,view:y.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},L),{draggedEl:r.subjectEl,view:y.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:e}=this,{options:n}=e.context,s=this.dragging=new U(t.el);s.pointer.selector=$.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new pe(this.dragging,lo);o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,e){let n=this.component.context,s=this.receivingContext;s&&s!==t&&(s===n?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:e.affectedEvents,mutatedEvents:ie(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})}clearDrag(){let t=this.component.context,{receivingContext:e}=this;e&&e.dispatch({type:"UNSET_EVENT_DRAG"}),t!==e&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}$.SELECTOR=".fc-event-draggable, .fc-event-resizable";function ai(l,t,e){let n=l.dateSpan,s=t.dateSpan,o=n.range.start,r=s.range.start,a={};n.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=t.context.options.allDayMaintainDuration,s.allDay&&(o=Aa(o)));let i=ja(o,r,l.context.dateEnv,l.componentId===t.componentId?l.largeUnit:null);i.milliseconds&&(a.allDay=!1);let d={datesDelta:i,standardProps:a};for(let g of e)g(d,l,t);return d}function oi(l){let{options:t}=l.context,e=t.eventLongPressDelay;return e==null&&(e=t.longPressDelay),e}class ii extends he{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:r}=this,a=this.querySegEl(o),i=Ee(a),d=this.eventRange=i.eventRange;this.dragging.minDistance=r.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=o=>{let{context:r}=this.component,a=this.eventRange;this.relevantEvents=Ma(r.getCurrentData().eventStore,this.eventRange.instance.instanceId);let i=this.querySegEl(o);this.draggingSegEl=i,this.draggingSeg=Ee(i),r.calendarApi.unselect(),r.emitter.trigger("eventResizeStart",{el:i,event:new H(r,a.def,a.instance),jsEvent:o.origEvent,view:r.viewApi})},this.handleHitUpdate=(o,r,a)=>{let{context:i}=this.component,d=this.relevantEvents,g=this.hitDragging.initialHit,f=this.eventRange.instance,u=null,v=null,D=!1,h={affectedEvents:d,mutatedEvents:ie(),isEvent:!0};o&&(o.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,o)||(u=li(g,o,a.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),u&&(v=ka(d,i.getCurrentData().eventUiBases,u,i),h.mutatedEvents=v,Na(h,o.dateProfile,i)||(D=!0,u=null,v=null,h.mutatedEvents=null)),v?i.dispatch({type:"SET_EVENT_RESIZE",state:h}):i.dispatch({type:"UNSET_EVENT_RESIZE"}),D?xe():we(),r||(u&&ge(g,o)&&(u=null),this.validMutation=u,this.mutatedRelevantEvents=v)},this.handleDragEnd=o=>{let{context:r}=this.component,a=this.eventRange.def,i=this.eventRange.instance,d=new H(r,a,i),g=this.relevantEvents,f=this.mutatedRelevantEvents;if(r.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:o.origEvent,view:r.viewApi}),this.validMutation){let u=new H(r,f.defs[a.defId],i?f.instances[i.instanceId]:null);r.dispatch({type:"MERGE_EVENTS",eventStore:f});let v={oldEvent:d,event:u,relatedEvents:le(f,r,i),revert(){r.dispatch({type:"MERGE_EVENTS",eventStore:g})}};r.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ma(0),endDelta:this.validMutation.endDelta||ma(0),jsEvent:o.origEvent,view:r.viewApi})),r.emitter.trigger("eventChange",v)}else r.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:e}=t,n=this.dragging=new U(t.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=e.context.options.dragScroll;let s=this.hitDragging=new pe(this.dragging,me(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return O(t.subjectEl,".fc-event")}}function li(l,t,e,n){let s=l.context.dateEnv,o=l.dateSpan.range.start,r=t.dateSpan.range.start,a=ja(o,r,s,l.largeUnit);if(e){if(s.add(n.start,a)<n.end)return{startDelta:a}}else if(s.add(n.end,a)>n.start)return{endDelta:a};return null}class ci{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let s=this.context.options.unselectCancel,o=co(n.origEvent);this.matchesCancel=!!O(o,s),this.matchesEvent=!!O(o,$.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:s}=this,{documentPointer:o}=this,r=s.getCurrentData();if(!o.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(n)}r.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let e=this.documentPointer=new Xa(document);e.shouldIgnoreMove=!0,e.shouldWatchScroll=!1,e.emitter.on("pointerdown",this.onDocumentPointerDown),e.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const di={fixedMirrorParent:C},hi={dateClick:C,eventDragStart:C,eventDragStop:C,eventDrop:C,eventResizeStart:C,eventResizeStop:C,eventResize:C,drop:C,eventReceive:C,eventLeave:C};Pe.dataAttrPrefix="";var pi=De({name:"@fullcalendar/interaction",componentInteractions:[ti,ni,$,ii],calendarInteractions:[ci],elementDraggingImpl:U,optionRefiners:di,listenerRefiners:hi});class gi extends Fa{constructor(){super(...arguments),this.state={textId:ce()}}render(){let{theme:t,dateEnv:e,options:n,viewApi:s}=this.context,{cellId:o,dayDate:r,todayRange:a}=this.props,{textId:i}=this.state,d=Lo(r,a),g=n.listDayFormat?e.format(r,n.listDayFormat):"",f=n.listDaySideFormat?e.format(r,n.listDaySideFormat):"",u=Object.assign({date:e.toDate(r),view:s,textId:i,text:g,sideText:f,navLinkAttrs:xa(this.context,r),sideNavLinkAttrs:xa(this.context,r,"day",!1)},d);return b(Ce,{elTag:"tr",elClasses:["fc-list-day",...Ho(d,t)],elAttrs:{"data-date":Va(r)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:fi,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},v=>b("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":i},b(v,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function fi(l){return b(Ya,null,l.text&&b("a",Object.assign({id:l.textId,className:"fc-list-day-text"},l.navLinkAttrs),l.text),l.sideText&&b("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},l.sideNavLinkAttrs),l.sideText))}const ui=Oa({hour:"numeric",minute:"2-digit",meridiem:"short"});class vi extends Fa{render(){let{props:t,context:e}=this,{options:n}=e,{seg:s,timeHeaderId:o,eventHeaderId:r,dateHeaderId:a}=t,i=n.eventTimeFormat||ui;return b(Oo,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>yi(s,e),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(d,g)=>b(Ya,null,Ei(s,i,e,o,a),b("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},b("span",{className:"fc-list-event-dot",style:{borderColor:g.borderColor||g.backgroundColor}})),b(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${r} ${a}`}})))}}function yi(l,t){let e=Vo(l,t);return b("a",Object.assign({},e),l.eventRange.def.title)}function Ei(l,t,e,n,s){let{options:o}=e;if(o.displayEventTime!==!1){let r=l.eventRange.def,a=l.eventRange.instance,i=!1,d;if(r.allDay?i=!0:Fo(l.eventRange.range)?l.isStart?d=ye(l,t,e,null,null,a.range.start,l.end):l.isEnd?d=ye(l,t,e,null,null,l.start,a.range.end):i=!0:d=ye(l,t,e),i){let g={text:e.options.allDayText,view:e.viewApi};return b(Ce,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${s}`},renderProps:g,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:bi,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return b("td",{className:"fc-list-event-time"},d)}return null}function bi(l){return l.text}class Si extends To{constructor(){super(...arguments),this.computeDateVars=wa(mi),this.eventStoreToSegs=wa(this._eventStoreToSegs),this.state={timeHeaderId:ce(),eventHeaderId:ce(),dateHeaderIdRoot:ce()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:e}=this,{dayDates:n,dayRanges:s}=this.computeDateVars(t.dateProfile),o=this.eventStoreToSegs(t.eventStore,t.eventUiBases,s);return b(Ro,{elRef:this.setRootEl,elClasses:["fc-list",e.theme.getClass("table"),e.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:e.viewSpec},b(_o,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:e}=this.context,n={text:t.noEventsText,view:e};return b(Ce,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:Di,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},s=>b(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,e){let{theme:n,options:s}=this.context,{timeHeaderId:o,eventHeaderId:r,dateHeaderIdRoot:a}=this.state,i=wi(t);return b(No,{unit:"day"},(d,g)=>{let f=[];for(let u=0;u<i.length;u+=1){let v=i[u];if(v){let D=Va(e[u]),h=a+"-"+D;f.push(b(gi,{key:D,cellId:h,dayDate:e[u],todayRange:g})),v=Mo(v,s.eventOrder);for(let y of v)f.push(b(vi,Object.assign({key:D+":"+y.eventRange.instance.instanceId,seg:y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:r,dateHeaderId:h},ko(y,g,d))))}}return b("table",{className:"fc-list-table "+n.getClass("table")},b("thead",null,b("tr",null,b("th",{scope:"col",id:o},s.timeHint),b("th",{scope:"col","aria-hidden":!0}),b("th",{scope:"col",id:r},s.eventHint))),b("tbody",null,f))})}_eventStoreToSegs(t,e,n){return this.eventRangesToSegs(Ao(t,e,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(t,e){let n=[];for(let s of t)n.push(...this.eventRangeToSegs(s,e));return n}eventRangeToSegs(t,e){let{dateEnv:n}=this.context,{nextDayThreshold:s}=this.context.options,o=t.range,r=t.def.allDay,a,i,d,g=[];for(a=0;a<e.length;a+=1)if(i=jo(o,e[a]),i&&(d={component:this,eventRange:t,start:i.start,end:i.end,isStart:t.isStart&&i.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&i.end.valueOf()===o.end.valueOf(),dayIndex:a},g.push(d),!d.isEnd&&!r&&a+1<e.length&&o.end<n.add(e[a+1].start,s))){d.end=o.end,d.isEnd=!0;break}return g}}function Di(l){return l.text}function mi(l){let t=Aa(l.renderRange.start),e=l.renderRange.end,n=[],s=[];for(;t<e;)n.push(t),s.push({start:t,end:Pa(t,1)}),t=Pa(t,1);return{dayDates:n,dayRanges:s}}function wi(l){let t=[],e,n;for(e=0;e<l.length;e+=1)n=l[e],(t[n.dayIndex]||(t[n.dayIndex]=[])).push(n);return t}const xi={listDayFormat:Ta,listDaySideFormat:Ta,noEventsClassNames:C,noEventsContent:C,noEventsDidMount:C,noEventsWillUnmount:C};function Ta(l){return l===!1?null:Oa(l)}var Pi=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Ra(Pi);var Ci=De({name:"@fullcalendar/list",optionRefiners:xi,views:{list:{component:Si,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const Ti=Ba({title:Sa().required("Event Name is required"),cata:Sa().required("Category is required")}).required(),_i=({editModal:l,onCloseEditModal:t,editItem:e})=>{var N,L,J,K,Q,Z,I,fe,ee,te,ne,se,re,ae,c,w,x,k,A,V,F,Y,Te,_e,Re,Me,ke,Ne,Ae,je,Le,He,Oe,Ve,Fe,Ye,Xe,ze,Ge,We,qe,Be,Ue,$e,Je;_a(oe=>oe.calendar);const n=Ua(),[s,o]=m.exports.useState(new Date),[r,a]=m.exports.useState(new Date);m.exports.useEffect(()=>{e&&(o(e.event.start),a(e.event.end)),g(e)},[l]);const{register:i,control:d,reset:g,formState:{errors:f},handleSubmit:u}=$a({resolver:Ja(Ti),mode:"all"}),[v,D]=m.exports.useState(""),[h,y]=m.exports.useState("");m.exports.useEffect(()=>{(async()=>{var X,z,G,W,q,B;if((G=(z=(X=e==null?void 0:e.event)==null?void 0:X._def)==null?void 0:z.extendedProps)!=null&&G.ownerid){const M=await(await fetch(`http://dev-rare.srp.ai/users/${(B=(q=(W=e==null?void 0:e.event)==null?void 0:W._def)==null?void 0:q.extendedProps)==null?void 0:B.ownerid}`)).json();M&&(D((M==null?void 0:M.firstname)+" "+(M==null?void 0:M.lastname)),y(M))}})()},[(J=(L=(N=e==null?void 0:e.event)==null?void 0:N._def)==null?void 0:L.extendedProps)==null?void 0:J.ownerid]);const[T,_]=m.exports.useState(!1),R=async oe=>{var X,z,G,W,q,B,ue,M,Ke,Qe,Ze,Ie,et,tt,nt,st,rt,at,ot,it,lt,ct,dt,ht,pt,gt,ft,ut,vt,yt,Et,bt,St,Dt,mt,wt,xt,Pt,Ct,Tt,_t,Rt,Mt,kt,Nt,At,jt,Lt,Ht,Ot,Vt,Ft,Yt,Xt,zt,Gt,Wt,qt,Bt,Ut,$t,Jt,Kt,Qt,Zt,It,en,tn,nn,sn,rn,an,on,ln,cn,dn,hn,pn,gn,fn,un,vn,yn,En,bn,Sn,Dn,mn,wn,xn,Pn,Cn,Tn,_n,Rn,Mn,kn,Nn,An,jn,Ln,Hn,On,Vn,Fn,Yn,Xn,zn,Gn,Wn,qn,Bn,Un,$n,Jn,Kn,Qn,Zn,In,es,ts,ns,ss,rs,as,os,is,ls,cs,ds,hs,ps,gs,fs,us,vs,ys,Es,bs,Ss,Ds,ms,ws,xs,Ps,Cs,Ts,_s,Rs,Ms,ks,Ns,As,js,Ls,Hs,Os,Vs,Fs,Ys,Xs,zs,Gs,Ws,qs,Bs,Us,$s,Js,Ks,Qs,Zs,Is,er,tr,nr,sr,rr,ar,or,ir,lr,cr,dr,hr,pr,gr,fr,ur,vr,yr,Er,br,Sr,Dr,mr,wr,xr,Pr,Cr,Tr,_r,Rr,Mr,kr,Nr,Ar,jr,Lr,Hr,Or,Vr,Fr,Yr,Xr,zr,Gr,Wr,qr,Br,Ur,$r,Jr,Kr,Qr,Zr,Ir,ea,ta,na,sa,ra,aa,oa,ia,la,ca,da,ha,pa,ga,fa,ua,va,ya,Ea,ba;oe.preventDefault();try{if(_(!0),(G=(z=(X=e==null?void 0:e.event)==null?void 0:X._def)==null?void 0:z.extendedProps)!=null&&G.customerid){const S=new FormData;let j=(B=(q=(W=e==null?void 0:e.event)==null?void 0:W._def)==null?void 0:q.extendedProps)==null?void 0:B.guestname.split(" ");S.append("_id",(Ke=(M=(ue=e==null?void 0:e.event)==null?void 0:ue._def)==null?void 0:M.extendedProps)==null?void 0:Ke.customerid),S.append("firstname",j[0]),S.append("lastname",j[1]),S.append("email",(Ie=(Ze=(Qe=e==null?void 0:e.event)==null?void 0:Qe._def)==null?void 0:Ze.extendedProps)==null?void 0:Ie.email),(nt=(tt=(et=e==null?void 0:e.event)==null?void 0:et._def)==null?void 0:tt.extendedProps)!=null&&nt.mobilenumber&&S.append("whatsappno",(at=(rt=(st=e==null?void 0:e.event)==null?void 0:st._def)==null?void 0:rt.extendedProps)==null?void 0:at.mobilenumber),S.append("passportno",(lt=(it=(ot=e==null?void 0:e.event)==null?void 0:ot._def)==null?void 0:it.extendedProps)==null?void 0:lt.nationality),S.append("passportidno",(ht=(dt=(ct=e==null?void 0:e.event)==null?void 0:ct._def)==null?void 0:dt.extendedProps)==null?void 0:ht.passportnumber),S.append("type","customer"),S.append("passportpdf",h==null?void 0:h.passportpdf),h!=null&&h.contactno&&S.append("contactno",h==null?void 0:h.contactno),S.append("datebirth",h==null?void 0:h.datebirth),S.append("countryofresidence",h==null?void 0:h.countryofresidence),S.append("memberid",h==null?void 0:h.memberid),S.append("nameonpassport",h==null?void 0:h.nameonpassport),S.append("nationalidexpiry",h==null?void 0:h.nationalidexpiry),S.append("nationalidissuedate",h==null?void 0:h.nationalidissuedate),S.append("nationalidno",h==null?void 0:h.nationalidno),S.append("passportexpiry",h==null?void 0:h.passportexpiry),S.append("passportissue",h==null?void 0:h.passportissue),S.append("postaladdress",h==null?void 0:h.postaladdress),h!=null&&h.primaryno&&S.append("primaryno",h==null?void 0:h.primaryno),S.append("nationalidpdf",h==null?void 0:h.nationalidpdf),n(Qa(S))}const p=new FormData;if(p.append("_id",(ft=(gt=(pt=e==null?void 0:e.event)==null?void 0:pt._def)==null?void 0:gt.extendedProps)==null?void 0:ft._id),(yt=(vt=(ut=e==null?void 0:e.event)==null?void 0:ut._def)==null?void 0:vt.extendedProps)!=null&&yt.propertyid&&p.append("propertyid",(St=(bt=(Et=e==null?void 0:e.event)==null?void 0:Et._def)==null?void 0:bt.extendedProps)==null?void 0:St.propertyid),p.append("unitnumber",(wt=(mt=(Dt=e==null?void 0:e.event)==null?void 0:Dt._def)==null?void 0:mt.extendedProps)==null?void 0:wt.unitnumber),p.append("buildingname",(Ct=(Pt=(xt=e==null?void 0:e.event)==null?void 0:xt._def)==null?void 0:Pt.extendedProps)==null?void 0:Ct.buildingname),p.append("floor",(Rt=(_t=(Tt=e==null?void 0:e.event)==null?void 0:Tt._def)==null?void 0:_t.extendedProps)==null?void 0:Rt.floor),p.append("buildingnumber",(Nt=(kt=(Mt=e==null?void 0:e.event)==null?void 0:Mt._def)==null?void 0:kt.extendedProps)==null?void 0:Nt.buildingnumber),p.append("communityname",(Lt=(jt=(At=e==null?void 0:e.event)==null?void 0:At._def)==null?void 0:jt.extendedProps)==null?void 0:Lt.communityname),(Vt=(Ot=(Ht=e==null?void 0:e.event)==null?void 0:Ht._def)==null?void 0:Ot.extendedProps)!=null&&Vt.ownerid&&p.append("ownerid",(Xt=(Yt=(Ft=e==null?void 0:e.event)==null?void 0:Ft._def)==null?void 0:Yt.extendedProps)==null?void 0:Xt.ownerid),p.append("city",(Wt=(Gt=(zt=e==null?void 0:e.event)==null?void 0:zt._def)==null?void 0:Gt.extendedProps)==null?void 0:Wt.city),p.append("customertype",(Ut=(Bt=(qt=e==null?void 0:e.event)==null?void 0:qt._def)==null?void 0:Bt.extendedProps)==null?void 0:Ut.customertype),(Kt=(Jt=($t=e==null?void 0:e.event)==null?void 0:$t._def)==null?void 0:Jt.extendedProps)!=null&&Kt.customerid&&p.append("customerid",(It=(Zt=(Qt=e==null?void 0:e.event)==null?void 0:Qt._def)==null?void 0:Zt.extendedProps)==null?void 0:It.customerid),p.append("guestname",(nn=(tn=(en=e==null?void 0:e.event)==null?void 0:en._def)==null?void 0:tn.extendedProps)==null?void 0:nn.guestname),p.append("passportnumber",(an=(rn=(sn=e==null?void 0:e.event)==null?void 0:sn._def)==null?void 0:rn.extendedProps)==null?void 0:an.passportnumber),p.append("email",(cn=(ln=(on=e==null?void 0:e.event)==null?void 0:on._def)==null?void 0:ln.extendedProps)==null?void 0:cn.email),p.append("nationality",(pn=(hn=(dn=e==null?void 0:e.event)==null?void 0:dn._def)==null?void 0:hn.extendedProps)==null?void 0:pn.nationality),(un=(fn=(gn=e==null?void 0:e.event)==null?void 0:gn._def)==null?void 0:fn.extendedProps)!=null&&un.mobilenumber&&p.append("mobilenumber",(En=(yn=(vn=e==null?void 0:e.event)==null?void 0:vn._def)==null?void 0:yn.extendedProps)==null?void 0:En.mobilenumber),p.append("checkintype",(Dn=(Sn=(bn=e==null?void 0:e.event)==null?void 0:bn._def)==null?void 0:Sn.extendedProps)==null?void 0:Dn.checkintype),p.append("noadults",(xn=(wn=(mn=e==null?void 0:e.event)==null?void 0:mn._def)==null?void 0:wn.extendedProps)==null?void 0:xn.noadults),(Tn=(Cn=(Pn=e==null?void 0:e.event)==null?void 0:Pn._def)==null?void 0:Cn.extendedProps)!=null&&Tn.nochildern&&p.append("nochildern",(Mn=(Rn=(_n=e==null?void 0:e.event)==null?void 0:_n._def)==null?void 0:Rn.extendedProps)==null?void 0:Mn.nochildern),p.append("totaloccupants",(An=(Nn=(kn=e==null?void 0:e.event)==null?void 0:kn._def)==null?void 0:Nn.extendedProps)==null?void 0:An.totaloccupants),p.append("confirmationcode",(Hn=(Ln=(jn=e==null?void 0:e.event)==null?void 0:jn._def)==null?void 0:Ln.extendedProps)==null?void 0:Hn.confirmationcode),p.append("bookingagent",(Fn=(Vn=(On=e==null?void 0:e.event)==null?void 0:On._def)==null?void 0:Vn.extendedProps)==null?void 0:Fn.bookingagent),p.append("reservationdate",(zn=(Xn=(Yn=e==null?void 0:e.event)==null?void 0:Yn._def)==null?void 0:Xn.extendedProps)==null?void 0:zn.reservationdate),p.append("modepayment",(qn=(Wn=(Gn=e==null?void 0:e.event)==null?void 0:Gn._def)==null?void 0:Wn.extendedProps)==null?void 0:qn.modepayment),p.append("checkindate",($n=(Un=(Bn=e==null?void 0:e.event)==null?void 0:Bn._def)==null?void 0:Un.extendedProps)==null?void 0:$n.checkindate),p.append("checkoutdate",(Qn=(Kn=(Jn=e==null?void 0:e.event)==null?void 0:Jn._def)==null?void 0:Kn.extendedProps)==null?void 0:Qn.checkoutdate),p.append("nonight",(es=(In=(Zn=e==null?void 0:e.event)==null?void 0:Zn._def)==null?void 0:In.extendedProps)==null?void 0:es.nonight),p.append("tourismfee",(ss=(ns=(ts=e==null?void 0:e.event)==null?void 0:ts._def)==null?void 0:ns.extendedProps)==null?void 0:ss.tourismfee),p.append("securitydeposit",(os=(as=(rs=e==null?void 0:e.event)==null?void 0:rs._def)==null?void 0:as.extendedProps)==null?void 0:os.securitydeposit),p.append("totalpayout",(cs=(ls=(is=e==null?void 0:e.event)==null?void 0:is._def)==null?void 0:ls.extendedProps)==null?void 0:cs.totalpayout),(ps=(hs=(ds=e==null?void 0:e.event)==null?void 0:ds._def)==null?void 0:hs.extendedProps)!=null&&ps.hostservicefee&&p.append("hostservicefee",(us=(fs=(gs=e==null?void 0:e.event)==null?void 0:gs._def)==null?void 0:fs.extendedProps)==null?void 0:us.hostservicefee),p.append("totalcollectall",(Es=(ys=(vs=e==null?void 0:e.event)==null?void 0:vs._def)==null?void 0:ys.extendedProps)==null?void 0:Es.totalcollectall),p.append("cleaningfee",(Ds=(Ss=(bs=e==null?void 0:e.event)==null?void 0:bs._def)==null?void 0:Ss.extendedProps)==null?void 0:Ds.cleaningfee),(xs=(ws=(ms=e==null?void 0:e.event)==null?void 0:ms._def)==null?void 0:ws.extendedProps)!=null&&xs.tourismfeetillmonth&&p.append("tourismfeetillmonth",(Ts=(Cs=(Ps=e==null?void 0:e.event)==null?void 0:Ps._def)==null?void 0:Cs.extendedProps)==null?void 0:Ts.tourismfeetillmonth),p.append("tourismfeeacceleratedmonth",(Ms=(Rs=(_s=e==null?void 0:e.event)==null?void 0:_s._def)==null?void 0:Rs.extendedProps)==null?void 0:Ms.tourismfeeacceleratedmonth),p.append("hostmanagementfee",(As=(Ns=(ks=e==null?void 0:e.event)==null?void 0:ks._def)==null?void 0:Ns.extendedProps)!=null&&As.hostmanagementfee?(Hs=(Ls=(js=e==null?void 0:e.event)==null?void 0:js._def)==null?void 0:Ls.extendedProps)==null?void 0:Hs.hostmanagementfee:0),p.append("vatperhostmanagementfee",(Fs=(Vs=(Os=e==null?void 0:e.event)==null?void 0:Os._def)==null?void 0:Vs.extendedProps)==null?void 0:Fs.vatperhostmanagementfee),(zs=(Xs=(Ys=e==null?void 0:e.event)==null?void 0:Ys._def)==null?void 0:Xs.extendedProps)!=null&&zs.totaladditionalfee&&p.append("totaladditionalfee",(qs=(Ws=(Gs=e==null?void 0:e.event)==null?void 0:Gs._def)==null?void 0:Ws.extendedProps)==null?void 0:qs.totaladditionalfee),($s=(Us=(Bs=e==null?void 0:e.event)==null?void 0:Bs._def)==null?void 0:Us.extendedProps)!=null&&$s.totalroomrent&&p.append("totalroomrent",(Qs=(Ks=(Js=e==null?void 0:e.event)==null?void 0:Js._def)==null?void 0:Ks.extendedProps)==null?void 0:Qs.totalroomrent),(er=(Is=(Zs=e==null?void 0:e.event)==null?void 0:Zs._def)==null?void 0:Is.extendedProps)!=null&&er.bookingagent&&p.append("roomrentamount",(sr=(nr=(tr=e==null?void 0:e.event)==null?void 0:tr._def)==null?void 0:nr.extendedProps)==null?void 0:sr.roomrentamount),(or=(ar=(rr=e==null?void 0:e.event)==null?void 0:rr._def)==null?void 0:ar.extendedProps)!=null&&or.guestservicefee&&p.append("guestservicefee",(cr=(lr=(ir=e==null?void 0:e.event)==null?void 0:ir._def)==null?void 0:lr.extendedProps)==null?void 0:cr.guestservicefee),(pr=(hr=(dr=e==null?void 0:e.event)==null?void 0:dr._def)==null?void 0:hr.extendedProps)!=null&&pr.guestmanagementfee&&p.append("guestmanagementfee",(ur=(fr=(gr=e==null?void 0:e.event)==null?void 0:gr._def)==null?void 0:fr.extendedProps)==null?void 0:ur.guestmanagementfee),(Er=(yr=(vr=e==null?void 0:e.event)==null?void 0:vr._def)==null?void 0:yr.extendedProps)!=null&&Er.totalguestservices&&p.append("totalguestservices",(Dr=(Sr=(br=e==null?void 0:e.event)==null?void 0:br._def)==null?void 0:Sr.extendedProps)==null?void 0:Dr.totalguestservices),(xr=(wr=(mr=e==null?void 0:e.event)==null?void 0:mr._def)==null?void 0:wr.extendedProps)!=null&&xr.vatperbookingrent?p.append("vatperbookingrent",(Tr=(Cr=(Pr=e==null?void 0:e.event)==null?void 0:Pr._def)==null?void 0:Cr.extendedProps)==null?void 0:Tr.vatperbookingrent):p.append("vatperbookingrent",0),(Mr=(Rr=(_r=e==null?void 0:e.event)==null?void 0:_r._def)==null?void 0:Rr.extendedProps)!=null&&Mr.vatperservicefee?p.append("vatperservicefee",(Ar=(Nr=(kr=e==null?void 0:e.event)==null?void 0:kr._def)==null?void 0:Nr.extendedProps)==null?void 0:Ar.vatperservicefee):p.append("vatperservicefee",0),(Hr=(Lr=(jr=e==null?void 0:e.event)==null?void 0:jr._def)==null?void 0:Lr.extendedProps)!=null&&Hr.vatpercleaningfee?p.append("vatpercleaningfee",(Fr=(Vr=(Or=e==null?void 0:e.event)==null?void 0:Or._def)==null?void 0:Vr.extendedProps)==null?void 0:Fr.vatpercleaningfee):p.append("vatpercleaningfee",0),(zr=(Xr=(Yr=e==null?void 0:e.event)==null?void 0:Yr._def)==null?void 0:Xr.extendedProps)!=null&&zr.vatperguestmanagementfee?p.append("vatperguestmanagementfee",(qr=(Wr=(Gr=e==null?void 0:e.event)==null?void 0:Gr._def)==null?void 0:Wr.extendedProps)==null?void 0:qr.vatperguestmanagementfee):p.append("vatperguestmanagementfee",0),($r=(Ur=(Br=e==null?void 0:e.event)==null?void 0:Br._def)==null?void 0:Ur.extendedProps)!=null&&$r.totalvatper?p.append("totalvatper",(Qr=(Kr=(Jr=e==null?void 0:e.event)==null?void 0:Jr._def)==null?void 0:Kr.extendedProps)==null?void 0:Qr.totalvatper):p.append("totalvatper",0),p.append("passportpdf",(ea=(Ir=(Zr=e==null?void 0:e.event)==null?void 0:Zr._def)==null?void 0:Ir.extendedProps)==null?void 0:ea.passportpdf),((sa=(na=(ta=e==null?void 0:e.event)==null?void 0:ta._def)==null?void 0:na.extendedProps)==null?void 0:sa.cancelled)===!0?p.append("cancelled",!1):p.append("cancelled",!0),(ia=(oa=(aa=(ra=e==null?void 0:e.event)==null?void 0:ra._def)==null?void 0:aa.extendedProps)==null?void 0:oa.firstdays)!=null&&ia.length){const S=(ha=(da=(ca=(la=e==null?void 0:e.event)==null?void 0:la._def)==null?void 0:ca.extendedProps)==null?void 0:da.firstdays)==null?void 0:ha.map(j=>({month:j.month,nights:j.nights}));p.append("firstdays",JSON.stringify(S))}else p.append("firstdays",[]);if((ua=(fa=(ga=(pa=e==null?void 0:e.event)==null?void 0:pa._def)==null?void 0:ga.extendedProps)==null?void 0:fa.moremonths)!=null&&ua.length){const S=(ba=(Ea=(ya=(va=e==null?void 0:e.event)==null?void 0:va._def)==null?void 0:ya.extendedProps)==null?void 0:Ea.moremonths)==null?void 0:ba.map(j=>({month:j.month,nights:j.nights}));p.append("moremonths",JSON.stringify(S))}else p.append("moremonths",[]);n(Za(p)),setTimeout(()=>{t(),_(!1)},1e3)}catch(p){console.log(p,"error")}};return E("div",{children:E(zo,{title:"View Booking",labelclassName:"btn-outline-dark",activeModal:l,onClose:t,children:P("form",{className:"space-y-4 ",children:[P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Unit number"}),E("p",{className:"  form-control py-2   ",children:(Z=(Q=(K=e==null?void 0:e.event)==null?void 0:K._def)==null?void 0:Q.extendedProps)!=null&&Z.unitnumber?(ee=(fe=(I=e==null?void 0:e.event)==null?void 0:I._def)==null?void 0:fe.extendedProps)==null?void 0:ee.unitnumber:"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Owner Name"}),E("p",{className:"  form-control py-2  capitalize ",children:v||"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Guest Name"}),E("p",{className:"  form-control py-2   capitalize",children:(se=(ne=(te=e==null?void 0:e.event)==null?void 0:te._def)==null?void 0:ne.extendedProps)!=null&&se.guestname?(c=(ae=(re=e==null?void 0:e.event)==null?void 0:re._def)==null?void 0:ae.extendedProps)==null?void 0:c.guestname:"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Check-In Date"}),E("p",{className:"  form-control py-2   ",children:(k=(x=(w=e==null?void 0:e.event)==null?void 0:w._def)==null?void 0:x.extendedProps)!=null&&k.checkindate?new Date((F=(V=(A=e==null?void 0:e.event)==null?void 0:A._def)==null?void 0:V.extendedProps)==null?void 0:F.checkindate).toDateString():"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Check-Out Date"}),E("p",{className:"  form-control py-2   ",children:(_e=(Te=(Y=e==null?void 0:e.event)==null?void 0:Y._def)==null?void 0:Te.extendedProps)!=null&&_e.checkoutdate?new Date((ke=(Me=(Re=e==null?void 0:e.event)==null?void 0:Re._def)==null?void 0:Me.extendedProps)==null?void 0:ke.checkoutdate).toDateString():"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"No. of Nights"}),E("p",{className:"  form-control py-2   ",children:(je=(Ae=(Ne=e==null?void 0:e.event)==null?void 0:Ne._def)==null?void 0:Ae.extendedProps)!=null&&je.nonight?(Oe=(He=(Le=e==null?void 0:e.event)==null?void 0:Le._def)==null?void 0:He.extendedProps)==null?void 0:Oe.nonight:"Not Available"})]}),P("div",{children:[E("label",{htmlFor:"default-picker",className:" form-label",children:"Room Rent Amount"}),E("p",{className:"  form-control py-2   ",children:(Ye=(Fe=(Ve=e==null?void 0:e.event)==null?void 0:Ve._def)==null?void 0:Fe.extendedProps)!=null&&Ye.roomrentamount?(Ge=(ze=(Xe=e==null?void 0:e.event)==null?void 0:Xe._def)==null?void 0:ze.extendedProps)==null?void 0:Ge.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"Not Available"})]}),P("div",{className:" flex justify-end ",children:[P("div",{className:"relative mr-[20px]",children:[((Be=(qe=(We=e==null?void 0:e.event)==null?void 0:We._def)==null?void 0:qe.extendedProps)==null?void 0:Be.cancelled)===!0?E("div",{className:`${T===!0?"opacity-[0.7]":""}`,children:E("button",{type:"button",className:"btn btn-success  text-center  bg-lime-700",onClick:R,children:"Approve"})}):E("div",{className:`${T===!0?"opacity-[0.7]":""}`,children:E("button",{type:"button",className:"btn btn-danger  text-center  bg-red-700",onClick:R,children:"Cancel Booking"})}),T===!0?E("div",{className:" absolute top-[0] right-[0] w-[100%] black-bg flex justify-center h-[100%] button-style items-center ",children:E("div",{className:"loader-spiner"})}):null]}),T===!0?E("div",{className:"btn btn-dark  text-center cursor-not-allowed opacity-[0.7] select-none",children:"Edit"}):E(Ka,{to:`/update-booking/${(Je=($e=(Ue=e==null?void 0:e.event)==null?void 0:Ue._def)==null?void 0:$e.extendedProps)==null?void 0:Je._id}`,className:"btn btn-dark  text-center",children:"Edit"})]})]})})})},Ni=()=>{_a(c=>c.calendar);const[l,t]=m.exports.useState(!1),[e,n]=m.exports.useState(null),[s,o]=m.exports.useState(null),[r,a]=m.exports.useState(!1),[i,d]=m.exports.useState([]),[g,f]=m.exports.useState([]),[u,v]=m.exports.useState([]),[D,h]=m.exports.useState([]),[y,T]=m.exports.useState([]),[_,R]=m.exports.useState("");m.exports.useEffect(()=>{if(i){const c=[...new Map(u.map(w=>[w.propertyid,w])).values()];T(c),h(c)}},[i]),m.exports.useEffect(()=>{(async()=>{const x=await(await fetch("http://dev-rare.srp.ai/booking")).json();return d(x),v(x),f(x)})()},[]);const[N,L]=m.exports.useState(""),J=c=>{var x;const w=(x=c.target.value)==null?void 0:x.toLowerCase();if(L(w),w==="")T(D);else{const k=y.filter(A=>{var V,F,Y;return((V=A.unitnumber)==null?void 0:V.toLowerCase().includes(w))||((F=A.project_name)==null?void 0:F.toLowerCase().includes(w))||((Y=A.community_name)==null?void 0:Y.toLowerCase().includes(w))});T(k)}},K=c=>{_===c?(R(""),d(g)):(R(c),(async()=>{const k=await(await fetch(`http://dev-rare.srp.ai/booking/api/property/${c}`)).json();return d(k)})())},Q=[{label:"Approved",value:"Approved",activeClass:"ring-primary-500 bg-primary-500"},{label:"Cancelled",value:"Cancelled",activeClass:"ring-danger-500 bg-danger-500"}],Z=i.map(c=>{const w=c.unitnumber,x=c.checkindate;let k;(c==null?void 0:c.cancelled)===!0?k="Cancelled":k="Approved";const A=c.checkoutdate;return{...c,title:w,date:x,calendar:k,end:A}}),[I,fe]=m.exports.useState(Q.map(c=>c.value)),ee=()=>{_?(a(!1),(async()=>{const x=await(await fetch(`http://dev-rare.srp.ai/booking/api/property/${_}`)).json();return d(x)})()):(a(!1),(async()=>{const x=await(await fetch("http://dev-rare.srp.ai/booking")).json();return d(x)})())},te=c=>{t(!0),n(c)},ne=c=>{a(!0),o(c)},se=c=>c.event.extendedProps.calendar==="Cancelled"?"danger":c.event.extendedProps.bookingagent==="Airbnb"?"airbnb-color":c.event.extendedProps.bookingagent==="Booking.com"||c.event.extendedProps.bookingagent==="booking.com"?"booking-color":"primary",re=Z.filter(c=>I.includes(c.calendar)),ae=c=>E("div",{className:"text-center w-[100%]",children:c.event.title});return P("div",{className:"dashcode-calender",children:[E("h4",{className:"font-medium lg:text-2xl text-xl capitalize text-slate-900 inline-block ltr:pr-4 rtl:pl-4 mb-6",children:"Calendar"}),P("div",{className:"grid grid-cols-12 gap-4",children:[P(Da,{className:"lg:col-span-3 col-span-12",children:[P("div",{className:"block py-4 text-slate-800 dark:text-slate-400 font-semibold text-xs uppercase mt-4 text-[20px]",children:[y==null?void 0:y.length," listings"]}),E("div",{className:"mt-[15px]",children:E("input",{type:"text",placeholder:"search...",min:"0",className:"form-control py-2 ",value:N,onChange:J})}),E("div",{className:"overflow-y-auto mt-[20px] max-h-[1000px] testscrool",children:y==null?void 0:y.map((c,w)=>P("div",{className:`"w-[100%] border-2 border-b-slate-400 border-l-transparent border-r-transparent border-t-transparent py-[5px] cursor-pointer hover:bg-black-200 pl-[5px]" ${_===(c==null?void 0:c.propertyid)?"bg-black-200":""}`,onClick:()=>K(c.propertyid),children:[E("div",{className:"font-semibold",children:((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).slice(0,40)+((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).length>40?"...":(c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)}),E("div",{className:"text-[15px]",children:((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).slice(0,45)+((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)>45?"...":"")})]},w))})]}),E(Da,{className:"lg:col-span-9 col-span-12",children:E(Yo,{plugins:[Wo,Xo,pi,Ci],headerToolbar:{left:"prev,next today",center:"title",right:""},events:re,eventContent:ae,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:4,weekends:!0,dateClick:te,eventClick:ne,eventClassNames:se,initialView:"dayGridMonth"})})]}),E(_i,{editModal:r,onCloseEditModal:ee,editItem:s})]})};export{Ni as default};
