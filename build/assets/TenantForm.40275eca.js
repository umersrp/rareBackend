import{bu as an,A as ln,ag as cn,r as c,E as pn,cd as dn,ca as sn,cf as rn,cg as mn,w as fn,x as ee,y as hn,c as p,F as P,j as o,t as un,C as yn,aq as be,ak as bn,ao as B,l as $,bO as ve,bP as te,aC as fe,L as vn,z as gn,J as pt,bQ as ne,bJ as ge,bR as xe,Q as _e}from"./index.6dc3f541.js";const Ne={option:(z,ce)=>({...z,fontSize:"14px"})},zn=()=>{const{id:z}=an(),ce=ln(),pe=cn(),[e,b]=c.exports.useState(""),[qe,ke]=c.exports.useState(""),[Ce,Se]=c.exports.useState(""),[we,Fe]=c.exports.useState(""),[Pe,Ae]=c.exports.useState(""),[xn,dt]=c.exports.useState(""),A=l=>{const{name:a,value:n}=l.target;b({...e,[a]:n})},oe=new URLSearchParams(window.location.search),ae=oe.get("propertyid");console.log("$$$$$$111",ae,oe);const L=oe.get("renew"),J=oe.get("customerid"),de=oe.get("contractenddate");c.exports.useEffect(()=>{ae!=null&&b(l=>({...l,propertyid:ae}))},[ae]),c.exports.useEffect(()=>{L!=null&&b(l=>({...l,contractupdation:L}))},[L]),c.exports.useEffect(()=>{J!=null&&(b(a=>({...a,customerid:J,customertype:"Existing Tenant"})),(async()=>{if(J){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${J}`)).json();n&&(Le(n),b({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),re((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})())},[J]),c.exports.useEffect(()=>{if(de!=null){const l=new Date(de);l.setDate(l.getDate()+1);const a=l.toISOString();b(n=>({...n,contractstartdate:a}))}},[de]);const R=pn(),{data:se}=dn(),{data:h,isSuccess:je}=sn(z),[ze,_n]=c.exports.useState(!1),[he,Te]=c.exports.useState(""),[st,Ee]=c.exports.useState(""),[rt,$e]=c.exports.useState(""),[Oe,Ge]=c.exports.useState("");console.log("ejari_certificate_docPDF",he),c.exports.useEffect(()=>{var l,a,n,m,u,y,_,q,k,C,s,i;z&&h&&je&&(b(h==null?void 0:h.tenantContract),Te(((l=h==null?void 0:h.tenantContract)==null?void 0:l.ejari_certificate_doc)&&((a=h==null?void 0:h.tenantContract)==null?void 0:a.ejari_certificate_doc)!==void 0?(n=h==null?void 0:h.tenantContract)==null?void 0:n.ejari_certificate_doc:""),Ee(((m=h==null?void 0:h.tenantContract)==null?void 0:m.tenancy_contract_doc)&&((u=h==null?void 0:h.tenantContract)==null?void 0:u.tenancy_contract_doc)!==void 0?(y=h==null?void 0:h.tenantContract)==null?void 0:y.tenancy_contract_doc:""),$e(((_=h==null?void 0:h.tenantContract)==null?void 0:_.addendum_doc)&&((q=h==null?void 0:h.tenantContract)==null?void 0:q.addendum_doc)!==void 0?(k=h==null?void 0:h.tenantContract)==null?void 0:k.addendum_doc:""),Ge(((C=h==null?void 0:h.tenantContract)==null?void 0:C.key_receipt_doc)&&((s=h==null?void 0:h.tenantContract)==null?void 0:s.key_receipt_doc)!==void 0?(i=h==null?void 0:h.tenantContract)==null?void 0:i.key_receipt_doc:""))},[z,h,je]);const[Ue]=rn(),[mt]=mn(),[Ve,ft]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/property").then(l=>l.json()).then(l=>{const a=l==null?void 0:l.map(n=>({label:n.unitnumber+" | "+n.communityname+" | "+n.projectname+" | "+n.buildingname,value:n._id}));ft(a)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const n=await(await fetch(`http://portals.rarehomesgroup.com/property/${e==null?void 0:e.propertyid}`)).json();n&&b({...e,unitnumber:n==null?void 0:n.unitnumber,buildingname:n==null?void 0:n.building_name,projectname:n==null?void 0:n.project_name,communityname:n==null?void 0:n.community_name})}})()},[e==null?void 0:e.propertyid]);const[O,ht]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/users/api/customers").then(a=>a.json()).then(a=>{var m;const n=(m=a==null?void 0:a.users)==null?void 0:m.map(u=>({label:u.firstname+" "+u.lastname+" | "+u.email+" | "+u.passportidno+" | "+u.whatsappno,value:u._id}));ht(n)})})()},[]);const[Be,re]=c.exports.useState(""),[t,Le]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${e==null?void 0:e.customerid}`)).json();n&&(Le(n),b({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),re((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Je,ut]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const n=await(await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return ut(n==null?void 0:n.users)})()},[]);const[Nn,yt]=c.exports.useState(e==null?void 0:e.customertype),bt=l=>{yt(l.target.value),b({...e,customertype:l.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),re("")},vt=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const a=ve.getAllCountries();let n=[];n=a==null?void 0:a.map(({isoCode:m,name:u})=>({isoCode:m,name:u}))}catch(a){console.log(a)}})()},[]);const[M,gt]=c.exports.useState(null),Re=l=>{gt(l.target.files[0]),b({...e,passportpdf:l.target.files[0]})},xt=()=>{b({...e,passportpdf:""}),re("")},[Q,Me]=c.exports.useState(null),_t=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Me(a),b({...e,ejari_certificate_doc:a}),ke("")):(Me(null),b({...e,ejari_certificate_doc:null}),ke("File size exceeds 10MB limit!"))};console.log("=========>",Q);const Nt=()=>{b({...e,ejari_certificate_doc:""}),Te("")},[H,Qe]=c.exports.useState(null),qt=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Qe(a),b({...e,tenancy_contract_doc:a}),Se("")):(Qe(null),b({...e,tenancy_contract_doc:null}),Se("File size exceeds 10MB limit!"))},kt=()=>{b({...e,tenancy_contract_doc:""}),Ee("")},[K,He]=c.exports.useState(null),Ct=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(He(a),b({...e,addendum_doc:a}),Fe("")):(He(null),b({...e,addendum_doc:null}),Fe("File size exceeds 10MB limit!"))},St=()=>{b({...e,addendum_doc:""}),$e("")},[le,Ke]=c.exports.useState(null),wt=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Ke(a),b({...e,key_receipt_doc:a}),Ae("")):(Ke(null),b({...e,key_receipt_doc:null}),Ae("File size exceeds 10MB limit!"))},Ft=()=>{b({...e,key_receipt_doc:""}),Ge("")};c.exports.useState(null);const[w,Ye]=c.exports.useState("");c.exports.useEffect(()=>{if(z&&(e==null?void 0:e.chequeDetails)&&pe.pathname===`/update-tenantcontract/${z}`){const l=e.chequeDetails.map(a=>!a||typeof a.chequeimage!="string"?{...a,chequeimage:""}:a);Ye(l)}},[z,e==null?void 0:e.chequeDetails]);const Pt=l=>{Ye(a=>{const n=[...a];return n[l]={...n[l],chequeimage:""},n}),b(a=>{const n={...a},m=[...n.chequeDetails];return m[l]={...m[l],chequeimage:""},n.chequeDetails=m,n})},[S,We]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?We(parseFloat(e==null?void 0:e.noofchequeorinstallment)):We(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[j,At]=c.exports.useState([]),jt=(l,a)=>{let n=[];l.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const m=n[a]||{};n[a]={...m,chequenumbe:l.target.value,chequedate:(m==null?void 0:m.chequedate)||"",totalamount:(m==null?void 0:m.totalamount)||""};const u={...e,chequeDetails:n};b(u)},zt=(l,a)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const m=n[a]||{};n[a]={...m,chequedate:l[0]||""};const u={...e,chequeDetails:n};b(u)},Tt=(l,a)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const m=n[a]||{};n[a]={...m,totalamount:l.target.value,chequenumbe:(m==null?void 0:m.chequenumbe)||"",chequedate:(m==null?void 0:m.chequedate)||"",chequeimage:(m==null?void 0:m.chequeimage)||""};const u={...e,chequeDetails:n};b(u)},Et=(l,a)=>{const n=[...j],m=l.target.files[0];n[a]=m,At(n);let u=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(u=[...e.chequeDetails]);const y=u[a]||{};u[a]={...y,totalamount:(y==null?void 0:y.totalamount)||"",chequenumbe:(y==null?void 0:y.chequenumbe)||"",chequedate:(y==null?void 0:y.chequedate)||"",chequeimage:m||""};const _={...e,chequeDetails:u};b(_)},[Xe,G]=c.exports.useState(""),[$t,qn]=c.exports.useState(""),[Ze,Ot]=c.exports.useState(""),[me,Y]=c.exports.useState(""),[Ie,Gt]=c.exports.useState(""),[De,kn]=c.exports.useState(""),[et,Cn]=c.exports.useState(""),[Ut,Sn]=c.exports.useState(""),[Vt,W]=c.exports.useState(""),[Bt,X]=c.exports.useState("");c.exports.useState("");const[Lt,tt]=c.exports.useState(Array(S).fill("")),[Jt,nt]=c.exports.useState(Array(S).fill("")),[Rt,ot]=c.exports.useState(Array(S).fill("")),[Mt,at]=c.exports.useState(Array(S).fill("")),[Qt,wn]=c.exports.useState(""),[Ht,Fn]=c.exports.useState(""),[Kt,Pn]=c.exports.useState("");c.exports.useState("");const[lt,ue]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&pe.pathname==="/add-tenantcontract"?Je.find(a=>a.email===e.email)?(Y("Email is already in use. Please check existing tenants."),ue(!0)):(Y(""),ue(!1)):e.customertype==="Existing Tenant"&&(Y(""),ue(!1))},[e.customertype,e.email,Je]);let Yt={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no of cheque or installment",commission:"commission"};const Wt=fn({propertyid:ee().required(Xe),customertype:ee().required(Ze),email:ee().email(me).required(me),guestname:ee().required(Ie),mobilenumber:ee().required(De),nationality:ee().required(et)}).required(),{register:T,formState:{errors:An}}=hn({resolver:gn(Wt)}),it=()=>{let l=!1,a={propertyid:G,customertype:Ot,email:Y,guestname:Gt};return a&&Object.keys(a).length&&Object.keys(a).map(n=>{a[n](""),e[n]||(a[n](Yt[n]+" is required"),l=!0)}),l},[Z,ie]=c.exports.useState(!1),Xt=localStorage.getItem("isAuth"),E=JSON.parse(Xt),[Zt,I]=c.exports.useState(!1);c.exports.useEffect(()=>{const l=a=>{const{_id:n,propertyid:m,contractstartdate:u,contractenddate:y}=a,{contractstartdate:_,contractenddate:q,propertyid:k}=e;return n!==(e==null?void 0:e._id)&&u&&y&&new Date(u).toISOString()<new Date(q).toISOString()&&new Date(y).toISOString()>new Date(_).toISOString()&&m===k?(I(!0),G("Property is already Listed"),W("Property is already Listed"),X("Property is already Listed"),!0):(I(!1),G(""),W(""),X(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let a=0;a<(se==null?void 0:se.length);a++){const n=se[a];if(l(n)){I(!0),G("Property is already Listed"),W("Property is already Listed"),X("Property is already Listed");break}else{I(!1),G(""),W(""),X("");break}}else I(!1),G(""),W(""),X("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const It=async()=>{var l,a,n,m,u,y,_,q;if(tt(Array(S).fill("")),nt(Array(S).fill("")),ot(Array(S).fill("")),at(Array(S).fill("")),!e.propertyid||!e.guestname||!e.email)it();else if(!(e!=null&&e.customerid)&&!pt.isEmail(e.email))Y("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ze===!1&&lt===!1&&Zt===!1){ie(!0);let k;try{let C=[];M&&C.push(ne(M,"Passport"));let s=await Promise.all(C);if(s.length){let i=[];for(let g=0;g<s.length;g++){let x=s[g].data.files;i.push(x)}let d=[];for(let g of i)for(let x of g){let ye=x;d.push(ye)}let v="",N="",U="",V="",F="";for(let g of d)g.includes("Passport")?v=g:g.includes("ejari_certificate_doc")?N=g:g.includes("tenancy_contract_doc")?U=g:g.includes("addendum_doc")?V=g:g.includes("key_receipt_doc")&&(F=g);const r=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let g=e==null?void 0:e.guestname.split(" ");r.append("_id",e==null?void 0:e.customerid),r.append("firstname",g[0]),r.append("lastname",g[1]),r.append("email",e==null?void 0:e.email),r.append("whatsappno",e==null?void 0:e.mobilenumber),r.append("passportno",e==null?void 0:e.nationality),r.append("passportidno",e==null?void 0:e.passportnumber),r.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),r.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),r.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),r.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),r.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),r.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),r.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),r.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),r.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),r.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),r.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),r.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),r.append("altemail",t.altemail===void 0?"":t.altemail),r.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),r.append("password",t.password===void 0?"":t.password),r.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),r.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),r.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),r.append("type","tenant"),t!=null&&t.employeeid&&r.append("employeeid",t==null?void 0:t.employeeid),v?r.append("passportpdf",v):r.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t.passportpdf),R(ge(r))}else if((e==null?void 0:e.customertype)==="New Tenant"){let g=e==null?void 0:e.guestname.split(" ");r.append("firstname",g[0]),r.append("lastname",g[1]),r.append("email",e==null?void 0:e.email),r.append("whatsappno",e==null?void 0:e.mobilenumber),r.append("passportno",e==null?void 0:e.nationality),r.append("passportidno",e==null?void 0:e.passportnumber),r.append("type","tenant"),v&&r.append("passportpdf",v),R(xe(r))}const f=new FormData;if(f.append("propertyid",e==null?void 0:e.propertyid),f.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&f.append("customerid",e==null?void 0:e.customerid),f.append("guestname",e==null?void 0:e.guestname),f.append("passportnumber",e==null?void 0:e.passportnumber),f.append("email",e==null?void 0:e.email),f.append("nationality",e==null?void 0:e.nationality),f.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),f.append("createdBy",E==null?void 0:E._id),L&&f.append("contractupdation",e==null?void 0:e.contractupdation),v&&f.append("passportpdf",v),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?f.append("contractstartdate",e==null?void 0:e.contractstartdate):f.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?f.append("contractenddate",e==null?void 0:e.contractenddate):f.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?f.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):f.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?f.append("contractvalue",e==null?void 0:e.contractvalue):f.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?f.append("rentalamount",e==null?void 0:e.rentalamount):f.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?f.append("securitydepositamount",e==null?void 0:e.securitydepositamount):f.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?f.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):f.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?f.append("commission",e==null?void 0:e.commission):f.append("commission",""),N?f.append("ejari_certificate_doc",N):f.append("ejari_certificate_doc",""),U?f.append("tenancy_contract_doc",U):f.append("tenancy_contract_doc",""),V?f.append("addendum_doc",V):f.append("addendum_doc",""),F?f.append("key_receipt_doc",F):f.append("key_receipt_doc",""),e!=null&&e.chequeDetails){const g=[];for(const x of e.chequeDetails){const ye=(l=x==null?void 0:x.chequenumbe)!=null?l:"",en=(a=x==null?void 0:x.chequedate)!=null?a:"",tn=(n=x==null?void 0:x.totalamount)!=null?n:"",D=(m=x==null?void 0:x.chequeimage)!=null?m:"";console.log("chequeimage",D,"chequeImageFile",j);let ct;if(D)if(typeof D!="string")try{ct=D||j}catch(on){console.log(on,"in cheque image")}else ct=D||j;const nn={chequenumbe:ye,chequedate:en,totalamount:tn,chequeimage:D||j||""};g.push(nn)}f.append("chequeDetails",JSON.stringify(g))}else f.append("chequeDetails",[]);await Ue(f),_e.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ce("/all-tenantcontract")},1200)}else{const i=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");i.append("_id",e==null?void 0:e.customerid),i.append("firstname",v[0]),i.append("lastname",v[1]),i.append("email",e==null?void 0:e.email),i.append("whatsappno",e==null?void 0:e.mobilenumber),i.append("passportno",e==null?void 0:e.nationality),i.append("passportidno",e==null?void 0:e.passportnumber),i.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),i.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),i.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),i.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),i.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),i.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),i.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),i.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),i.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),i.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),i.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),i.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),i.append("altemail",t.altemail===void 0?"":t.altemail),i.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),i.append("password",t.password===void 0?"":t.password),i.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),i.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),i.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),i.append("passportpdf",t==null?void 0:t.passportpdf),i.append("type","tenant"),t!=null&&t.employeeid&&i.append("employeeid",t==null?void 0:t.employeeid),R(ge(i))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");i.append("firstname",v[0]),i.append("lastname",v[1]),i.append("email",e==null?void 0:e.email),i.append("whatsappno",e==null?void 0:e.mobilenumber),i.append("passportno",e==null?void 0:e.nationality),i.append("passportidno",e==null?void 0:e.passportnumber),i.append("type","tenant"),i.append("passportpdf",e==null?void 0:e.passportpdf),R(xe(i))}const d=new FormData;if(d.append("propertyid",e==null?void 0:e.propertyid),d.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&d.append("customerid",e==null?void 0:e.customerid),d.append("guestname",e==null?void 0:e.guestname),d.append("passportnumber",e==null?void 0:e.passportnumber),d.append("email",e==null?void 0:e.email),d.append("nationality",e==null?void 0:e.nationality),d.append("mobilenumber",e==null?void 0:e.mobilenumber),d.append("createdBy",E==null?void 0:E._id),d.append("passportpdf",""),L&&d.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?d.append("contractstartdate",e==null?void 0:e.contractstartdate):d.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?d.append("contractenddate",e==null?void 0:e.contractenddate):d.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?d.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):d.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?d.append("contractvalue",e==null?void 0:e.contractvalue):d.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?d.append("rentalamount",e==null?void 0:e.rentalamount):d.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?d.append("securitydepositamount",e==null?void 0:e.securitydepositamount):d.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?d.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):d.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?d.append("commission",e==null?void 0:e.commission):d.append("commission",""),d.append("ejari_certificate_doc",Q),d.append("tenancy_contract_doc",H),d.append("addendum_doc",K),d.append("key_receipt_doc",le),e!=null&&e.chequeDetails){const v=[];for(const N of e.chequeDetails){const U=(u=N==null?void 0:N.chequenumbe)!=null?u:"",V=(y=N==null?void 0:N.chequedate)!=null?y:"",F=(_=N==null?void 0:N.totalamount)!=null?_:"",r=(q=N==null?void 0:N.chequeimage)!=null?q:"";console.log("chequeimage",r,"chequeImageFile",j);let f;if(r)if(typeof r!="string")try{f=r.name}catch(x){console.log(x,"in cheque image")}else f=r.name;const g={chequenumbe:U,chequedate:V,totalamount:F,chequeimage:f||""};v.push(g)}d.append("chequeDetails",JSON.stringify(v))}else d.append("chequeDetails",[]);if(k=await Ue(d),k.data.status===!0)return _e.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ce("/all-tenantcontract")},1200);ie(!0)}}catch{ie(!1)}}},Dt=async l=>{var a,n,m,u;if(l.preventDefault(),tt(Array(S).fill("")),nt(Array(S).fill("")),ot(Array(S).fill("")),at(Array(S).fill("")),!e.propertyid||!e.guestname||!e.email)it();else if(!(e!=null&&e.customerid)&&!pt.isEmail(e.email))Y("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ze===!1&&lt===!1){ie(!0);try{let y=e==null?void 0:e.passportpdf,_=e==null?void 0:e.ejari_certificate_doc,q=e==null?void 0:e.tenancy_contract_doc,k=e==null?void 0:e.addendum_doc,C=e==null?void 0:e.key_receipt_doc;M!==null&&(y=await ne(M,"Passport"),y=y.data.files[0]),Q!==null&&(_=await ne(Q,"ejari_certificate_doc"),_=_.data.files[0]),H!==null&&(q=await ne(H,"tenancy_contract_doc"),q=q.data.files[0]),K!==null&&(k=await ne(K,"addendum_doc"),k=k.data.files[0]),le!==null&&(C=await ne(le,"key_receipt_doc"),C=C.data.files[0]);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let d=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",d[0]),s.append("lastname",d[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",(t==null?void 0:t.contactno)===void 0||(t==null?void 0:t.contactno)===null?"":t==null?void 0:t.contactno),s.append("datebirth",(t==null?void 0:t.datebirth)===void 0||(t==null?void 0:t.datebirth)===null?"":t==null?void 0:t.datebirth),s.append("countryofresidence",(t==null?void 0:t.countryofresidence)===void 0||(t==null?void 0:t.countryofresidence)===null?"":t==null?void 0:t.countryofresidence),s.append("memberid",(t==null?void 0:t.memberid)===void 0||(t==null?void 0:t.memberid)===null?"":t==null?void 0:t.memberid),s.append("nameonpassport",(t==null?void 0:t.nameonpassport)===void 0||(t==null?void 0:t.nameonpassport)===null?"":t==null?void 0:t.nameonpassport),s.append("nationalidexpiry",(t==null?void 0:t.nationalidexpiry)===void 0||(t==null?void 0:t.nationalidexpiry)===null?"":t==null?void 0:t.nationalidexpiry),s.append("nationalidissuedate",(t==null?void 0:t.nationalidissuedate)===void 0||(t==null?void 0:t.nationalidissuedate)===null?"":t==null?void 0:t.nationalidissuedate),s.append("nationalidno",(t==null?void 0:t.nationalidno)===void 0||(t==null?void 0:t.nationalidno)===null?"":t==null?void 0:t.nationalidno),s.append("passportexpiry",(t==null?void 0:t.passportexpiry)===void 0||(t==null?void 0:t.passportexpiry)===null?"":t==null?void 0:t.passportexpiry),s.append("passportissue",(t==null?void 0:t.passportissue)===void 0||(t==null?void 0:t.passportissue)===null?"":t==null?void 0:t.passportissue),s.append("postaladdress",(t==null?void 0:t.postaladdress)===void 0||(t==null?void 0:t.postaladdress)===null?"":t==null?void 0:t.postaladdress),s.append("primaryno",(t==null?void 0:t.primaryno)===void 0||(t==null?void 0:t.primaryno)===null?"":t==null?void 0:t.primaryno),s.append("altemail",(t==null?void 0:t.altemail)===void 0?"":t==null?void 0:t.altemail),s.append("altmobilenumber",(t==null?void 0:t.altmobilenumber)===void 0?"":t==null?void 0:t.altmobilenumber),s.append("password",(t==null?void 0:t.password)===void 0?"":t==null?void 0:t.password),s.append("confirmpass",(t==null?void 0:t.confirmpass)===void 0?"":t==null?void 0:t.confirmpass),s.append("residentstatus",(t==null?void 0:t.residentstatus)===void 0?"":t==null?void 0:t.residentstatus),s.append("nationalidpdf",(t==null?void 0:t.nationalidpdf)===void 0?"":t==null?void 0:t.nationalidpdf),s.append("type","tenant"),t!=null&&t.employeeid&&s.append("employeeid",t==null?void 0:t.employeeid),y?s.append("passportpdf",y):s.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t==null?void 0:t.passportpdf),R(ge(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let d=e==null?void 0:e.guestname.split(" ");s.append("firstname",d[0]),s.append("lastname",d[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),y&&s.append("passportpdf",y),s.append("type","tenant"),R(xe(s))}const i=new FormData;if(i.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&i.append("customerid",e==null?void 0:e.customerid),i.append("_id",e==null?void 0:e._id),i.append("propertyid",e==null?void 0:e.propertyid),i.append("guestname",e==null?void 0:e.guestname),i.append("passportnumber",e==null?void 0:e.passportnumber),i.append("email",e==null?void 0:e.email),i.append("nationality",e==null?void 0:e.nationality),i.append("mobilenumber",e==null?void 0:e.mobilenumber),i.append("updatedBy",E==null?void 0:E._id),e!=null&&e.contractupdation&&i.append("contractupdation",e==null?void 0:e.contractupdation),y&&i.append("passportpdf",y),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?i.append("contractstartdate",e==null?void 0:e.contractstartdate):i.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?i.append("contractenddate",e==null?void 0:e.contractenddate):i.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?i.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):i.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?i.append("contractvalue",e==null?void 0:e.contractvalue):i.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?i.append("rentalamount",e==null?void 0:e.rentalamount):i.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?i.append("securitydepositamount",e==null?void 0:e.securitydepositamount):i.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?i.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):i.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?i.append("commission",e==null?void 0:e.commission):i.append("commission",""),_&&i.append("ejari_certificate_doc",_||Q),q&&i.append("tenancy_contract_doc",q||H),k&&i.append("addendum_doc",k||K),C&&i.append("key_receipt_doc",C||le),e!=null&&e.chequeDetails){const d=[];for(const v of e.chequeDetails){const N=(a=v==null?void 0:v.chequenumbe)!=null?a:"",U=(n=v==null?void 0:v.chequedate)!=null?n:"",V=(m=v==null?void 0:v.totalamount)!=null?m:"",F=(u=v==null?void 0:v.chequeimage)!=null?u:"";console.log("chequeimage",F,"chequeImageFile",j);let r;if(F)if(typeof F!="string")try{r=F||j}catch(g){console.log(g,"in cheque image")}else r=F||j;const f={chequenumbe:N,chequedate:U,totalamount:V,chequeimage:F||j||""};d.push(f)}i.append("chequeDetails",JSON.stringify(d))}else i.append("chequeDetails",[]);await mt(i),_e.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ce("/all-tenantcontract")},1200)}catch(y){console.log(y,"error"),ie(!1)}}};return p(P,{children:[o(un,{}),o(yn,{title:"tenant contract Form",children:o("div",{children:p("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[o("div",{className:"w-[100%] col-span-3",children:o("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"})}),p("div",{className:"w-[100%] col-span-3",children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"}),o(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ve,value:Ve.filter(function(l){return l.value===(e==null?void 0:e.propertyid)}),onChange:l=>{b({...e,propertyid:l==null?void 0:l.value})},styles:Ne,id:"hh",placeholder:"Select and Search property"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Xe})]}),o(P,{children:e!=null&&e.propertyid?o(P,{children:o("div",{className:"w-[100%] col-span-3",children:p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Unit number"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Community Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Project Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Building Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})]})})}):null}),o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})}),o("div",{className:"w-[100%] col-span-3",children:o("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"})}),p("div",{className:"w-[100%] col-span-3",children:[o("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:vt.map(l=>o(bn,{label:l.label,name:"color",value:l.value,checked:(e==null?void 0:e.customertype)===l.value,onChange:bt}))}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ze}),o("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?p(P,{children:[p("div",{className:"w-[100%] col-span-3",children:[o("div",{children:O!=null&&O.length?p(P,{children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"}),o(be,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:O,value:O==null?void 0:O.filter(function(l){return l.value===(e==null?void 0:e.customerid)}),onChange:l=>{b({...e,customerid:l==null?void 0:l.value})},styles:Ne,id:"hh"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me&&"Customer details are required"})]}):null}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$t})]}),o(P,{children:e!=null&&e.customerid?p(P,{children:[p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Tenant Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Email"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Mobile Number"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Passport no"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Nationality"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"}),Be!==""?o("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()})}):o(B,{name:"basic",selectedFile:M,onChange:Re})]})]}):null})]}):(e==null?void 0:e.customertype)==="New Tenant"?p(P,{children:[p("div",{children:[o($,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ie})]}),p("div",{children:[o($,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me})]}),p("div",{children:[o($,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:De})]}),p("div",{children:[o($,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ut})]}),p("div",{children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"}),o(be,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ve.getAllCountries().filter(function(l){return l.name===(e==null?void 0:e.nationality)}),options:ve.getAllCountries(),styles:Ne,id:"hh",getOptionLabel:l=>l.name,getOptionValue:l=>l.name,onChange:l=>{dt(l==null?void 0:l.name),A({target:{name:"nationality",value:l.name}})}}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:et})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"}),Be!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:xt})]}):o(B,{name:"basic",selectedFile:M,onChange:Re})]})]}):null})]}),o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})}),p("div",{className:"w-[100%] col-span-3",children:[p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"}),o(fe,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:l=>{A({target:{name:"contractexecutiondate",value:l[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"}),o(fe,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:l=>{A({target:{name:"contractstartdate",value:l[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Vt})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"}),o(fe,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:l=>{A({target:{name:"contractenddate",value:l[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Bt})]}),o(P,{}),p("div",{children:[o($,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Qt})]}),p("div",{children:[o($,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ht})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"}),he!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Nt})]}):o(B,{name:"basic",selectedFile:Q,onChange:_t}),!he&&qe&&o("p",{style:{color:"red",fontSize:10},children:qe})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"}),st!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:kt})]}):o(B,{name:"basic",selectedFile:H,onChange:qt}),!H&&Ce&&o("p",{style:{color:"red",fontSize:10},children:Ce})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"}),rt!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:St})]}):o(B,{name:"basic",selectedFile:K,onChange:Ct}),!K&&we&&o("p",{style:{color:"red",fontSize:10},children:we})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"}),Oe!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ft})]}):o(B,{name:"basic",selectedFile:le,onChange:wt}),!Oe&&Pe&&o("p",{style:{color:"red",fontSize:10},children:Pe})]}),o(P,{}),p("div",{children:[o($,{label:"no of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:T,onChange:A}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Kt})]}),o(P,{})]}),S>0&&o(P,{children:Array.from({length:S},(l,a)=>{var n,m,u,y,_,q,k,C,s,i;return p("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[p("div",{children:[o($,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${a}`,value:((m=(n=e==null?void 0:e.chequeDetails)==null?void 0:n[a])==null?void 0:m.chequenumbe)||"",register:T,onChange:d=>jt(d,a)}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Lt[a]})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"}),o(fe,{className:"form-control py-2",name:"chequedate",value:((y=(u=e==null?void 0:e.chequeDetails)==null?void 0:u[a])==null?void 0:y.chequedate)||"",onChange:d=>zt(d,a),id:"default-picker",placeholder:"Select cheque date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Jt[a]})]}),p("div",{children:[o($,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${a}`,value:((q=(_=e==null?void 0:e.chequeDetails)==null?void 0:_[a])==null?void 0:q.totalamount)||"",register:T,onChange:d=>Tt(d,a)}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Rt[a]})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"}),((k=w==null?void 0:w[a])==null?void 0:k.chequeimage)!==""&&pe.pathname===`/update-tenantcontract/${z}`&&((C=w==null?void 0:w[a])==null?void 0:C.chequeimage)!==void 0?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${(s=w==null?void 0:w[a])==null?void 0:s.chequeimage}`,children:decodeURIComponent((i=w==null?void 0:w[a])==null?void 0:i.chequeimage).split("/").pop()}),o("img",{src:te,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>Pt(a)})]}):o(B,{name:`chequeimage-${a}`,selectedFile:j[a],onChange:d=>Et(d,a)}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Mt[a]})]}),S>1&&a!==S-1&&o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})})]},a+1)})})]}),p("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[o("div",{className:`"ltr:text-right rtl:text-left " ${Z===!0?"cursor-not-allowed	":""}`,children:Z===!0?o("div",{className:` ${Z===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"}):o(vn,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"})}),pe.pathname===`/update-tenantcontract/${z}`?o("div",{className:"ltr:text-right rtl:text-left",children:o("div",{className:`${Z===!0?"opacity-[0.7]":""}`,children:o("button",{className:"btn btn-dark  text-center",type:"button",onClick:Dt,children:"Update"})})}):o("div",{className:"ltr:text-right rtl:text-left",children:o("div",{className:`${Z===!0?"opacity-[0.7]":""}`,children:o("button",{className:"btn btn-dark  text-center",onClick:It,type:"button",children:"Submit"})})}),Z===!0?o("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:o("div",{className:"loader-spiner"})}):null]})]})})})]})};export{zn as default};
