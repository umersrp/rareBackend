import{bu as Ht,E as Qt,ag as Kt,r as c,J as Yt,ck as Wt,ce as Xt,cm as Zt,cn as It,y as Dt,z as R,A as en,c as p,F as k,j as o,v as tn,f as nn,aq as ce,ak as on,ao as E,m as P,bP as pe,bQ as J,aC as ne,L as an,B as ln,M as Ie,bK as de,bS as se,Q as H,bR as cn}from"./index.aff5cc02.js";const re={option:(q,M)=>({...q,fontSize:"14px"})},gn=()=>{const{id:q}=Ht(),M=Qt(),Q=Kt(),[e,y]=c.exports.useState(""),[me,fe]=c.exports.useState(""),[he,ue]=c.exports.useState(""),[ye,be]=c.exports.useState(""),[ve,ge]=c.exports.useState(""),[pn,De]=c.exports.useState(""),C=l=>{const{name:a,value:n}=l.target;y({...e,[a]:n})},K=new URLSearchParams(window.location.search),Y=K.get("propertyid"),$=K.get("renew"),O=K.get("customerid"),W=K.get("contractenddate");c.exports.useEffect(()=>{Y!=null&&y(l=>({...l,propertyid:Y}))},[Y]),c.exports.useEffect(()=>{$!=null&&y(l=>({...l,contractupdation:$}))},[$]),c.exports.useEffect(()=>{O!=null&&(y(a=>({...a,customerid:O,customertype:"Existing Tenant"})),(async()=>{if(O){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${O}`)).json();n&&(je(n),y({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),Z((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})())},[O]),c.exports.useEffect(()=>{if(W!=null){const l=new Date(W);l.setDate(l.getDate()+1);const a=l.toISOString();y(n=>({...n,contractstartdate:a}))}},[W]);const G=Yt(),{data:X}=Wt(),{data:u,isSuccess:xe}=Xt(q),[_e,dn]=c.exports.useState(!1),[Ne,ke]=c.exports.useState(""),[et,qe]=c.exports.useState(""),[tt,Ce]=c.exports.useState(""),[Se,we]=c.exports.useState("");c.exports.useEffect(()=>{var l,a,n,d,i,s,b,_,r,f,v,m;q&&u&&xe&&(y(u==null?void 0:u.tenantContract),ke(((l=u==null?void 0:u.tenantContract)==null?void 0:l.ejari_certificate_doc)&&((a=u==null?void 0:u.tenantContract)==null?void 0:a.ejari_certificate_doc)!==void 0?(n=u==null?void 0:u.tenantContract)==null?void 0:n.ejari_certificate_doc:""),qe(((d=u==null?void 0:u.tenantContract)==null?void 0:d.tenancy_contract_doc)&&((i=u==null?void 0:u.tenantContract)==null?void 0:i.tenancy_contract_doc)!==void 0?(s=u==null?void 0:u.tenantContract)==null?void 0:s.tenancy_contract_doc:""),Ce(((b=u==null?void 0:u.tenantContract)==null?void 0:b.addendum_doc)&&((_=u==null?void 0:u.tenantContract)==null?void 0:_.addendum_doc)!==void 0?(r=u==null?void 0:u.tenantContract)==null?void 0:r.addendum_doc:""),we(((f=u==null?void 0:u.tenantContract)==null?void 0:f.key_receipt_doc)&&((v=u==null?void 0:u.tenantContract)==null?void 0:v.key_receipt_doc)!==void 0?(m=u==null?void 0:u.tenantContract)==null?void 0:m.key_receipt_doc:""))},[q,u,xe]);const[Fe]=Zt(),[nt]=It(),[Pe,ot]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/property").then(l=>l.json()).then(l=>{const a=l==null?void 0:l.map(n=>({label:n.unitnumber+" | "+n.communityname+" | "+n.projectname+" | "+n.buildingname,value:n._id}));ot(a)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const n=await(await fetch(`http://portals.rarehomesgroup.com/property/${e==null?void 0:e.propertyid}`)).json();n&&y({...e,unitnumber:n==null?void 0:n.unitnumber,buildingname:n==null?void 0:n.building_name,projectname:n==null?void 0:n.project_name,communityname:n==null?void 0:n.community_name})}})()},[e==null?void 0:e.propertyid]);const[z,at]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/users/api/customers").then(a=>a.json()).then(a=>{var d;const n=(d=a==null?void 0:a.users)==null?void 0:d.map(i=>({label:i.firstname+" "+i.lastname+" | "+i.email+" | "+i.passportidno+" | "+i.whatsappno,value:i._id}));at(n)})})()},[]);const[Ae,Z]=c.exports.useState(""),[t,je]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const n=await(await fetch(`http://portals.rarehomesgroup.com/users/${e==null?void 0:e.customerid}`)).json();n&&(je(n),y({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),Z((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[ze,lt]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const n=await(await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return lt(n==null?void 0:n.users)})()},[]);const[sn,it]=c.exports.useState(e==null?void 0:e.customertype),ct=l=>{it(l.target.value),y({...e,customertype:l.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),Z("")},pt=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const a=pe.getAllCountries();let n=[];n=a==null?void 0:a.map(({isoCode:d,name:i})=>({isoCode:d,name:i}))}catch(a){console.log(a)}})()},[]);const[I,dt]=c.exports.useState(null),Te=l=>{dt(l.target.files[0]),y({...e,passportpdf:l.target.files[0]})},st=()=>{y({...e,passportpdf:""}),Z("")},[oe,Ee]=c.exports.useState(null),rt=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Ee(a),y({...e,ejari_certificate_doc:a}),fe("")):(Ee(null),y({...e,ejari_certificate_doc:null}),fe("File size exceeds 10MB limit!"))},mt=()=>{y({...e,ejari_certificate_doc:""}),ke("")},[D,$e]=c.exports.useState(null),ft=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?($e(a),y({...e,tenancy_contract_doc:a}),ue("")):($e(null),y({...e,tenancy_contract_doc:null}),ue("File size exceeds 10MB limit!"))},ht=()=>{y({...e,tenancy_contract_doc:""}),qe("")},[ee,Oe]=c.exports.useState(null),ut=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Oe(a),y({...e,addendum_doc:a}),be("")):(Oe(null),y({...e,addendum_doc:null}),be("File size exceeds 10MB limit!"))},yt=()=>{y({...e,addendum_doc:""}),Ce("")},[ae,Ge]=c.exports.useState(null),bt=l=>{const a=l.target.files[0],n=10*1024*1024;a&&a.size<=n?(Ge(a),y({...e,key_receipt_doc:a}),ge("")):(Ge(null),y({...e,key_receipt_doc:null}),ge("File size exceeds 10MB limit!"))},vt=()=>{y({...e,key_receipt_doc:""}),we("")};c.exports.useState(null);const[N,Ue]=c.exports.useState("");c.exports.useEffect(()=>{if(q&&(e==null?void 0:e.chequeDetails)&&Q.pathname===`/update-tenantcontract/${q}`){const l=e.chequeDetails.map(a=>!a||typeof a.chequeimage!="string"?{...a,chequeimage:""}:a);Ue(l)}},[q,e==null?void 0:e.chequeDetails]);const gt=l=>{Ue(a=>{const n=[...a];return n[l]={...n[l],chequeimage:""},n}),y(a=>{const n={...a},d=[...n.chequeDetails];return d[l]={...d[l],chequeimage:""},n.chequeDetails=d,n})},[x,Be]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Be(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Be(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[Ve,xt]=c.exports.useState([]),_t=(l,a)=>{let n=[];l.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const d=n[a]||{};n[a]={...d,chequenumbe:l.target.value,chequedate:(d==null?void 0:d.chequedate)||"",totalamount:(d==null?void 0:d.totalamount)||""};const i={...e,chequeDetails:n};y(i)},Nt=(l,a)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const d=n[a]||{};n[a]={...d,chequedate:l[0]||""};const i={...e,chequeDetails:n};y(i)},kt=(l,a)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const d=n[a]||{};n[a]={...d,totalamount:l.target.value,chequenumbe:(d==null?void 0:d.chequenumbe)||"",chequedate:(d==null?void 0:d.chequedate)||"",chequeimage:(d==null?void 0:d.chequeimage)||""};const i={...e,chequeDetails:n};y(i)},qt=(l,a)=>{const n=[...Ve],d=a.target.files[0];n[l]=d,xt(n);let i=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(i=[...e.chequeDetails]);const s=i[l]||{};i[l]={...s,totalamount:(s==null?void 0:s.totalamount)||"",chequenumbe:(s==null?void 0:s.chequenumbe)||"",chequedate:(s==null?void 0:s.chequedate)||"",chequeimage:d};const b={...e,chequeDetails:i};y(b)},[Le,T]=c.exports.useState(""),[Ct,rn]=c.exports.useState(""),[Re,St]=c.exports.useState(""),[te,U]=c.exports.useState(""),[Je,wt]=c.exports.useState(""),[Me,mn]=c.exports.useState(""),[He,fn]=c.exports.useState(""),[Ft,hn]=c.exports.useState(""),[Pt,B]=c.exports.useState(""),[At,V]=c.exports.useState("");c.exports.useState("");const[jt,Qe]=c.exports.useState(Array(x).fill("")),[zt,Ke]=c.exports.useState(Array(x).fill("")),[Tt,Ye]=c.exports.useState(Array(x).fill("")),[Et,We]=c.exports.useState(Array(x).fill("")),[$t,un]=c.exports.useState(""),[Ot,yn]=c.exports.useState(""),[Gt,le]=c.exports.useState("");c.exports.useState("");const[Xe,ie]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&Q.pathname==="/add-tenantcontract"?ze.find(a=>a.email===e.email)?(U("Email is already in use. Please check existing tenants."),ie(!0)):(U(""),ie(!1)):e.customertype==="Existing Tenant"&&(U(""),ie(!1))},[e.customertype,e.email,ze]);let Ut={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no. of cheque or installment",commission:"commission"};const Bt=Dt({propertyid:R().required(Le),customertype:R().required(Re),email:R().email(te).required(te),guestname:R().required(Je),mobilenumber:R().required(Me),nationality:R().required(He)}).required(),{register:S,formState:{errors:bn}}=en({resolver:ln(Bt)}),Ze=()=>{let l=!1,a={propertyid:T,customertype:St,email:U,guestname:wt};return a&&Object.keys(a).length&&Object.keys(a).map(n=>{a[n](""),e[n]||(a[n](Ut[n]+" is required"),l=!0)}),l},[A,j]=c.exports.useState(!1),Vt=localStorage.getItem("isAuth"),w=JSON.parse(Vt),[Lt,L]=c.exports.useState(!1);c.exports.useEffect(()=>{const l=a=>{const{_id:n,propertyid:d,contractstartdate:i,contractenddate:s}=a,{contractstartdate:b,contractenddate:_,propertyid:r}=e;return n!==(e==null?void 0:e._id)&&i&&s&&new Date(i).toISOString()<new Date(_).toISOString()&&new Date(s).toISOString()>new Date(b).toISOString()&&d===r?(L(!0),T("Property is already Listed"),B("Property is already Listed"),V("Property is already Listed"),!0):(L(!1),T(""),B(""),V(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid)&&e.softdelete===!1)for(let a=0;a<(X==null?void 0:X.length);a++){const n=X[a];if(l(n)){L(!0),T("Property is already Listed"),B("Property is already Listed"),V("Property is already Listed");break}else{L(!1),T(""),B(""),V("");break}}else L(!1),T(""),B(""),V("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Rt=async()=>{Qe(Array(x).fill("")),Ke(Array(x).fill("")),Ye(Array(x).fill("")),We(Array(x).fill(""));let l=!1;try{if(!e.propertyid||!e.guestname||!e.email)l=Ze();else if(!(e!=null&&e.customerid)&&!Ie.isEmail(e.email))U("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&Xe===!1&&Lt===!1){let a;console.log("create"),j(!0);try{let n=[],d=await Promise.all(n);if(d.length){let i=[];for(let g=0;g<d.length;g++){let F=d[g].data.files;i.push(F)}let s=[];for(let g of i)for(let F of g){let Mt=F;s.push(Mt)}let b="",_="",r="",f="",v="";for(let g of s)g.includes("Passport")?b=g:g.includes("ejari_certificate_doc")?_=g:g.includes("tenancy_contract_doc")?r=g:g.includes("addendum_doc")?f=g:g.includes("key_receipt_doc")&&(v=g);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let g=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",g[0]),m.append("lastname",g[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),m.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),m.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),m.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),m.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),m.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),m.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),m.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),m.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),m.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),m.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),m.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),m.append("altemail",t.altemail===void 0?"":t.altemail),m.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),m.append("password",t.password===void 0?"":t.password),m.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),m.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),m.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),m.append("type","tenant"),t!=null&&t.employeeid&&m.append("employeeid",t==null?void 0:t.employeeid),b?m.append("passportpdf",b||""):m.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t.passportpdf),G(de(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let g=e==null?void 0:e.guestname.split(" ");m.append("firstname",g[0]),m.append("lastname",g[1]?g[1]:" "),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("type","tenant"),b&&m.append("passportpdf",b),G(se(m))}const h=new FormData;h.append("propertyid",e==null?void 0:e.propertyid),h.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&h.append("customerid",e==null?void 0:e.customerid),h.append("guestname",e==null?void 0:e.guestname),h.append("passportnumber",e==null?void 0:e.passportnumber),h.append("email",e==null?void 0:e.email),h.append("nationality",e==null?void 0:e.nationality),h.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),h.append("createdBy",w==null?void 0:w._id),$&&h.append("contractupdation",e==null?void 0:e.contractupdation),b?h.append("passportpdf",b||""):h.append("passportpdf",""),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?h.append("contractstartdate",e==null?void 0:e.contractstartdate):h.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?h.append("contractenddate",e==null?void 0:e.contractenddate):h.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?h.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):h.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?h.append("contractvalue",e==null?void 0:e.contractvalue):h.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?h.append("rentalamount",e==null?void 0:e.rentalamount):h.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?h.append("securitydepositamount",e==null?void 0:e.securitydepositamount):h.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?h.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):h.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?h.append("commission",e==null?void 0:e.commission):h.append("commission",""),_?h.append("ejari_certificate_doc",_):h.append("ejari_certificate_doc",""),r?h.append("tenancy_contract_doc",r):h.append("tenancy_contract_doc",""),f?h.append("addendum_doc",f):h.append("addendum_doc",""),v?h.append("key_receipt_doc",v):h.append("key_receipt_doc",""),e!=null&&e.chequeDetails&&e.chequeDetails.map((g,F)=>(h.append("chequeDetailsImages",g.chequeimage),g.chequeimage="",g)),h.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await Fe(h),H.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{M("/all-tenantcontract")},500)}else{const i=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let b=e==null?void 0:e.guestname.split(" ");i.append("_id",e==null?void 0:e.customerid),i.append("firstname",b[0]),i.append("lastname",b[1]),i.append("email",e==null?void 0:e.email),i.append("whatsappno",e==null?void 0:e.mobilenumber),i.append("passportno",e==null?void 0:e.nationality),i.append("passportidno",e==null?void 0:e.passportnumber),i.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),i.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),i.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),i.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),i.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),i.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),i.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),i.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),i.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),i.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),i.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),i.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),i.append("altemail",t.altemail===void 0?"":t.altemail),i.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),i.append("password",t.password===void 0?"":t.password),i.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),i.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),i.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),i.append("passportpdf",t==null?void 0:t.passportpdf),i.append("type","tenant"),t!=null&&t.employeeid&&i.append("employeeid",t==null?void 0:t.employeeid),G(de(i))}else if((e==null?void 0:e.customertype)==="New Tenant"){let b=e==null?void 0:e.guestname.split(" ");i.append("firstname",b[0]),i.append("lastname",b[1]),i.append("email",e==null?void 0:e.email),i.append("whatsappno",e==null?void 0:e.mobilenumber),i.append("passportno",e==null?void 0:e.nationality),i.append("passportidno",e==null?void 0:e.passportnumber),i.append("type","tenant"),i.append("passportpdf",e==null?void 0:e.passportpdf),G(se(i))}const s=new FormData;s.append("propertyid",e==null?void 0:e.propertyid),s.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&s.append("customerid",e==null?void 0:e.customerid),s.append("guestname",e==null?void 0:e.guestname),s.append("passportnumber",e==null?void 0:e.passportnumber),s.append("email",e==null?void 0:e.email),s.append("nationality",e==null?void 0:e.nationality),s.append("mobilenumber",e==null?void 0:e.mobilenumber),s.append("createdBy",w==null?void 0:w._id),s.append("passportpdf",""),$&&s.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?s.append("contractstartdate",e==null?void 0:e.contractstartdate):s.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?s.append("contractenddate",e==null?void 0:e.contractenddate):s.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?s.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):s.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?s.append("contractvalue",e==null?void 0:e.contractvalue):s.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?s.append("rentalamount",e==null?void 0:e.rentalamount):s.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?s.append("securitydepositamount",e==null?void 0:e.securitydepositamount):s.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?s.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):s.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?s.append("commission",e==null?void 0:e.commission):s.append("commission",""),s.append("ejari_certificate_doc",oe),s.append("tenancy_contract_doc",D),s.append("addendum_doc",ee),s.append("key_receipt_doc",ae),e!=null&&e.chequeDetails&&e.chequeDetails.map((b,_)=>(s.append("chequeDetailsImages",b.chequeimage),b.chequeimage="",b)),s.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),a=await Fe(s),a.data.status===!0?(H.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{M("/all-tenantcontract")},500)):j(!1)}}catch(n){console.log(n,"error"),H.error(`${a.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),j(!1)}}}catch(a){console.log("catch error create tenant",a),j(!1)}};console.log("888888888888",e);const Jt=async l=>{l.preventDefault(),Qe(Array(x).fill("")),Ke(Array(x).fill("")),Ye(Array(x).fill("")),We(Array(x).fill(""));let a=!1,n={error:"Failed to Update tenant contract"};try{if(!e.propertyid||!e.guestname||!e.email)a=Ze();else if(!(e!=null&&e.customerid)&&!Ie.isEmail(e.email))U("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&Xe===!1){j(!0);try{let d=e==null?void 0:e.passportpdf,i=e==null?void 0:e.ejari_certificate_doc,s=e==null?void 0:e.tenancy_contract_doc,b=e==null?void 0:e.addendum_doc,_=e==null?void 0:e.key_receipt_doc;I!==null&&(d=await cn(I,"Passport"),d=d.data.files[0]);const r=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");r.append("_id",e==null?void 0:e.customerid),r.append("firstname",v[0]),r.append("lastname",v[1]?v[1]:v[0]),r.append("email",e==null?void 0:e.email),r.append("whatsappno",e==null?void 0:e.mobilenumber),r.append("passportno",e==null?void 0:e.nationality),r.append("passportidno",e==null?void 0:e.passportnumber),r.append("contactno",(t==null?void 0:t.contactno)===void 0||(t==null?void 0:t.contactno)===null?"":t==null?void 0:t.contactno),r.append("datebirth",(t==null?void 0:t.datebirth)===void 0||(t==null?void 0:t.datebirth)===null?"":t==null?void 0:t.datebirth),r.append("countryofresidence",(t==null?void 0:t.countryofresidence)===void 0||(t==null?void 0:t.countryofresidence)===null?"":t==null?void 0:t.countryofresidence),r.append("memberid",(t==null?void 0:t.memberid)===void 0||(t==null?void 0:t.memberid)===null?"":t==null?void 0:t.memberid),r.append("nameonpassport",(t==null?void 0:t.nameonpassport)===void 0||(t==null?void 0:t.nameonpassport)===null?"":t==null?void 0:t.nameonpassport),r.append("nationalidexpiry",(t==null?void 0:t.nationalidexpiry)===void 0||(t==null?void 0:t.nationalidexpiry)===null?"":t==null?void 0:t.nationalidexpiry),r.append("nationalidissuedate",(t==null?void 0:t.nationalidissuedate)===void 0||(t==null?void 0:t.nationalidissuedate)===null?"":t==null?void 0:t.nationalidissuedate),r.append("nationalidno",(t==null?void 0:t.nationalidno)===void 0||(t==null?void 0:t.nationalidno)===null?"":t==null?void 0:t.nationalidno),r.append("passportexpiry",(t==null?void 0:t.passportexpiry)===void 0||(t==null?void 0:t.passportexpiry)===null?"":t==null?void 0:t.passportexpiry),r.append("passportissue",(t==null?void 0:t.passportissue)===void 0||(t==null?void 0:t.passportissue)===null?"":t==null?void 0:t.passportissue),r.append("postaladdress",(t==null?void 0:t.postaladdress)===void 0||(t==null?void 0:t.postaladdress)===null?"":t==null?void 0:t.postaladdress),r.append("primaryno",(t==null?void 0:t.primaryno)===void 0||(t==null?void 0:t.primaryno)===null?"":t==null?void 0:t.primaryno),r.append("altemail",(t==null?void 0:t.altemail)===void 0?"":t==null?void 0:t.altemail),r.append("altmobilenumber",(t==null?void 0:t.altmobilenumber)===void 0?"":t==null?void 0:t.altmobilenumber),r.append("password",(t==null?void 0:t.password)===void 0?"":t==null?void 0:t.password),r.append("confirmpass",(t==null?void 0:t.confirmpass)===void 0?"":t==null?void 0:t.confirmpass),r.append("residentstatus",(t==null?void 0:t.residentstatus)===void 0?"":t==null?void 0:t.residentstatus),r.append("nationalidpdf",(t==null?void 0:t.nationalidpdf)===void 0?"":t==null?void 0:t.nationalidpdf),r.append("type","tenant"),t!=null&&t.employeeid&&r.append("employeeid",t==null?void 0:t.employeeid),d?r.append("passportpdf",d):r.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t==null?void 0:t.passportpdf),G(de(r))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");r.append("firstname",v[0]),r.append("lastname",v[1]?v[1]:v[0]),r.append("email",e==null?void 0:e.email),r.append("whatsappno",e==null?void 0:e.mobilenumber),r.append("passportno",e==null?void 0:e.nationality),r.append("passportidno",e==null?void 0:e.passportnumber),d&&r.append("passportpdf",d),r.append("type","tenant"),G(se(r))}const f=new FormData;f.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&f.append("customerid",e==null?void 0:e.customerid),f.append("_id",e==null?void 0:e._id),f.append("propertyid",e==null?void 0:e.propertyid),f.append("guestname",e==null?void 0:e.guestname),f.append("passportnumber",e==null?void 0:e.passportnumber),f.append("email",e==null?void 0:e.email),f.append("nationality",e==null?void 0:e.nationality),f.append("mobilenumber",e==null?void 0:e.mobilenumber),f.append("updatedBy",w==null?void 0:w._id),e!=null&&e.contractupdation&&f.append("contractupdation",e==null?void 0:e.contractupdation),d&&f.append("passportpdf",d),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?f.append("contractstartdate",e==null?void 0:e.contractstartdate):f.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?f.append("contractenddate",e==null?void 0:e.contractenddate):f.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?f.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):f.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?f.append("contractvalue",e==null?void 0:e.contractvalue):f.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?f.append("rentalamount",e==null?void 0:e.rentalamount):f.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?f.append("securitydepositamount",e==null?void 0:e.securitydepositamount):f.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?f.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):f.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?f.append("commission",e==null?void 0:e.commission):f.append("commission",""),e!=null&&e.ejari_certificate_doc&&f.append("ejari_certificate_doc",e.ejari_certificate_doc?e.ejari_certificate_doc:oe),e!=null&&e.tenancy_contract_doc&&f.append("tenancy_contract_doc",e.tenancy_contract_doc?e.tenancy_contract_doc:D),e!=null&&e.addendum_doc&&f.append("addendum_doc",e.addendum_doc?e.addendum_doc:ee),e!=null&&e.key_receipt_doc&&f.append("key_receipt_doc",e.key_receipt_doc?e.key_receipt_doc:ae),e!=null&&e.chequeDetails&&(console.log("$$@@@@$$$$",e==null?void 0:e.chequeDetails),e.chequeDetails.map((v,m)=>(console.log("!!!!!!!!!!!!",v),v.chequeimage==""?f.append("chequeDetailsImages",v.chequeimage[m]?v.chequeimage[m]:v.chequeimage):f.append("chequeDetailsImages",v.chequeimage)))),f.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),n=await nt(f),console.log("======>",n),M("/all-tenantcontract"),n.data.status===!0?(H.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{M("/all-tenantcontract")},500)):j(!1)}catch(d){console.log(d,"error"),H.error(`${n.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),j(!1)}}}catch(d){console.log("catch error update tenant",d),j(!1)}};return p(k,{children:[o(tn,{}),o(nn,{title:"tenant contract Form",children:o("div",{children:p("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[o("div",{className:"w-[100%] col-span-3",children:o("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"})}),p("div",{className:"w-[100%] col-span-3",children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"}),o(ce,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Pe,value:Pe.filter(function(l){return l.value===(e==null?void 0:e.propertyid)}),onChange:l=>{y({...e,propertyid:l==null?void 0:l.value})},styles:re,id:"hh",placeholder:"Select and Search property"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Le})]}),o(k,{children:e!=null&&e.propertyid?o(k,{children:o("div",{className:"w-[100%] col-span-3",children:p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Unit number"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Community Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Project Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Building Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})]})})}):null}),o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})}),o("div",{className:"w-[100%] col-span-3",children:o("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"})}),p("div",{className:"w-[100%] col-span-3",children:[o("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:pt.map(l=>o(on,{label:l.label,name:"color",value:l.value,checked:(e==null?void 0:e.customertype)===l.value,onChange:ct}))}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Re}),o("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?p(k,{children:[p("div",{className:"w-[100%] col-span-3",children:[o("div",{children:z!=null&&z.length?p(k,{children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"}),o(ce,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:z,value:z==null?void 0:z.filter(function(l){return l.value===(e==null?void 0:e.customerid)}),onChange:l=>{y({...e,customerid:l==null?void 0:l.value})},styles:re,id:"hh"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:te&&"Customer details are required"})]}):null}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ct})]}),o(k,{children:e!=null&&e.customerid?p(k,{children:[p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Tenant Name"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Email"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Mobile Number"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Passport no"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Nationality"}),p("div",{className:"relative ",children:[o("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"}),o("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[o("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"}),Ae!==""?o("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()})}):o(E,{name:"basic",selectedFile:I,onChange:Te})]})]}):null})]}):(e==null?void 0:e.customertype)==="New Tenant"?p(k,{children:[p("div",{children:[o(P,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Je})]}),p("div",{children:[o(P,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:te})]}),p("div",{children:[o(P,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Me})]}),p("div",{children:[o(P,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ft})]}),p("div",{children:[o("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"}),o(ce,{className:"react-select",classNamePrefix:"select",name:"nationality",value:pe.getAllCountries().filter(function(l){return l.name===(e==null?void 0:e.nationality)}),options:pe.getAllCountries(),styles:re,id:"hh",getOptionLabel:l=>l.name,getOptionValue:l=>l.name,onChange:l=>{De(l==null?void 0:l.name),C({target:{name:"nationality",value:l.name}})}}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:He})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"}),Ae!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:st})]}):o(E,{name:"basic",selectedFile:I,onChange:Te})]})]}):null})]}),o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})}),p("div",{className:"w-[100%] col-span-3",children:[p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"}),o(ne,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:l=>{C({target:{name:"contractexecutiondate",value:l[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"}),o(ne,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:l=>{C({target:{name:"contractstartdate",value:l[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Pt})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"}),o(ne,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:l=>{C({target:{name:"contractenddate",value:l[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:At})]}),o(k,{}),p("div",{children:[o(P,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$t})]}),p("div",{children:[o(P,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:S,onChange:C}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ot})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"}),Ne!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:mt})]}):o(E,{name:"basic",selectedFile:oe,onChange:rt}),!Ne&&me&&o("p",{style:{color:"red",fontSize:10},children:me})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"}),et!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:ht})]}):o(E,{name:"basic",selectedFile:D,onChange:ft}),!D&&he&&o("p",{style:{color:"red",fontSize:10},children:he})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"}),tt!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:yt})]}):o(E,{name:"basic",selectedFile:ee,onChange:ut}),!ee&&ye&&o("p",{style:{color:"red",fontSize:10},children:ye})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"}),Se!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:vt})]}):o(E,{name:"basic",selectedFile:ae,onChange:bt}),!Se&&ve&&o("p",{style:{color:"red",fontSize:10},children:ve})]}),o(k,{}),p("div",{children:[o(P,{label:"no. of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:S,onInput:l=>{l.target.value>15?(le("No. of cheques must be less than 16"),setTimeout(()=>{le("")},3e3),y({...e,noofchequeorinstallment:15})):(le(""),y({...e,noofchequeorinstallment:l.target.value}))}}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gt})]}),o(k,{})]}),x>0&&o(k,{children:Array.from({length:x},(l,a)=>{var n,d,i,s,b,_,r,f,v,m;return p("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[p("div",{children:[o(P,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${a}`,value:((d=(n=e==null?void 0:e.chequeDetails)==null?void 0:n[a])==null?void 0:d.chequenumbe)||"",register:S,onChange:h=>_t(h,a)}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:jt[a]})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"}),o(ne,{className:"form-control py-2",name:"chequedate",value:((s=(i=e==null?void 0:e.chequeDetails)==null?void 0:i[a])==null?void 0:s.chequedate)||"",onChange:h=>Nt(h,a),id:"default-picker",placeholder:"Select cheque date"}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:zt[a]})]}),p("div",{children:[o(P,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${a}`,value:((_=(b=e==null?void 0:e.chequeDetails)==null?void 0:b[a])==null?void 0:_.totalamount)||"",register:S,onChange:h=>kt(h,a)}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Tt[a]})]}),p("div",{children:[o("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"}),((r=N==null?void 0:N[a])==null?void 0:r.chequeimage)!==""&&Q.pathname===`/update-tenantcontract/${q}`&&((f=N==null?void 0:N[a])==null?void 0:f.chequeimage)!==void 0?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[o("a",{target:"_blank",href:`http://portals.rarehomesgroup.com/${(v=N==null?void 0:N[a])==null?void 0:v.chequeimage}`,children:decodeURIComponent((m=N==null?void 0:N[a])==null?void 0:m.chequeimage).split("/").pop()}),o("img",{src:J,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>gt(a)})]}):o(E,{name:`chequeimage-${a}`,selectedFile:Ve[a],onChange:qt.bind(null,[a])}),o("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Et[a]})]}),x>1&&a!==x-1&&o("div",{className:"w-[100%] col-span-3",children:o("div",{className:"borderBottom"})})]},a+1)})})]}),p("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[o("div",{className:`"ltr:text-right rtl:text-left " ${A===!0?"cursor-not-allowed	":""}`,children:A===!0?o("div",{className:` ${A===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"}):o(an,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"})}),Q.pathname===`/update-tenantcontract/${q}`?o("div",{className:"ltr:text-right rtl:text-left",children:o("div",{className:`${A?"opacity-[0.7]":""}`,children:o("button",{disabled:A,className:"btn btn-dark  text-center",onClick:Jt,type:"button",children:"Update"})})}):o("div",{className:"ltr:text-right rtl:text-left",children:o("div",{className:`${A?"opacity-[0.7]":""}`,children:o("button",{disabled:A,className:"btn btn-dark  text-center",onClick:Rt,type:"button",children:"Submit"})})}),A===!0?o("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:o("div",{className:"loader-spiner"})}):null]})]})})})]})};export{gn as default};
