import{v as y,w as v,r as i,x as w,y as S,j as e,k as E,H as C,J as q,Q as d}from"./index.9856c5ae.js";var a="D:\\srp\\Rare_Frontend\\src\\pages\\auth\\common\\forgot-pass.jsx";const O=y({email:v().email("Invalid email").required("Email is Required"),password:v().required("Password is Required")}).required(),P=()=>{const[r,N]=i.exports.useState(""),f=t=>{const{name:o,value:l}=t.target;N({...r,[o]:l})},[g,m]=i.exports.useState(""),[u,s]=i.exports.useState(!1),[p,n]=i.exports.useState(""),[b,c]=i.exports.useState(""),{register:h,formState:{errors:x},handleSubmit:j}=w({resolver:S(O)}),k=async()=>{var t,o;if(!(r!=null&&r.email))m("Email is required");else if(!C.isEmail(r.email))m("Email is invalid");else{m("");try{s(!0);let l=await q.post("http://dev-rare.srp.ai/users/forgetpassword",{email:r==null?void 0:r.email});((t=l==null?void 0:l.data)==null?void 0:t.message)==="Verified krwa le"?(d.success("Email Send success fully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n("Email Send success fully please check your mail"),c(""),s(!1)):((o=l==null?void 0:l.data)==null?void 0:o.message)==="user nhi mila"&&(d.error("Invalid email",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n(""),c("Invalid email"),s(!1))}catch{console.log("catch me araha hai?"),d.error("Something went wrong",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n(""),c("Something went wrong try later"),s(!1)}}};return e("form",{className:"space-y-4 ",children:[e(E,{name:"email",label:"email",type:"email",register:h,error:x.email,placeholder:"Enter your email",value:r.email||"",onChange:f},void 0,!1,{fileName:a,lineNumber:101,columnNumber:7},void 0),e("div",{className:" mt-2 text-danger-500 block text-sm",children:g},void 0,!1,{fileName:a,lineNumber:112,columnNumber:7},void 0),e("div",{className:"relative",children:[e("div",{className:"ltr:text-right rtl:text-left",children:e("div",{className:`${u===!0?"opacity-[0.7]":""}`,children:e("button",{type:"button",onClick:k,className:"btn btn-dark block w-full text-center",children:"Send recovery email"},void 0,!1,{fileName:a,lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:a,lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:a,lineNumber:116,columnNumber:9},void 0),u===!0?e("div",{className:" absolute top-[0] w-[100%] black-bg flex justify-center h-[47px] button-style items-center",children:e("div",{className:"loader-spiner"},void 0,!1,{fileName:a,lineNumber:126,columnNumber:15},void 0)},void 0,!1,{fileName:a,lineNumber:125,columnNumber:13},void 0):null]},void 0,!0,{fileName:a,lineNumber:115,columnNumber:7},void 0),e("div",{className:" mt-2 text-black-500 block text-[18px]",children:p},void 0,!1,{fileName:a,lineNumber:130,columnNumber:7},void 0),e("div",{className:" mt-2 text-danger-500 block text-[18px]",children:b},void 0,!1,{fileName:a,lineNumber:133,columnNumber:7},void 0)]},void 0,!0,{fileName:a,lineNumber:100,columnNumber:5},void 0)};export{P as F};
