import{bU as A,z as N,ad as j,r as o,v as O,w as q,x as w,b as r,F,j as t,s as S,C as $,T as g,y as E,H as v,Q as f}from"./index.5e55c1ba.js";const D=()=>{const{id:n}=A(),c=N(),d=j(),[e,m]=o.exports.useState(""),u=i=>{const{name:s,value:a}=i.target;m({...e,[s]:a})};o.exports.useEffect(()=>{(async()=>{if(n){const a=await(await fetch(`http://dev-rare.srp.ai/amenities/${n}`)).json();a&&m(a)}})()},[n]);const[l,b]=o.exports.useState("");let x={amenitiesname:"Amenities Name"};const y=O({amenitiesname:q().required(l)}).required(),{register:h,formState:{errors:T}}=w({resolver:E(y)}),p=()=>{let i=!1,s={amenitiesname:b};return s&&Object.keys(s).length&&Object.keys(s).map(a=>{s[a](""),e[a]||(s[a](x[a]+" is required"),i=!0)}),i},C=async()=>{e.amenitiesname?(await v.post("http://dev-rare.srp.ai/amenities",e),f.success(`${e.amenitiesname} created successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{c("/all-amenities")},1500)):p()},k=async i=>{i.preventDefault(),e.amenitiesname?(await v.patch("http://dev-rare.srp.ai/amenities",e),f.success(`${e.amenitiesname} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{c("/all-amenities")},1500)):p()};return r(F,{children:[t(S,{}),t($,{title:"Amenities Form",children:t("div",{children:r("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[r("div",{children:[t(g,{name:"amenitiesname",label:"Amenities name",type:"text",placeholder:"Enter Amenities name",register:h,error:l,value:e.amenitiesname||"",onChange:u}),t("div",{className:" mt-2 text-danger-500 block text-sm",children:l})]}),t(g,{name:"amenitiescode",label:"Amenities code",type:"text",register:h,placeholder:"Enter Amenities code",value:e.amenitiescode||"",onChange:u}),r("div",{className:"lg:col-span-2 col-span-1",children:[d.pathname===`/update-amenities/${n}`?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:k,type:"button",children:"Update"})}):null,d.pathname==="/add-amenities"?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:C,type:"button",children:"Submit"})}):null]})]})})})]})};export{D as default};
