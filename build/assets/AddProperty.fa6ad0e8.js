import{bu as qn,r as h,E as Hn,ag as Jn,bX as Wn,bZ as Yn,b_ as Gn,M as Qn,y as Kn,z as Y,A as Xn,c as f,F as le,j as l,v as Zn,f as Dn,aq as E,m as S,al as de,ao as ae,bQ as G,aC as eo,bP as no,B as oo,b$ as T,bR as dn,Q as V}from"./index.5707be80.js";const B={option:(F,e)=>({...F,fontSize:"14px"})},yo=()=>{var on,tn,pn,ln;const{id:F}=qn();h.exports.useState();const[e,x]=h.exports.useState(""),q=Hn(),Q=Jn(),u=t=>{const{name:i,value:c}=t.target;x({...e,[i]:c})},{data:re}=Wn(),[H,an]=h.exports.useState(!1);h.exports.useEffect(()=>{if(re){const t=re.some(i=>{const c=i.unitnumber===e.unitnumber,y=i.communityid===e.communityid,w=i.projectnameid===e.projectnameid,b=i._id!==e._id,j=(e==null?void 0:e.owner_changed)===void 0||(i==null?void 0:i.owner_changed)===void 0||(e==null?void 0:e.owner_changed)===!1&&(i==null?void 0:i.owner_changed)===!1,_=e.buildingid===void 0||i.buildingid===e.buildingid;return c&&y&&w&&b&&_&&j});an(t)}},[re,e==null?void 0:e.unitnumber,e==null?void 0:e.communityid,e==null?void 0:e.projectnameid,e==null?void 0:e._id,e==null?void 0:e.buildingid,e.owner_changed]);const[K]=Yn(),[X]=Gn(),Ne=[{value:"Residential",label:"Residential"},{value:"Commercial",label:"Commercial"}],_e=[{value:"Residential- Apartment",label:"Residential- Apartment"},{value:"Bungalow",label:"Bungalow"},{value:"Townhouse",label:"Townhouse"},{value:"Villa",label:"Villa"}],ke=[{value:"Commercial-Retail",label:"Commercial-Retail"},{value:"Shop",label:"Shop"},{value:"Office",label:"Office"}],xe=[{value:"off plan",label:"off plan"},{value:"completed",label:"completed"}],je=[{value:"Purchased",label:"Purchased"},{value:"Granted",label:"Granted"}],Pe=[{value:"with balcony",label:"with balcony"},{value:"with D. balcony",label:"with D. balcony"},{value:"with small balcony",label:"with small balcony"},{value:"without balcony",label:"without balcony"}],Oe=[{value:"fully furnished",label:"fully furnished"},{value:"semi furnished",label:"semi furnished"},{value:"furnished",label:"furnished"},{value:"unfurnished",label:"unfurnished"}],Ce=[{value:"fully equipped",label:"fully equipped"},{value:"semi-equipped",label:"semi-equipped"},{value:"unequipped",label:"unequipped"}],Se=[{value:"Short-term",label:"Short-term"},{value:"Long-term",label:"Long-term"}],Fe=[{value:"sq. ft",label:"sq. ft"},{value:"sq. yd",label:"sq. yd"},{value:"sq. m",label:"sq. m"}],[Ae,rn]=h.exports.useState([]);h.exports.useEffect(()=>{fetch("http://portals.rarehomesgroup.com/community").then(t=>t.json()).then(t=>{const i=t==null?void 0:t.map(c=>({label:c.communityname,value:c._id}));rn(i)})},[]);const[ze,mn]=h.exports.useState([]);h.exports.useEffect(()=>{e!=null&&e.communityid&&(async()=>await fetch(`http://portals.rarehomesgroup.com/projectname/api/community?communityid=${e==null?void 0:e.communityid}`).then(i=>i.json()).then(i=>{const c=i==null?void 0:i.map(y=>({label:y.projectName,value:y._id}));mn(c)}))()},[e==null?void 0:e.communityid]);const[Ee,cn]=h.exports.useState([]);h.exports.useEffect(()=>{e!=null&&e.projectnameid&&(async()=>await fetch(`http://portals.rarehomesgroup.com/buildingname/api/projectname?projectnameid=${e==null?void 0:e.projectnameid}`).then(i=>i.json()).then(i=>{const c=i==null?void 0:i.map(y=>({label:y.buildingname,value:y._id}));cn(c)}))()},[e==null?void 0:e.projectnameid]);const[Be,sn]=h.exports.useState([]);h.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/subtype").then(i=>i.json()).then(i=>{const c=i==null?void 0:i.map(y=>({label:y.subtypename,value:y._id}));sn(c)})})()},[]);const[to,hn]=h.exports.useState([]);h.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/developer").then(i=>i.json()).then(i=>{const c=i==null?void 0:i.map(y=>({label:y.developername,value:y._id}));hn(c)})})()},[]);const[Z,vn]=h.exports.useState([]);h.exports.useEffect(()=>{(async()=>{await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&type=customer&page=0&perPage=all").then(i=>i.json()).then(i=>{var y;const c=(y=i==null?void 0:i.users)==null?void 0:y.map(w=>({label:w.firstname+" "+w.lastname+" | "+w.email,value:w._id}));vn(c)})})()},[]);const[Te,me]=h.exports.useState(!1),[po,ce]=h.exports.useState("");h.exports.useEffect(()=>{e!=null&&e.youtubelink?Qn.isURL(e==null?void 0:e.youtubelink)?(ce("Is Valid URL"),me(!1)):(ce("Is Not Valid URL"),me(!0)):(ce("Is Valid URL"),me(!1))},[e==null?void 0:e.youtubelink]);const[fn,yn]=h.exports.useState("");h.exports.useEffect(()=>{let t=e==null?void 0:e.youtubelink,i=t==null?void 0:t.replace("watch?v=","embed/");yn(i)},[e==null?void 0:e.youtubelink]);const[U,Ie]=h.exports.useState([]),[se,Ue]=h.exports.useState(""),un=t=>{const i=t.target.files,c=Array.from(i).map(b=>b),y=5*1024*1024,w=c.filter(b=>b.size>y);if(w.length>0)Ue(`The following images are too large: ${w.map(b=>b.name).join(", ")}. Maximum file size is 5MB.`);else{let j=U.concat(...c);Ie(j),Ue("")}},bn=t=>{Ie([...U.filter(c=>c!==t)]);for(var i=0;i<U.length;i++)U[i]===t&&U.splice(i,1)},gn=t=>{x({...e,propertyimages:e==null?void 0:e.propertyimages.filter(c=>c!==t)});for(var i=0;i<(e==null?void 0:e.propertyimages.length);i++)(e==null?void 0:e.propertyimages[i])===t&&(e==null||e.propertyimages.splice(i,1))},[D,io]=h.exports.useState([]),[$e,lo]=h.exports.useState(""),wn=t=>{x({...e,floorplan:e==null?void 0:e.floorplan.filter(c=>c!==t)});for(var i=0;i<(e==null?void 0:e.floorplan.length);i++)(e==null?void 0:e.floorplan[i])===t&&(e==null||e.floorplan.splice(i,1))},[ee,ao]=h.exports.useState([]),[Me,ro]=h.exports.useState(""),[ne,mo]=h.exports.useState([]),[Le,co]=h.exports.useState(""),[oe,so]=h.exports.useState([]),[Re,ho]=h.exports.useState(""),[$,he]=h.exports.useState([]),[ve,Ve]=h.exports.useState(""),Nn=t=>{const i=t.target.files,c=Array.from(i).map(b=>b),y=5*1024*1024,w=c.filter(b=>b.size>y);if(w.length>0)Ve(`The following image are too large: ${w.map(b=>b.name).join(", ")}. Maximum file size is 1MB.`),he([]);else{let j=$.concat(...c);he(j),Ve("")}},_n=t=>{he([...$.filter(c=>c!==t)]);for(var i=0;i<$.length;i++)$[i]===t&&$.splice(i,1)},kn=t=>{x({...e,unitplanattachment:e==null?void 0:e.unitplanattachment.filter(c=>c!==t)});for(var i=0;i<(e==null?void 0:e.unitplanattachment.length);i++)(e==null?void 0:e.unitplanattachment[i])===t&&(e==null||e.unitplanattachment.splice(i,1))},[M,fe]=h.exports.useState([]),[ye,qe]=h.exports.useState(""),xn=t=>{const i=t.target.files,c=Array.from(i).map(b=>b),y=5*1024*1024,w=c.filter(b=>b.size>y);if(w.length>0)qe(`The following image are too large: ${w.map(b=>b.name).join(", ")}. Maximum file size is 1MB.`),fe([]);else{let j=M.concat(...c);fe(j),qe("")}},jn=t=>{fe([...M.filter(c=>c!==t)]);for(var i=0;i<M.length;i++)M[i]===t&&M.splice(i,1)},Pn=t=>{x({...e,plotplanattachment:e==null?void 0:e.plotplanattachment.filter(c=>c!==t)});for(var i=0;i<(e==null?void 0:e.plotplanattachment.length);i++)(e==null?void 0:e.plotplanattachment[i])===t&&(e==null||e.plotplanattachment.splice(i,1))},[On,He]=h.exports.useState(""),[Je,Cn]=h.exports.useState(null),[ue,Sn]=h.exports.useState(!1),Fn=t=>{Cn(t.target.files[0]),x({...e,titledeeddocument:t.target.files[0]})};h.exports.useEffect(()=>{F&&He((e==null?void 0:e.titledeeddocument)&&(e==null?void 0:e.titledeeddocument)!==void 0?e==null?void 0:e.titledeeddocument:"")},[F,e==null?void 0:e.titledeeddocument]);const An=()=>{x({...e,titledeeddocument:""}),He("")},[be,te]=h.exports.useState(""),[We,pe]=h.exports.useState(""),[Ye,ie]=h.exports.useState(""),[zn,J]=h.exports.useState(""),[Ge,En]=h.exports.useState(""),[Qe,Bn]=h.exports.useState(""),Tn=Kn({unitnumber:Y().required(be),communityname:Y().required(We),projectname:Y().required(Ye),propertytype:Y().required(Ge),usage:Y().required(Qe)}).required(),[L,In]=h.exports.useState("");h.exports.useEffect(()=>{(async()=>{if(F){const c=await(await fetch(`http://portals.rarehomesgroup.com/property/${F}`)).json();c&&(x({...c,purchase_date:new Date(c==null?void 0:c.purchasedate)}),c!=null&&c.customerid&&(In(c==null?void 0:c.customerid),Sn(!0)))}})()},[F]),h.exports.useEffect(()=>{(async()=>{try{const i=await no.getAllCountries();let c=[];c=i==null?void 0:i.map(({isoCode:y,name:w})=>({isoCode:y,name:w}))}catch(i){console.log(i)}})()},[]);const{register:C,formState:{errors:vo}}=Xn({resolver:oo(Tn)});let Un={unitnumber:"Unit number",communityname:"Community Name",projectname:"Project Name",propertytype:"Property Type",usage:"Property Usage"};const[ge,I]=h.exports.useState(!1),[we,Ke]=h.exports.useState(!1),[Xe,Ze]=h.exports.useState(!1),[De,en]=h.exports.useState(0);h.exports.useEffect(()=>{parseFloat(e==null?void 0:e.no_ownernamedeed)?en(parseFloat(e==null?void 0:e.no_ownernamedeed)):en(0)},[e==null?void 0:e.no_ownernamedeed]);const $n=(t,i)=>{let c=[];t.target,e.OwnerNameAsPerDeed&&Array.isArray(e.OwnerNameAsPerDeed)&&(c=[...e.OwnerNameAsPerDeed]);const y=c[i]||{};c[i]={...y,ownernameasperdeed:t.target.value};const w={...e,OwnerNameAsPerDeed:c};x(w)};h.exports.useEffect(()=>{if((e==null?void 0:e.nobathroom)||(e==null?void 0:e.halfbathroom)){let t=0;e!=null&&e.halfbathroom&&(t=parseFloat(e==null?void 0:e.halfbathroom)/2);let i=(e!=null&&e.nobathroom?parseFloat(e==null?void 0:e.nobathroom):0)+t;x({...e,totalbathroom:i})}else x({...e,totalbathroom:0})},[e==null?void 0:e.nobathroom,e==null?void 0:e.halfbathroom]);const Mn=()=>{Q.pathname===`/update-property/${F}`&&we===!0?Ze(!0):Ze(!1)};h.exports.useEffect(()=>{H===!0?(te("Property already exists"),pe("Property already exists"),ie("Property already exists"),e!=null&&e.buildingid?J("Property already exists"):J("")):(te(""),pe(""),ie(""),J(""))},[H,e==null?void 0:e.buildingid]);const nn=()=>{let t=!1,i={unitnumber:te,communityname:pe,projectname:ie,propertytype:En,usage:Bn};return i&&Object.keys(i).length&&Object.keys(i).map(c=>{i[c](""),e[c]||(i[c](Un[c]+" is required"),t=!0),H===!0&&(te("Property already exists"),pe("Property already exists"),ie("Property already exists"),e!=null&&e.buildingid?J("Property already exists"):J(""),t=!0)}),t},Ln=localStorage.getItem("isAuth"),k=JSON.parse(Ln),Rn=async()=>{var t,i,c,y,w,b;if(!(e!=null&&e.propertytype)||!(e!=null&&e.usage)||!e.unitnumber||!e.communityid||!e.projectnameid||H===!0)nn();else if(H!==!0){if(!(se||$e||Me||Le||Re||ve||ye)){console.log("userData",e);try{I(!0);let j=[];U.length&&j.push(T(U,"propertyimages")),D.length&&j.push(T(D,"floorimages")),ee.length&&j.push(T(ee,"typicalFloorPlan")),ne.length&&j.push(T(ne,"buildingelevation")),oe.length&&j.push(T(oe,"amenitiesimages")),$.length&&j.push(T($,"unitplanattachment")),M.length&&j.push(T(M,"plotplanattachment"));let _=(e==null?void 0:e.titledeeddocument)!==void 0?e==null?void 0:e.titledeeddocument:"";_!==null&&_!==""&&_!==void 0&&_!=="undefined"&&(_=await dn(_,"titledeeddocument"),_=_.data.files[0]);let N=await Promise.all(j);const s=new FormData;if(N.length){let o=[];for(let m=0;m<N.length;m++){let n=N[m].data.files;o.push(n)}let r=[];for(let m of o)for(let n of m){let v=n;r.push(v)}let p=[],d=[],a=[],g=[],P=[],O=[],A=[];for(let m of r)if(m!=null&&m.includes("propertyimages")){let n=m;p.push(n)}else if(m!=null&&m.includes("floorimages")){let n=m;d.push(n)}else if(m!=null&&m.includes("typicalFloorPlan")){let n=m;a.push(n)}else if(m!=null&&m.includes("buildingelevation")){let n=m;g.push(n)}else if(m!=null&&m.includes("amenitiesimages")){let n=m;P.push(n)}else if(m!=null&&m.includes("unitplanattachment")){let n=m;O.push(n)}else if(m!=null&&m.includes("plotplanattachment")){let n=m;A.push(n)}if(s.append("usage",e.usage===void 0?"":e.usage),s.append("propertytype",e.propertytype===void 0?"":e.propertytype),s.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),s.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),s.append("projectname",e.projectname===void 0?"":e.projectname),s.append("buildingname",e.buildingname===void 0?"":e.buildingname),s.append("subtype",e.subtype===void 0?"":e.subtype),s.append("typelayout",e.typelayout===void 0?"":e.typelayout),s.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),s.append("floor",e.floor===void 0?"":e.floor),s.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),s.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),s.append("sizearea",e.sizearea===void 0?"":e.sizearea),s.append("plotsize",e.plotsize===void 0?"":e.plotsize),s.append("builduparea",e.builduparea===void 0?"":e.builduparea),s.append("measure_units",e.measure_units===void 0?"":e.measure_units),s.append("communityname",e.communityname===void 0?"":e.communityname),s.append("develpoername",e.develpoername===void 0?"":e.develpoername),s.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),s.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),s.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),s.append("propertycity",e.propertycity===void 0?"":e.propertycity),s.append("furnished",e.furnished===void 0?"":e.furnished),s.append("propertyType",e.propertyType===void 0?"":e.propertyType),s.append("kitchen",e.kitchen===void 0?"":e.kitchen),s.append("noparking",e.noparking===void 0?"":e.noparking),s.append("balcony",e.balcony===void 0?"":e.balcony),s.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),s.append("district",e.district===void 0?"":e.district),s.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),s.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),s.append("propertyview",e.propertyview===void 0?"":e.propertyview),s.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),s.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),s.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),s.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),s.append("communityid",e.communityid===void 0?"":e.communityid),s.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),s.append("createdBy",k==null?void 0:k._id),s.append("totalbathroom",e.totalbathroom),s.append("totalbedroom",e.totalbedroom),e.owner_representative_id&&s.append("owner_representative_id",e.owner_representative_id),s.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),e.maidroom&&s.append("maidroom",e.maidroom),e.driverroom&&s.append("driverroom",e.driverroom),e.storeroom&&s.append("storeroom",e.storeroom),e.otherroom&&s.append("otherroom",e.otherroom),e.buildingid&&s.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&s.append("subtypeid",e.subtypeid),e.developerid&&s.append("developerid",e.developerid===void 0?"":e.developerid),e.customerid&&(s.append("customerid",e.customerid===void 0?"":e.customerid),s.append("customername",e.customername===void 0?"":e.customername)),s.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),p.length)for(let m=0;m<p.length;m++)s.append("propertyimages",p[m]);if(d.length)for(let m=0;m<d.length;m++)s.append("floorplan",d[m]);if(a.length)for(let m=0;m<a.length;m++)s.append("typicalfloorplan",a[m]);if(g.length)for(let m=0;m<g.length;m++)s.append("buildingelevation",g[m]);if(P.length)for(let m=0;m<P.length;m++)s.append("amenitiesimages",P[m]);if(O.length)for(let m=0;m<O.length;m++)s.append("unitplanattachment",O[m]);if(A.length)for(let m=0;m<A.length;m++)s.append("plotplanattachment",A[m]);if(_&&s.append("titledeeddocument",_),e!=null&&e.no_ownernamedeed&&s.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const m=[];for(const n of e.OwnerNameAsPerDeed){const R={ownernameasperdeed:(t=n==null?void 0:n.ownernameasperdeed)!=null?t:""};m.push(R)}s.append("OwnerNameAsPerDeed",JSON.stringify(m))}else s.append("OwnerNameAsPerDeed",[]);const z=await K(s);((c=(i=z==null?void 0:z.error)==null?void 0:i.data)==null?void 0:c.message)==="Property already exists"?(V.error("Property already exists",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),I(!1)):(V.success(`${e.unitnumber} created successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!0))}else{const o=new FormData;if(o.append("usage",(e==null?void 0:e.usage)===void 0?"":e==null?void 0:e.usage),o.append("propertytype",(e==null?void 0:e.propertytype)===void 0?"":e==null?void 0:e.propertytype),o.append("projectstatus",(e==null?void 0:e.projectstatus)===void 0?"":e==null?void 0:e.projectstatus),o.append("transactiontype",(e==null?void 0:e.transactiontype)===void 0?"":e==null?void 0:e.transactiontype),o.append("projectname",(e==null?void 0:e.projectname)===void 0?"":e==null?void 0:e.projectname),o.append("buildingname",(e==null?void 0:e.buildingname)===void 0?"":e==null?void 0:e.buildingname),o.append("subtype",(e==null?void 0:e.subtype)===void 0?"":e==null?void 0:e.subtype),o.append("typelayout",(e==null?void 0:e.typelayout)===void 0?"":e==null?void 0:e.typelayout),o.append("tenancystatus",(e==null?void 0:e.tenancystatus)===void 0?"":e==null?void 0:e.tenancystatus),o.append("floor",(e==null?void 0:e.floor)===void 0?"":e==null?void 0:e.floor),o.append("unitnumber",(e==null?void 0:e.unitnumber)===void 0?"":e==null?void 0:e.unitnumber),o.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),o.append("sizearea",(e==null?void 0:e.sizearea)===void 0?"":e==null?void 0:e.sizearea),o.append("plotsize",(e==null?void 0:e.plotsize)===void 0?"":e==null?void 0:e.plotsize),o.append("builduparea",(e==null?void 0:e.builduparea)===void 0?"":e==null?void 0:e.builduparea),o.append("measure_units",(e==null?void 0:e.measure_units)===void 0?"":e==null?void 0:e.measure_units),o.append("communityname",(e==null?void 0:e.communityname)===void 0?"":e==null?void 0:e.communityname),o.append("develpoername",(e==null?void 0:e.develpoername)===void 0?"":e==null?void 0:e.develpoername),o.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),o.append("nobathroom",(e==null?void 0:e.nobathroom)===void 0?"":e==null?void 0:e.nobathroom),o.append("halfbathroom",(e==null?void 0:e.halfbathroom)===void 0?"":e==null?void 0:e.halfbathroom),o.append("propertycountry",(e==null?void 0:e.propertycountry)===void 0?"":e==null?void 0:e.propertycountry),o.append("propertycity",(e==null?void 0:e.propertycity)===void 0?"":e==null?void 0:e.propertycity),o.append("furnished",(e==null?void 0:e.furnished)===void 0?"":e==null?void 0:e.furnished),o.append("propertyType",e.propertyType===void 0?"":e.propertyType),o.append("kitchen",(e==null?void 0:e.kitchen)===void 0?"":e==null?void 0:e.kitchen),o.append("noparking",(e==null?void 0:e.noparking)===void 0?"":e==null?void 0:e.noparking),o.append("balcony",(e==null?void 0:e.balcony)===void 0?"":e==null?void 0:e.balcony),o.append("dewapremises",(e==null?void 0:e.dewapremises)===void 0?"":e==null?void 0:e.dewapremises),o.append("district",(e==null?void 0:e.district)===void 0?"":e==null?void 0:e.district),o.append("youtubelink",(e==null?void 0:e.youtubelink)===void 0?"":e==null?void 0:e.youtubelink),o.append("parkingbay",(e==null?void 0:e.parkingbay)===void 0?"":e==null?void 0:e.parkingbay),o.append("propertyview",(e==null?void 0:e.propertyview)===void 0?"":e==null?void 0:e.propertyview),o.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),o.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),o.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),o.append("communityid",e.communityid===void 0?"":e.communityid),o.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),o.append("totalbathroom",e.totalbathroom),o.append("totalbedroom",e.totalbedroom),o.append("createdBy",k==null?void 0:k._id),e.owner_representative_id&&o.append("owner_representative_id",e.owner_representative_id),o.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),e.maidroom&&o.append("maidroom",e.maidroom),e.driverroom&&o.append("driverroom",e.driverroom),e.storeroom&&o.append("storeroom",e.storeroom),e.otherroom&&o.append("otherroom",e.otherroom),e.buildingid&&o.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&o.append("subtypeid",e.subtypeid),e.developerid&&o.append("developerid",e.developerid===void 0?"":e.developerid),e.customerid&&(o.append("customerid",e.customerid===void 0?"":e.customerid),o.append("customername",e.customername===void 0?"":e.customername)),o.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),_&&o.append("titledeeddocument",_),e!=null&&e.no_ownernamedeed&&o.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const p=[];for(const d of e.OwnerNameAsPerDeed){const g={ownernameasperdeed:(y=d==null?void 0:d.ownernameasperdeed)!=null?y:""};p.push(g)}o.append("OwnerNameAsPerDeed",JSON.stringify(p))}else o.append("OwnerNameAsPerDeed",[]);const r=await K(o);((b=(w=r==null?void 0:r.error)==null?void 0:w.data)==null?void 0:b.message)==="Property already exists"?(V.error("Property already exists",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),I(!1)):(console.log("___________^^^^^^",o),V.success(`${e.unitnumber} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!1))}}catch(j){I(!1),console.log("error",j)}}}},Vn=async t=>{var i,c,y,w,b,j;if(t.preventDefault(),!(e!=null&&e.propertytype)||!(e!=null&&e.usage)||!e.unitnumber||!e.communityid||!e.projectnameid)nn();else if(H!==!0){if(!(se||$e||Me||Le||Re||ve||ye)){I(!0);try{let _=[];U.length&&_.push(T(U,"propertyimages")),D.length&&_.push(T(D,"floorimages")),ee.length&&_.push(T(ee,"typicalFloorPlan")),ne.length&&_.push(T(ne,"buildingelevation")),oe.length&&_.push(T(oe,"amenitiesimages")),$.length&&_.push(T($,"unitplanattachment")),M.length&&_.push(T(M,"plotplanattachment"));let N=e==null?void 0:e.titledeeddocument;N!==null&&N!==""&&N!==void 0&&N!=="undefined"&&typeof N=="object"&&N instanceof File&&(N=await dn(N,"titledeeddocument"),N=N.data.files[0]);let s=await Promise.all(_);const o=new FormData,r=new FormData;if(L!==(e==null?void 0:e.customerid)&&we===!0&&Xe===!0&&ue===!0)if(console.log("onwee change me araha hai images wala?"),s.length){let p=[];for(let n=0;n<s.length;n++){let v=s[n].data.files;p.push(v)}let d=[];for(let n of p)for(let v of n){let R=v;d.push(R)}let a=[],g=[],P=[],O=[],A=[],z=[],m=[];for(let n of d)if(n!=null&&n.includes("propertyimages")){let v=n;a.push(v)}else if(n!=null&&n.includes("floorimages")){let v=n;g.push(v)}else if(n!=null&&n.includes("typicalFloorPlan")){let v=n;P.push(v)}else if(n!=null&&n.includes("buildingelevation")){let v=n;O.push(v)}else if(n!=null&&n.includes("amenitiesimages")){let v=n;A.push(v)}else if(n!=null&&n.includes("unitplanattachment")){let v=n;z.push(v)}else if(n!=null&&n.includes("plotplanattachment")){let v=n;m.push(v)}if(o.append("_id",F),o.append("usage",e.usage===void 0?"":e.usage),o.append("propertytype",e.propertytype===void 0?"":e.propertytype),o.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),o.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),o.append("projectname",e.projectname===void 0?"":e.projectname),o.append("buildingname",e.buildingname===void 0?"":e.buildingname),o.append("subtype",e.subtype===void 0?"":e.subtype),o.append("typelayout",e.typelayout===void 0?"":e.typelayout),o.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),o.append("floor",e.floor===void 0?"":e.floor),o.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),o.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),o.append("sizearea",e.sizearea===void 0?"":e.sizearea),o.append("plotsize",e.plotsize===void 0?"":e.plotsize),o.append("builduparea",e.builduparea===void 0?"":e.builduparea),o.append("measure_units",e.measure_units===void 0?"":e.measure_units),o.append("communityname",e.communityname===void 0?"":e.communityname),o.append("develpoername",e.develpoername===void 0?"":e.develpoername),o.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),o.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),o.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),o.append("propertycity",e.propertycity===void 0?"":e.propertycity),o.append("furnished",e.furnished===void 0?"":e.furnished),o.append("propertyType",e.propertyType===void 0?"":e.propertyType),o.append("kitchen",e.kitchen===void 0?"":e.kitchen),o.append("noparking",e.noparking===void 0?"":e.noparking),o.append("balcony",e.balcony===void 0?"":e.balcony),o.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),o.append("district",e.district===void 0?"":e.district),o.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),o.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),o.append("propertyview",e.propertyview===void 0?"":e.propertyview),o.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),o.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),o.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),o.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),o.append("communityid",e.communityid===void 0?"":e.communityid),o.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),o.append("totalbathroom",e.totalbathroom),o.append("totalbedroom",e.totalbedroom),o.append("updatedBy",k==null?void 0:k._id),e.maidroom&&o.append("maidroom",e.maidroom),e.driverroom&&o.append("driverroom",e.driverroom),e.storeroom&&o.append("storeroom",e.storeroom),e.otherroom&&o.append("otherroom",e.otherroom),e.buildingid&&o.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&o.append("subtypeid",e.subtypeid),e.developerid&&o.append("developerid",e.developerid===void 0?"":e.developerid),e!=null&&e.customerid&&(o.append("customerid",(e==null?void 0:e.customerid)===void 0?"":e==null?void 0:e.customerid),o.append("customername",e.customername===void 0?"":e.customername)),o.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),a!=null&&a.length)for(let n=0;n<a.length;n++)o.append("propertyimages",a[n]);if(g.length)for(let n=0;n<g.length;n++)o.append("floorplan",g[n]);if(P.length)for(let n=0;n<P.length;n++)o.append("typicalfloorplan",P[n]);if(O.length)for(let n=0;n<O.length;n++)o.append("buildingelevation",O[n]);if(A.length)for(let n=0;n<A.length;n++)o.append("amenitiesimages",A[n]);if(z.length)for(let n=0;n<z.length;n++)o.append("unitplanattachment",z[n]);if(m.length)for(let n=0;n<m.length;n++)o.append("plotplanattachment",m[n]);N?o.append("titledeeddocument",N):o.append("titledeeddocument","");for(let n=0;n<(e==null?void 0:e.propertyimages.length);n++)o.append("propertyimages",e==null?void 0:e.propertyimages[n]);for(let n=0;n<(e==null?void 0:e.floorplan.length);n++)o.append("floorplan",e==null?void 0:e.floorplan[n]);for(let n=0;n<(e==null?void 0:e.typicalfloorplan.length);n++)o.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[n]);for(let n=0;n<(e==null?void 0:e.buildingelevation.length);n++)o.append("buildingelevation",e==null?void 0:e.buildingelevation[n]);for(let n=0;n<(e==null?void 0:e.amenitiesimages.length);n++)o.append("amenitiesimages",e==null?void 0:e.amenitiesimages[n]);for(let n=0;n<(e==null?void 0:e.unitplanattachment.length);n++)o.append("unitplanattachment",e==null?void 0:e.unitplanattachment[n]);for(let n=0;n<(e==null?void 0:e.plotplanattachment.length);n++)o.append("plotplanattachment",e==null?void 0:e.plotplanattachment[n]);if(e!=null&&e.no_ownernamedeed?o.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):o.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const n=[];for(const v of e.OwnerNameAsPerDeed){const W={ownernameasperdeed:(i=v==null?void 0:v.ownernameasperdeed)!=null?i:""};n.push(W)}o.append("OwnerNameAsPerDeed",JSON.stringify(n))}else o.append("OwnerNameAsPerDeed",[]);if(r.append("_id",F),r.append("usage",e.usage===void 0?"":e.usage),r.append("propertytype",e.propertytype===void 0?"":e.propertytype),r.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),r.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),r.append("projectname",e.projectname===void 0?"":e.projectname),r.append("buildingname",e.buildingname===void 0?"":e.buildingname),r.append("subtype",e.subtype===void 0?"":e.subtype),r.append("typelayout",e.typelayout===void 0?"":e.typelayout),r.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),r.append("floor",e.floor===void 0?"":e.floor),r.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),r.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),r.append("sizearea",e.sizearea===void 0?"":e.sizearea),r.append("plotsize",e.plotsize===void 0?"":e.plotsize),r.append("builduparea",e.builduparea===void 0?"":e.builduparea),r.append("measure_units",e.measure_units===void 0?"":e.measure_units),r.append("communityname",e.communityname===void 0?"":e.communityname),r.append("develpoername",e.develpoername===void 0?"":e.develpoername),r.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),r.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),r.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),r.append("propertycity",e.propertycity===void 0?"":e.propertycity),r.append("furnished",e.furnished===void 0?"":e.furnished),r.append("kitchen",e.kitchen===void 0?"":e.kitchen),r.append("noparking",e.noparking===void 0?"":e.noparking),r.append("balcony",e.balcony===void 0?"":e.balcony),r.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),r.append("district",e.district===void 0?"":e.district),r.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),r.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),r.append("propertyview",e.propertyview===void 0?"":e.propertyview),r.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),r.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),r.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),r.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),r.append("communityid",e.communityid===void 0?"":e.communityid),r.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),r.append("totalbathroom",e.totalbathroom),r.append("totalbedroom",e.totalbedroom),r.append("createdBy",k==null?void 0:k._id),r.append("owner_changed",!0),e.owner_representative_id&&o.append("owner_representative_id",e.owner_representative_id),o.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),e.maidroom&&r.append("maidroom",e.maidroom),e.driverroom&&r.append("driverroom",e.driverroom),e.storeroom&&r.append("storeroom",e.storeroom),e.otherroom&&r.append("otherroom",e.otherroom),e.buildingid&&r.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&r.append("subtypeid",e.subtypeid),e.developerid&&r.append("developerid",e.developerid===void 0?"":e.developerid),L&&(r.append("customerid",L===void 0?"":L),r.append("customername",e.customername===void 0?"":e.customername)),r.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),a.length)for(let n=0;n<a.length;n++)r.append("propertyimages",a[n]);if(g.length)for(let n=0;n<g.length;n++)r.append("floorplan",g[n]);if(P.length)for(let n=0;n<P.length;n++)r.append("typicalfloorplan",P[n]);if(O.length)for(let n=0;n<O.length;n++)r.append("buildingelevation",O[n]);if(A.length)for(let n=0;n<A.length;n++)r.append("amenitiesimages",A[n]);if(z.length)for(let n=0;n<z.length;n++)r.append("unitplanattachment",z[n]);if(m.length)for(let n=0;n<m.length;n++)r.append("plotplanattachment",m[n]);N?r.append("titledeeddocument",N):r.append("titledeeddocument","");for(let n=0;n<(e==null?void 0:e.propertyimages.length);n++)r.append("propertyimages",e==null?void 0:e.propertyimages[n]);for(let n=0;n<(e==null?void 0:e.floorplan.length);n++)r.append("floorplan",e==null?void 0:e.floorplan[n]);for(let n=0;n<(e==null?void 0:e.typicalfloorplan.length);n++)r.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[n]);for(let n=0;n<(e==null?void 0:e.buildingelevation.length);n++)r.append("buildingelevation",e==null?void 0:e.buildingelevation[n]);for(let n=0;n<(e==null?void 0:e.amenitiesimages.length);n++)r.append("amenitiesimages",e==null?void 0:e.amenitiesimages[n]);for(let n=0;n<(e==null?void 0:e.unitplanattachment.length);n++)r.append("unitplanattachment",e==null?void 0:e.unitplanattachment[n]);for(let n=0;n<(e==null?void 0:e.plotplanattachment.length);n++)r.append("plotplanattachment",e==null?void 0:e.plotplanattachment[n]);if(e!=null&&e.no_ownernamedeed?r.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):r.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const n=[];for(const v of e.OwnerNameAsPerDeed){const W={ownernameasperdeed:(c=v==null?void 0:v.ownernameasperdeed)!=null?c:""};n.push(W)}r.append("OwnerNameAsPerDeed",JSON.stringify(n))}else r.append("OwnerNameAsPerDeed",[]);await X(r),await K(o),V.success(`${e.unitnumber} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!1)}else{console.log("onwee change me araha hai without images wala?");const p=new FormData,d=new FormData;if(p.append("_id",F),p.append("usage",e.usage===void 0?"":e.usage),p.append("propertytype",e.propertytype===void 0?"":e.propertytype),p.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),p.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),p.append("projectname",e.projectname===void 0?"":e.projectname),p.append("buildingname",e.buildingname===void 0?"":e.buildingname),p.append("subtype",e.subtype===void 0?"":e.subtype),p.append("typelayout",e.typelayout===void 0?"":e.typelayout),p.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),p.append("floor",e.floor===void 0?"":e.floor),p.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),p.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),p.append("sizearea",e.sizearea===void 0?"":e.sizearea),p.append("plotsize",e.plotsize===void 0?"":e.plotsize),p.append("builduparea",e.builduparea===void 0?"":e.builduparea),p.append("communityname",e.communityname===void 0?"":e.communityname),p.append("develpoername",e.develpoername===void 0?"":e.develpoername),p.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),p.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),p.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),p.append("propertycity",e.propertycity===void 0?"":e.propertycity),p.append("furnished",e.furnished===void 0?"":e.furnished),p.append("kitchen",e.kitchen===void 0?"":e.kitchen),p.append("noparking",e.noparking===void 0?"":e.noparking),p.append("balcony",e.balcony===void 0?"":e.balcony),p.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),p.append("district",e.district===void 0?"":e.district),p.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),p.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),p.append("propertyview",e.propertyview===void 0?"":e.propertyview),p.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),p.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),p.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),p.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),p.append("communityid",e.communityid===void 0?"":e.communityid),e.owner_representative_id&&p.append("owner_representative_id",e.owner_representative_id),p.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),p.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),p.append("totalbathroom",e.totalbathroom),p.append("totalbedroom",e.totalbedroom),p.append("updatedBy",k==null?void 0:k._id),e.maidroom&&p.append("maidroom",e.maidroom),e.driverroom&&p.append("driverroom",e.driverroom),e.storeroom&&p.append("storeroom",e.storeroom),e.otherroom&&p.append("otherroom",e.otherroom),e.buildingid&&p.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&p.append("subtypeid",e.subtypeid),e.developerid&&p.append("developerid",e.developerid===void 0?"":e.developerid),e!=null&&e.customerid&&(p.append("customerid",(e==null?void 0:e.customerid)===void 0?"":e==null?void 0:e.customerid),p.append("customername",e.customername===void 0?"":e.customername)),p.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),e!=null&&e.propertyimages.length)for(let a=0;a<(e==null?void 0:e.propertyimages.length);a++)p.append("propertyimages",e==null?void 0:e.propertyimages[a]);else p.append("propertyimages",[]);if(e!=null&&e.floorplan.length)for(let a=0;a<(e==null?void 0:e.floorplan.length);a++)p.append("floorplan",e==null?void 0:e.floorplan[a]);else p.append("floorplan",[]);if(e!=null&&e.typicalfloorplan.length)for(let a=0;a<(e==null?void 0:e.typicalfloorplan.length);a++)p.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[a]);else p.append("typicalfloorplan",[]);if(e!=null&&e.buildingelevation.length)for(let a=0;a<(e==null?void 0:e.buildingelevation.length);a++)p.append("buildingelevation",e==null?void 0:e.buildingelevation[a]);else p.append("buildingelevation",[]);if(e!=null&&e.amenitiesimages.length)for(let a=0;a<(e==null?void 0:e.amenitiesimages.length);a++)p.append("amenitiesimages",e==null?void 0:e.amenitiesimages[a]);else p.append("amenitiesimages",[]);if(e!=null&&e.unitplanattachment.length)for(let a=0;a<(e==null?void 0:e.unitplanattachment.length);a++)p.append("unitplanattachment",e==null?void 0:e.unitplanattachment[a]);else p.append("unitplanattachment",[]);if(e!=null&&e.plotplanattachment.length)for(let a=0;a<(e==null?void 0:e.plotplanattachment.length);a++)p.append("plotplanattachment",e==null?void 0:e.plotplanattachment[a]);else p.append("plotplanattachment",[]);if(N?p.append("titledeeddocument",N):p.append("titledeeddocument",""),e!=null&&e.no_ownernamedeed?p.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):p.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const a=[];for(const g of e.OwnerNameAsPerDeed){const O={ownernameasperdeed:(y=g==null?void 0:g.ownernameasperdeed)!=null?y:""};a.push(O)}p.append("OwnerNameAsPerDeed",JSON.stringify(a))}else p.append("OwnerNameAsPerDeed",[]);if(d.append("_id",F),d.append("usage",e.usage===void 0?"":e.usage),d.append("propertytype",e.propertytype===void 0?"":e.propertytype),d.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),d.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),d.append("projectname",e.projectname===void 0?"":e.projectname),d.append("buildingname",e.buildingname===void 0?"":e.buildingname),d.append("subtype",e.subtype===void 0?"":e.subtype),d.append("typelayout",e.typelayout===void 0?"":e.typelayout),d.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),d.append("floor",e.floor===void 0?"":e.floor),d.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),d.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),d.append("sizearea",e.sizearea===void 0?"":e.sizearea),d.append("plotsize",e.plotsize===void 0?"":e.plotsize),d.append("builduparea",e.builduparea===void 0?"":e.builduparea),d.append("communityname",e.communityname===void 0?"":e.communityname),d.append("develpoername",e.develpoername===void 0?"":e.develpoername),d.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),d.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),d.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),d.append("propertycity",e.propertycity===void 0?"":e.propertycity),d.append("furnished",e.furnished===void 0?"":e.furnished),d.append("kitchen",e.kitchen===void 0?"":e.kitchen),d.append("noparking",e.noparking===void 0?"":e.noparking),d.append("balcony",e.balcony===void 0?"":e.balcony),d.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),d.append("district",e.district===void 0?"":e.district),d.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),d.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),d.append("propertyview",e.propertyview===void 0?"":e.propertyview),d.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),d.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),d.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),d.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),d.append("communityid",e.communityid===void 0?"":e.communityid),d.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),d.append("totalbathroom",e.totalbathroom),d.append("totalbedroom",e.totalbedroom),d.append("createdBy",k==null?void 0:k._id),d.append("owner_changed",!0),e.maidroom&&d.append("maidroom",e.maidroom),e.driverroom&&d.append("driverroom",e.driverroom),e.storeroom&&d.append("storeroom",e.storeroom),e.otherroom&&d.append("otherroom",e.otherroom),e.buildingid&&d.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&d.append("subtypeid",e.subtypeid),e.developerid&&d.append("developerid",e.developerid===void 0?"":e.developerid),L&&(d.append("customerid",L===void 0?"":L),d.append("customername",e.customername===void 0?"":e.customername)),d.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),e!=null&&e.propertyimages.length)for(let a=0;a<(e==null?void 0:e.propertyimages.length);a++)d.append("propertyimages",e==null?void 0:e.propertyimages[a]);else d.append("propertyimages",[]);if(e!=null&&e.floorplan.length)for(let a=0;a<(e==null?void 0:e.floorplan.length);a++)d.append("floorplan",e==null?void 0:e.floorplan[a]);else d.append("floorplan",[]);if(e!=null&&e.typicalfloorplan.length)for(let a=0;a<(e==null?void 0:e.typicalfloorplan.length);a++)d.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[a]);else d.append("typicalfloorplan",[]);if(e!=null&&e.buildingelevation.length)for(let a=0;a<(e==null?void 0:e.buildingelevation.length);a++)d.append("buildingelevation",e==null?void 0:e.buildingelevation[a]);else d.append("buildingelevation",[]);if(e!=null&&e.amenitiesimages.length)for(let a=0;a<(e==null?void 0:e.amenitiesimages.length);a++)d.append("amenitiesimages",e==null?void 0:e.amenitiesimages[a]);else d.append("amenitiesimages",[]);if(e!=null&&e.unitplanattachment.length)for(let a=0;a<(e==null?void 0:e.unitplanattachment.length);a++)d.append("unitplanattachment",e==null?void 0:e.unitplanattachment[a]);else d.append("unitplanattachment",[]);if(e!=null&&e.plotplanattachment.length)for(let a=0;a<(e==null?void 0:e.plotplanattachment.length);a++)d.append("plotplanattachment",e==null?void 0:e.plotplanattachment[a]);else d.append("plotplanattachment",[]);if(N?d.append("titledeeddocument",N):d.append("titledeeddocument",""),e!=null&&e.no_ownernamedeed?d.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):d.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const a=[];for(const g of e.OwnerNameAsPerDeed){const O={ownernameasperdeed:(w=g==null?void 0:g.ownernameasperdeed)!=null?w:""};a.push(O)}d.append("OwnerNameAsPerDeed",JSON.stringify(a))}else d.append("OwnerNameAsPerDeed",[]);await X(d),await K(p),V.success(`${e.unitnumber} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!1)}else if(s.length){let p=[];for(let n=0;n<s.length;n++){let v=s[n].data.files;p.push(v)}let d=[];for(let n of p)for(let v of n){let R=v;d.push(R)}let a=[],g=[],P=[],O=[],A=[],z=[],m=[];for(let n of d)if(n!=null&&n.includes("propertyimages")){let v=n;a.push(v)}else if(n!=null&&n.includes("floorimages")){let v=n;g.push(v)}else if(n!=null&&n.includes("typicalFloorPlan")){let v=n;P.push(v)}else if(n!=null&&n.includes("buildingelevation")){let v=n;O.push(v)}else if(n!=null&&n.includes("amenitiesimages")){let v=n;A.push(v)}else if(n!=null&&n.includes("unitplanattachment")){let v=n;z.push(v)}else if(n!=null&&n.includes("plotplanattachment")){let v=n;m.push(v)}if(o.append("_id",F),o.append("usage",e.usage===void 0?"":e.usage),o.append("propertytype",e.propertytype===void 0?"":e.propertytype),o.append("projectstatus",e.projectstatus===void 0?"":e.projectstatus),o.append("transactiontype",e.transactiontype===void 0?"":e.transactiontype),o.append("projectname",e.projectname===void 0?"":e.projectname),o.append("buildingname",e.buildingname===void 0?"":e.buildingname),o.append("subtype",e.subtype===void 0?"":e.subtype),o.append("typelayout",e.typelayout===void 0?"":e.typelayout),o.append("tenancystatus",e.tenancystatus===void 0?"":e.tenancystatus),o.append("floor",e.floor===void 0?"":e.floor),o.append("unitnumber",e.unitnumber===void 0?"":e.unitnumber),o.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),o.append("sizearea",e.sizearea===void 0?"":e.sizearea),o.append("plotsize",e.plotsize===void 0?"":e.plotsize),o.append("builduparea",e.builduparea===void 0?"":e.builduparea),o.append("measure_units",e.measure_units===void 0?"":e.measure_units),o.append("communityname",e.communityname===void 0?"":e.communityname),o.append("develpoername",e.develpoername===void 0?"":e.develpoername),o.append("nobathroom",e.nobathroom===void 0?"":e.nobathroom),o.append("halfbathroom",e.halfbathroom===void 0?"":e.halfbathroom),o.append("propertycountry",e.propertycountry===void 0?"":e.propertycountry),o.append("propertycity",e.propertycity===void 0?"":e.propertycity),o.append("furnished",e.furnished===void 0?"":e.furnished),o.append("kitchen",e.kitchen===void 0?"":e.kitchen),o.append("noparking",e.noparking===void 0?"":e.noparking),o.append("balcony",e.balcony===void 0?"":e.balcony),o.append("dewapremises",e.dewapremises===void 0?"":e.dewapremises),o.append("district",e.district===void 0?"":e.district),o.append("youtubelink",e.youtubelink===void 0?"":e.youtubelink),o.append("parkingbay",e.parkingbay===void 0?"":e.parkingbay),o.append("propertyview",e.propertyview===void 0?"":e.propertyview),o.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),o.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),o.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),o.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),o.append("communityid",e.communityid===void 0?"":e.communityid),o.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),o.append("totalbathroom",e.totalbathroom),o.append("totalbedroom",e.totalbedroom),o.append("updatedBy",k==null?void 0:k._id),e.owner_representative_id&&o.append("owner_representative_id",e.owner_representative_id),o.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),e.maidroom&&o.append("maidroom",e.maidroom),e.driverroom&&o.append("driverroom",e.driverroom),e.storeroom&&o.append("storeroom",e.storeroom),e.otherroom&&o.append("otherroom",e.otherroom),e.buildingid&&o.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&o.append("subtypeid",e.subtypeid),e.developerid&&o.append("developerid",e.developerid===void 0?"":e.developerid),e.customerid&&(o.append("customerid",e.customerid===void 0?"":e.customerid),o.append("customername",e.customername===void 0?"":e.customername)),o.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),a.length)for(let n=0;n<a.length;n++)o.append("propertyimages",a[n]);else o.append("propertyimages",[]);if(g.length)for(let n=0;n<g.length;n++)o.append("floorplan",g[n]);if(P.length)for(let n=0;n<P.length;n++)o.append("typicalfloorplan",P[n]);if(O.length)for(let n=0;n<O.length;n++)o.append("buildingelevation",O[n]);if(A.length)for(let n=0;n<A.length;n++)o.append("amenitiesimages",A[n]);if(z.length)for(let n=0;n<z.length;n++)o.append("unitplanattachment",z[n]);if(m.length)for(let n=0;n<m.length;n++)o.append("plotplanattachment",m[n]);N&&o.append("titledeeddocument",N);for(let n=0;n<(e==null?void 0:e.propertyimages.length);n++)o.append("propertyimages",e==null?void 0:e.propertyimages[n]);for(let n=0;n<(e==null?void 0:e.floorplan.length);n++)o.append("floorplan",e==null?void 0:e.floorplan[n]);for(let n=0;n<(e==null?void 0:e.typicalfloorplan.length);n++)o.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[n]);for(let n=0;n<(e==null?void 0:e.buildingelevation.length);n++)o.append("buildingelevation",e==null?void 0:e.buildingelevation[n]);for(let n=0;n<(e==null?void 0:e.amenitiesimages.length);n++)o.append("amenitiesimages",e==null?void 0:e.amenitiesimages[n]);for(let n=0;n<(e==null?void 0:e.unitplanattachment.length);n++)o.append("unitplanattachment",e==null?void 0:e.unitplanattachment[n]);for(let n=0;n<(e==null?void 0:e.plotplanattachment.length);n++)o.append("plotplanattachment",e==null?void 0:e.plotplanattachment[n]);if(e!=null&&e.no_ownernamedeed?o.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):o.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const n=[];for(const v of e.OwnerNameAsPerDeed){const W={ownernameasperdeed:(b=v==null?void 0:v.ownernameasperdeed)!=null?b:""};n.push(W)}o.append("OwnerNameAsPerDeed",JSON.stringify(n))}else o.append("OwnerNameAsPerDeed",[]);await X(o),V.success(`${e.unitnumber} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!0)}else{const p=new FormData;if(p.append("_id",F),p.append("usage",(e==null?void 0:e.usage)===void 0?"":e==null?void 0:e.usage),p.append("propertytype",(e==null?void 0:e.propertytype)===void 0?"":e==null?void 0:e.propertytype),p.append("projectstatus",(e==null?void 0:e.projectstatus)===void 0?"":e==null?void 0:e.projectstatus),p.append("transactiontype",(e==null?void 0:e.transactiontype)===void 0?"":e==null?void 0:e.transactiontype),p.append("projectname",(e==null?void 0:e.projectname)===void 0?"":e==null?void 0:e.projectname),p.append("buildingname",(e==null?void 0:e.buildingname)===void 0?"":e==null?void 0:e.buildingname),p.append("subtype",(e==null?void 0:e.subtype)===void 0?"":e==null?void 0:e.subtype),p.append("typelayout",(e==null?void 0:e.typelayout)===void 0?"":e==null?void 0:e.typelayout),p.append("tenancystatus",(e==null?void 0:e.tenancystatus)===void 0?"":e==null?void 0:e.tenancystatus),p.append("floor",(e==null?void 0:e.floor)===void 0?"":e==null?void 0:e.floor),p.append("unitnumber",(e==null?void 0:e.unitnumber)===void 0?"":e==null?void 0:e.unitnumber),p.append("streetnumber",(e==null?void 0:e.streetnumber)===void 0?"":e==null?void 0:e.streetnumber),p.append("sizearea",(e==null?void 0:e.sizearea)===void 0?"":e==null?void 0:e.sizearea),p.append("plotsize",(e==null?void 0:e.plotsize)===void 0?"":e==null?void 0:e.plotsize),p.append("builduparea",(e==null?void 0:e.builduparea)===void 0?"":e==null?void 0:e.builduparea),p.append("measure_units",(e==null?void 0:e.measure_units)===void 0?"":e==null?void 0:e.measure_units),p.append("communityname",(e==null?void 0:e.communityname)===void 0?"":e==null?void 0:e.communityname),p.append("develpoername",(e==null?void 0:e.develpoername)===void 0?"":e==null?void 0:e.develpoername),p.append("propertylocation",e.propertylocation===void 0?"":e.propertylocation),p.append("nobathroom",(e==null?void 0:e.nobathroom)===void 0?"":e==null?void 0:e.nobathroom),p.append("halfbathroom",(e==null?void 0:e.halfbathroom)===void 0?"":e==null?void 0:e.halfbathroom),p.append("propertycountry",(e==null?void 0:e.propertycountry)===void 0?"":e==null?void 0:e.propertycountry),p.append("propertycity",(e==null?void 0:e.propertycity)===void 0?"":e==null?void 0:e.propertycity),p.append("furnished",(e==null?void 0:e.furnished)===void 0?"":e==null?void 0:e.furnished),p.append("kitchen",(e==null?void 0:e.kitchen)===void 0?"":e==null?void 0:e.kitchen),p.append("noparking",(e==null?void 0:e.noparking)===void 0?"":e==null?void 0:e.noparking),p.append("balcony",(e==null?void 0:e.balcony)===void 0?"":e==null?void 0:e.balcony),p.append("dewapremises",(e==null?void 0:e.dewapremises)===void 0?"":e==null?void 0:e.dewapremises),p.append("district",(e==null?void 0:e.district)===void 0?"":e==null?void 0:e.district),p.append("youtubelink",(e==null?void 0:e.youtubelink)===void 0?"":e==null?void 0:e.youtubelink),p.append("parkingbay",(e==null?void 0:e.parkingbay)===void 0?"":e==null?void 0:e.parkingbay),p.append("propertyview",(e==null?void 0:e.propertyview)===void 0?"":e==null?void 0:e.propertyview),p.append("ownerassociation",e.ownerassociation===void 0?"":e.ownerassociation),p.append("ownernamedeed",e.ownernamedeed===void 0?"":e.ownernamedeed),p.append("purchasevaue",e.purchasevaue===void 0?"":e.purchasevaue),p.append("communityid",e.communityid===void 0?"":e.communityid),p.append("projectnameid",e.projectnameid===void 0?"":e.projectnameid),p.append("totalbathroom",e.totalbathroom),p.append("totalbedroom",e.totalbedroom),p.append("updatedBy",k==null?void 0:k._id),e.owner_representative_id&&p.append("owner_representative_id",e.owner_representative_id),p.append("owner_representative_name",e.owner_representative_name===void 0?"":e.owner_representative_name),e.maidroom&&p.append("maidroom",e.maidroom),e.driverroom&&p.append("driverroom",e.driverroom),e.storeroom&&p.append("storeroom",e.storeroom),e.otherroom&&p.append("otherroom",e.otherroom),e.buildingid&&p.append("buildingid",e.buildingid===void 0?"":e.buildingid),e.subtypeid&&p.append("subtypeid",e.subtypeid),e.developerid&&p.append("developerid",e.developerid===void 0?"":e.developerid),e.customerid&&(p.append("customerid",e.customerid===void 0?"":e.customerid),p.append("customername",e.customername===void 0?"":e.customername)),p.append("purchasedate",e.purchasedate===void 0?"":e.purchasedate),e!=null&&e.propertyimages.length)for(let d=0;d<(e==null?void 0:e.propertyimages.length);d++)p.append("propertyimages",e==null?void 0:e.propertyimages[d]);else p.append("propertyimages",[]);if(e!=null&&e.floorplan.length)for(let d=0;d<(e==null?void 0:e.floorplan.length);d++)p.append("floorplan",e==null?void 0:e.floorplan[d]);else p.append("floorplan",[]);if(e!=null&&e.typicalfloorplan.length)for(let d=0;d<(e==null?void 0:e.typicalfloorplan.length);d++)p.append("typicalfloorplan",e==null?void 0:e.typicalfloorplan[d]);else p.append("typicalfloorplan",[]);if(e!=null&&e.buildingelevation.length)for(let d=0;d<(e==null?void 0:e.buildingelevation.length);d++)p.append("buildingelevation",e==null?void 0:e.buildingelevation[d]);else p.append("buildingelevation",[]);if(e!=null&&e.amenitiesimages.length)for(let d=0;d<(e==null?void 0:e.amenitiesimages.length);d++)p.append("amenitiesimages",e==null?void 0:e.amenitiesimages[d]);else p.append("amenitiesimages",[]);if(e!=null&&e.unitplanattachment.length)for(let d=0;d<(e==null?void 0:e.unitplanattachment.length);d++)p.append("unitplanattachment",e==null?void 0:e.unitplanattachment[d]);else p.append("unitplanattachment",[]);if(e!=null&&e.plotplanattachment.length)for(let d=0;d<(e==null?void 0:e.plotplanattachment.length);d++)p.append("plotplanattachment",e==null?void 0:e.plotplanattachment[d]);else p.append("plotplanattachment",[]);if(N?p.append("titledeeddocument",N):p.append("titledeeddocument",""),e!=null&&e.no_ownernamedeed?p.append("no_ownernamedeed",e==null?void 0:e.no_ownernamedeed):p.append("no_ownernamedeed","0"),(e==null?void 0:e.OwnerNameAsPerDeed)!==void 0&&(e==null?void 0:e.no_ownernamedeed)){const d=[];for(const a of e.OwnerNameAsPerDeed){const P={ownernameasperdeed:(j=a==null?void 0:a.ownernameasperdeed)!=null?j:""};d.push(P)}p.append("OwnerNameAsPerDeed",JSON.stringify(d))}else p.append("OwnerNameAsPerDeed",[]);await X(p),V.success(`${e.unitnumber} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{q("/all-properties")},1500),I(!0)}}catch(_){I(!1),console.log("error",_)}}}};return f(le,{children:[l(Zn,{}),l("div",{className:"xl:col-span-2 col-span-1",children:l(Dn,{title:"Property Form",children:l("div",{children:f("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Usage"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ne,value:Ne.filter(function(t){return t.value===(e==null?void 0:e.usage)}),onChange:t=>{u({target:{name:"usage",value:t.value}})},styles:B,id:"hh"}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:Qe})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Type"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:(e==null?void 0:e.usage)==="Commercial"?ke:_e,value:(e==null?void 0:e.usage)==="Commercial"?ke.filter(function(t){return t.value===(e==null?void 0:e.propertytype)}):_e.filter(function(t){return t.value===(e==null?void 0:e.propertytype)}),onChange:t=>{u({target:{name:"propertytype",value:t.value}})},styles:B,id:"hh"}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:Ge})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Status"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:xe,value:xe.filter(function(t){return t.value===(e==null?void 0:e.projectstatus)}),onChange:t=>{u({target:{name:"projectstatus",value:t.value}})},styles:B,id:"hh"})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Transaction type"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:je,value:je.filter(function(t){return t.value===(e==null?void 0:e.transactiontype)}),onChange:t=>{u({target:{name:"transactiontype",value:t.value}})},styles:B,id:"hh"})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ae,value:Ae.filter(function(t){return t.value===(e==null?void 0:e.communityid)}),onChange:t=>{x({...e,communityid:t==null?void 0:t.value,communityname:t==null?void 0:t.label})},styles:B,id:"hh"}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:We})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ze,value:ze.filter(function(t){return t.value===(e==null?void 0:e.projectnameid)}),onChange:t=>{x({...e,projectnameid:t==null?void 0:t.value,projectname:t==null?void 0:t.label})},styles:B,id:"hh"}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:Ye})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ee,value:Ee.filter(function(t){return t.value===(e==null?void 0:e.buildingid)}),onChange:t=>{x({...e,buildingid:t==null?void 0:t.value,buildingname:t==null?void 0:t.label})},styles:B,id:"hh"}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:zn})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Sub type"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Be,value:Be.filter(function(t){return t.value===(e==null?void 0:e.subtypeid)}),onChange:t=>{x({...e,subtypeid:t==null?void 0:t.value,subtypename:t==null?void 0:t.label})},styles:B,id:"hh"})]}),l(S,{name:"typelayout",label:"Type Layout",type:"text",placeholder:"Enter Type Layout",register:C,value:e.typelayout||"",onChange:u}),l(S,{name:"floor",label:"Floor",type:"text",placeholder:"Enter Floor",register:C,value:e.floor||"",onChange:u}),f("div",{children:[l(S,{name:"unitnumber",label:"Unit number",placeholder:"Enter Unit number",type:"text",register:C,error:be,value:e.unitnumber||"",onChange:u}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:be})]}),(e==null?void 0:e.propertytype)==="Townhouse"||(e==null?void 0:e.propertytype)==="Villa"?l("div",{children:l(S,{name:"streetnumber",label:"Street number",placeholder:"Enter Street number",type:"text",register:C,value:e.streetnumber||"",onChange:u})}):null,(e==null?void 0:e.propertytype)==="Townhouse"||(e==null?void 0:e.propertytype)==="Villa"?l(S,{name:"plotsize",label:"Plot Size",type:"text",placeholder:"Enter Plot Size",register:C,value:e.plotsize||"",onChange:u}):null,f("div",{className:"flex items-center gap-x-[10px] w-[100%]",children:[l("div",{className:"w-[50%]",children:l(S,{name:"builduparea",label:"Build-Up area",type:"text",placeholder:"Enter Build-Up area",register:C,value:e.builduparea||"",onChange:u})}),f("div",{className:"w-[50%]",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"measuring unit area"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Fe,value:Fe.filter(function(t){return t.value===(e==null?void 0:e.measure_units)}),onChange:t=>{u({target:{name:"measure_units",value:t.value}})},styles:B,id:"hh"})]})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Type of Balcony"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Pe,value:Pe.filter(function(t){return t.value===(e==null?void 0:e.balcony)}),onChange:t=>{u({target:{name:"balcony",value:t.value}})},styles:B,id:"hh"})]}),l(S,{name:"totalbedroom",label:"Total Bedroom",placeholder:"Enter Total Bedroom",type:"number",register:C,value:e.totalbedroom||"",onChange:u}),l(S,{name:"nobathroom",label:"full Bathroom",placeholder:"Enter Full Bathroom",type:"number",register:C,value:e.nobathroom||"",onChange:u}),l(S,{name:"halfbathroom",label:"half Bathroom",placeholder:"Enter Half Bathroom",type:"number",register:C,value:e.halfbathroom||"",onChange:u}),f("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"Total No of Bathroom"}),l("p",{className:"  form-control py-2   ",children:e!=null&&e.totalbathroom?e==null?void 0:e.totalbathroom:"0"})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"maid room"}),f("div",{className:"flex items-center justify-between",children:[l("label",{htmlFor:" hh",className:"form-label ",children:e.maidroom===!0?"Yes":"No"}),l(de,{value:e.maidroom,onChange:()=>x({...e,maidroom:!e.maidroom})})]})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"driver room"}),f("div",{className:"flex items-center justify-between",children:[l("label",{htmlFor:" hh",className:"form-label ",children:e.driverroom===!0?"Yes":"No"}),l(de,{value:e.driverroom,onChange:()=>x({...e,driverroom:!e.driverroom})})]})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Store room"}),f("div",{className:"flex items-center justify-between",children:[l("label",{htmlFor:" hh",className:"form-label ",children:e.storeroom===!0?"Yes":"No"}),l(de,{value:e.storeroom,onChange:()=>x({...e,storeroom:!e.storeroom})})]})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"other room (not specified)"}),f("div",{className:"flex items-center justify-between",children:[l("label",{htmlFor:" hh",className:"form-label ",children:e.otherroom===!0?"Yes":"No"}),l(de,{value:e.otherroom,onChange:()=>x({...e,otherroom:!e.otherroom})})]})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Property Types"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Se,value:Se.filter(function(t){return t.value===(e==null?void 0:e.propertyType)}),onChange:t=>{u({target:{name:"propertyType",value:t.value}})},styles:B,id:"hh"})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Type of Furnished"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Oe,value:Oe.filter(function(t){return t.value===(e==null?void 0:e.furnished)}),onChange:t=>{u({target:{name:"furnished",value:t.value}})},styles:B,id:"hh"})]}),f("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Type of kitchen"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ce,value:Ce.filter(function(t){return t.value===(e==null?void 0:e.kitchen)}),onChange:t=>{u({target:{name:"kitchen",value:t.value}})},styles:B,id:"hh"})]}),l(S,{name:"noparking",label:"no of Parking",placeholder:"Enter No of Parking",type:"number",register:C,value:e.noparking||"",onChange:u}),l(S,{name:"parkingbay",label:"parking Bay number",placeholder:"Enter Parking Bay number",type:"text",register:C,value:e.parkingbay||"",onChange:u}),l(S,{name:"dewapremises",label:"DEWA Premises No",placeholder:"Enter DEWA Premises No",type:"text",register:C,value:e.dewapremises||"",onChange:u}),l(S,{name:"district",label:"EMICOOL / EMPOWER / PALM DISTRICT",placeholder:"Enter EMICOOL / EMPOWER / PALM DISTRICT",type:"text",register:C,value:e.district||"",onChange:u}),l(S,{name:"ownerassociation",label:"owner Association",placeholder:"Enter OWNER ASSOCIATION",type:"text",register:C,value:e.ownerassociation||"",onChange:u}),l(S,{name:"propertyview",label:"property View",placeholder:"Enter PROPERTY VIEW",type:"text",register:C,value:e.propertyview||"",onChange:u}),l(S,{name:"propertylocation",label:"embed Google location",placeholder:"Enter EMBED GOOGLE LOCATION",type:"url",register:C,value:e.propertylocation||"",onChange:u}),l(le,{}),f("div",{className:"w-[100%] col-span-2",children:[l(S,{name:"youtubelink",label:"youtube Link",placeholder:"Enter YOUTUBE LINK",type:"url",register:C,value:e.youtubelink||"",onChange:u}),Te===!0?l("div",{className:" mt-2 text-danger-500 block text-sm",children:"Url is not vaild"}):null]}),l(le,{children:e!=null&&e.youtubelink&&Te===!1?l("div",{className:"flex w-[100%] col-span-2 justify-between mt-[34px] flex-wrap gap-y-[25px]",children:l("div",{className:"w-[100%] flex items-end justify-center",children:l("iframe",{title:"YouTube Link",src:fn,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture full",width:"100%",height:500})})}):null}),f("div",{className:"w-[100%] ",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Property Images"}),l(ae,{name:"propertyimages",selectedFiles:U,onChange:un,removeFile:bn,multiple:!0,preview:!0}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:se}),((on=e==null?void 0:e.propertyimages)==null?void 0:on.length)&&(e==null?void 0:e.propertyimages[0])!==""?l("div",{className:"flex flex-wrap rtl:space-x-reverse gap-4",children:e==null?void 0:e.propertyimages.map((t,i)=>f("div",{className:"xl:w-1/5 md:w-1/3 w-1/2 rounded mt-6 border p-2  border-slate-200 relative",children:[l("img",{src:G,alt:"CancelIcon",className:"absolute top-[0] right-[0] w-[25px] cursor-pointer bg-white",onClick:()=>gn(t)}),l("img",{src:"http://portals.rarehomesgroup.com"+t,alt:`Property Images ${i}`,className:"object-cover w-full h-full rounded"})]},i))}):null]}),f("div",{className:"w-[100%]",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"unit floor plan"}),l(ae,{name:"unitplanattachment",selectedFiles:$,onChange:Nn,removeFile:_n,multiple:!0,preview:!0}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:ve}),((tn=e==null?void 0:e.unitplanattachment)==null?void 0:tn.length)&&(e==null?void 0:e.unitplanattachment[0])!==""?f("div",{className:"flex flex-wrap rtl:space-x-reverse gap-4",children:[e==null?void 0:e.unitplanattachment.map((t,i)=>f("div",{className:"xl:w-1/5 md:w-1/3 w-1/2 rounded mt-6 border p-2  border-slate-200 relative",children:[l("img",{src:G,alt:"CancelIcon",className:"absolute top-[0] right-[0] w-[25px] cursor-pointer bg-white",onClick:()=>kn(t)}),l("img",{src:"http://portals.rarehomesgroup.com"+t,alt:`Property Images ${i}`,className:"object-cover w-full h-full rounded"})]},i)),((pn=e==null?void 0:e.floorplan)==null?void 0:pn.length)&&(e==null?void 0:e.floorplan[0])!==""?l("div",{className:"flex flex-wrap rtl:space-x-reverse gap-4",children:e==null?void 0:e.floorplan.map((t,i)=>f("div",{className:"xl:w-1/5 md:w-1/3 w-1/2 rounded mt-6 border p-2  border-slate-200 relative",children:[l("img",{src:G,alt:"CancelIcon",className:"absolute top-[0] right-[0] w-[25px] cursor-pointer bg-white",onClick:()=>wn(t)}),l("img",{src:"http://portals.rarehomesgroup.com"+t,alt:`Property Images ${i}`,className:"object-cover w-full h-full rounded"})]},i))}):null]}):null]}),(e==null?void 0:e.propertytype)==="Villa"?f("div",{className:"w-[100%]",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Plot Plan Attachment"}),l(ae,{name:"plotplanattachment",selectedFiles:M,onChange:xn,removeFile:jn,multiple:!0,preview:!0}),l("div",{className:" mt-2 text-danger-500 block text-sm",children:ye}),((ln=e==null?void 0:e.plotplanattachment)==null?void 0:ln.length)&&(e==null?void 0:e.plotplanattachment[0])!==""?l("div",{className:"flex flex-wrap gap-4 rtl:space-x-reverse",children:e==null?void 0:e.plotplanattachment.map((t,i)=>f("div",{className:"xl:w-1/5 md:w-1/3 w-1/2 rounded mt-6 border p-2  border-slate-200 relative",children:[l("img",{src:G,alt:"CancelIcon",className:"absolute top-[0] right-[0] w-[25px] cursor-pointer bg-white",onClick:()=>Pn(t)}),l("img",{src:"http://portals.rarehomesgroup.com"+t,alt:`Property Images ${i}`,className:"object-cover w-full h-full rounded"})]},i))}):null]}):null,l("div",{className:"w-[100%] col-span-2",children:l("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-6 mt-10",children:"Owner Details"})}),f("div",{className:"flex items-end gap-x-[10px]",children:[f("div",{className:"flex-1",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Z,value:Z.filter(function(t){return t.value===(e==null?void 0:e.customerid)}),onChange:t=>{x({...e,customerid:t==null?void 0:t.value,customername:t==null?void 0:t.label}),Q.pathname===`/update-property/${F}`&&L!==(t==null?void 0:t.value)&&ue===!0?Ke(!0):Ke(!1)},styles:B,id:"hh"})]}),Q.pathname===`/update-property/${F}`&&we===!0&&Xe===!1&&ue===!0?l("div",{className:"ltr:text-right rtl:text-left",children:l("button",{className:"btn btn-dark  text-center",type:"button",onClick:Mn,children:"Are you Sure you want to change owner?"})}):null]}),l("div",{className:"flex items-end gap-x-[10px]",children:f("div",{className:"flex-1",children:[l("label",{htmlFor:" hh",className:"form-label ",children:"owner representative name"}),l(E,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Z,value:Z.filter(function(t){return t.value===(e==null?void 0:e.owner_representative_id)}),onChange:t=>{x({...e,owner_representative_id:t==null?void 0:t.value,owner_representative_name:t==null?void 0:t.label})},styles:B,id:"hh"})]})}),f("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"Purchased Date as per title deed"}),l(eo,{className:"form-control py-2",name:"purchasedate",value:e.purchase_date||e.purchasedate,onChange:t=>{u({target:{name:"purchasedate",value:t[0]}})},id:"default-picker",placeholder:"Select Arrival Check-In Date"})]}),l(S,{name:"no_ownernamedeed",label:"No. of owner Name as per title deed",placeholder:"Enter No of. OWNER NAME AS PER TITLE DEED",type:"number",register:C,value:e.no_ownernamedeed||"",onChange:u}),De>0&&l(le,{children:Array.from({length:De},(t,i)=>{var c,y;return l("div",{children:l(S,{label:`owner Name as per title deed - ${i+1}`,type:"text",placeholder:`owner Name as per title deed - ${i+1}`,name:`ownernameasperdeed-${i}`,value:((y=(c=e==null?void 0:e.OwnerNameAsPerDeed)==null?void 0:c[i])==null?void 0:y.ownernameasperdeed)||"",register:C,onChange:w=>$n(w,i)})})})}),f("div",{children:[l("label",{htmlFor:"default-picker",className:" form-label",children:"title deed document PDF/PNG/JPG"}),On!==""&&Je===null?f("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[l("a",{target:"_blank",href:`http://portals.rarehomesgroup.com${e==null?void 0:e.titledeeddocument}`,children:decodeURIComponent(e==null?void 0:e.titledeeddocument).split("/").pop()}),l("img",{src:G,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:An})]}):l(ae,{name:"basic",selectedFile:Je,onChange:Fn})]}),l(S,{name:"purchasevaue",label:"purchase Value",placeholder:"Enter PURCHASE VALUE",type:"number",register:C,value:e.purchasevaue||"",onChange:u}),f("div",{className:"lg:col-span-2 col-span-1 relative",children:[Q.pathname===`/update-property/${F}`?l("div",{className:"ltr:text-right rtl:text-left",children:l("div",{className:`${ge===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn-dark  text-center",type:"button",onClick:Vn,children:"Update"})})}):l("div",{className:"ltr:text-right rtl:text-left",children:l("div",{className:`${ge===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn-dark  text-center",onClick:Rn,type:"button",children:"Submit"})})}),ge===!0?l("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"})}):null]})]})})})})]})};export{yo as default};
