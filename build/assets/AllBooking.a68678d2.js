import{R as Rl,j as t,F as P,y as Wn,r,L as w,I as Y,am as X,c9 as Ml,s as Gn,G as ui,c8 as bi,cn as $n,C as ri}from"./index.aff4c1fe.js";import{G as Kn}from"./group-chart-1.57a19134.js";import{D as Il}from"./index.esm.749601ca.js";import{N as Yn}from"./not-found.46bdbc04.js";import{r as xe}from"./index.dd062a0a.js";import{G as qn}from"./GlobalFilter.867a8f3a.js";import{T as Ce}from"./Tooltip.e5708d0d.js";import{E as Dn,u as Bl,w as Xn}from"./jspdf.plugin.autotable.118d6548.js";import{c as zn}from"./calendar.6b75ea36.js";import"./jspdf.es.min.07395ac7.js";import"./html2canvas.esm.0eae2bf4.js";import{M as di}from"./Modal.094999e7.js";import{D as Jn}from"./DeleteModal.a76de1ce.js";import"./react-apexcharts.min.28ddf032.js";/* empty css                     */var o="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBookingTable.jsx";const Qn=Rl.forwardRef(({indeterminate:L,...M},R)=>{const u=Rl.useRef(),z=R||u;return Rl.useEffect(()=>{z.current.indeterminate=L},[z,L]),t(P,{children:t("input",{type:"checkbox",ref:z,...M,className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:42,columnNumber:17},void 0)},void 0,!1)}),Z={option:(L,M)=>({...L,fontSize:"14px"})},Zn=({showModal:L})=>t("div",{className:"thumbnail-container",children:L&&t("div",{className:"modal-overlay-property align-center-important",children:t("div",{className:"w-[300px]",children:[t("div",{className:"mb-3",children:t("img",{className:" w-[100%]",src:Gn,alt:"Logo"},void 0,!1,{fileName:o,lineNumber:71,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:70,columnNumber:25},void 0),t("svg",{className:"animate-spin  h-12 w-12 m-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t("circle",{className:"opacity-25 text-white",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:o,lineNumber:80,columnNumber:29},void 0),t("path",{className:"opacity-75 text-white",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:o,lineNumber:88,columnNumber:29},void 0)]},void 0,!0,{fileName:o,lineNumber:73,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:65,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:64,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:62,columnNumber:9},void 0),Vn=({allBooking:L,handleDataUpdate:M,dataRole:R,forFilterData:u,handleFilterSearch:z,handleClearFilter:V,filterLoader:J,dataFilterActive:p,removeDateFilter:U,typeOfBooking:ee,selectedtypeOfBooking:K,setSelectedtypeOfBooking:Le})=>{const ce=window.location.origin,F=Wn(),[le,ke]=r.exports.useState(!1),[ie,$]=r.exports.useState(!1),[se,He]=r.exports.useState(""),[Re,ue]=r.exports.useState("");r.exports.useState("");const[Ie,Ae]=r.exports.useState(!1),[S,j]=r.exports.useState(""),[i,d]=r.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""}),[a,Ee]=r.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""});console.log("groupUnits",a);const[_,C]=r.exports.useState(""),[Ul,re]=r.exports.useState(""),[k,W]=r.exports.useState(""),[Wl,Be]=r.exports.useState(""),[A,q]=r.exports.useState(""),[Gl,Pe]=r.exports.useState(""),[c,y]=r.exports.useState(""),[f,h]=r.exports.useState(""),[N,E]=r.exports.useState(""),H=e=>{const{name:l,value:n}=e.target;d(s=>({...s,[l]:n})),Ee(s=>({...s,[l]:n}))};r.exports.useEffect(()=>(a.unitnumber&&(C(a.unitnumber),W(a.unitnumber),q(a.unitnumber),y(a.unitnumber),h(a.unitnumber),E(a.unitnumber)),a.owner_email&&(j(a.owner_email),C(a.owner_email),W(a.owner_email),q(a.owner_email),h(a.owner_email),E(a.owner_email)),a.communityid&&(j(a.communityid),W(a.communityid),q(a.communityid),y(a.communityid),h(a.communityid),E(a.communityid)),a.projectnameid&&(j(a.projectnameid),C(a.projectnameid),q(a.projectnameid),y(a.projectnameid),h(a.projectnameid),E(a.projectnameid)),a.buildingid&&(j(a.buildingid),C(a.buildingid),W(a.buildingid),y(a.buildingid),h(a.buildingid),E(a.buildingid)),a.email&&(j(a.email),C(a.email),W(a.email),q(a.email),y(a.email),h(a.email)),a.bookingagent&&(j(a.bookingagent),C(a.bookingagent),W(a.bookingagent),q(a.bookingagent),y(a.bookingagent)),()=>{C(""),W(""),q(""),y(""),h(""),j("")}),[a]);const G=e=>{const{name:l,value:n}=e.target;a.unitnumber&&(C(a.unitnumber),d({...i,[l]:n}),re({...i,[l]:n})),a.owner_email&&(j(a.owner_email),d({...i,[l]:n}),C(a.owner_email)),a.communityid&&(j(a.communityid),d({...i,[l]:n})),a.projectnameid&&(j(a.projectnameid),d({...i,[l]:n})),a.buildingid&&(j(a.buildingid),d({...i,[l]:n})),a.email&&(j(a.email),d({...i,[l]:n})),a.bookingagent&&(j(a.bookingagent),d({...i,[l]:n}))},ne=e=>{const{name:l,value:n}=e.target;a.unitnumber&&d({...i,[l]:n}),a.owner_email&&(d({...i,[l]:n}),W(a.owner_email)),a.communityid&&(d({...i,[l]:n}),W(a.communityid)),a.buildingid&&d({...i,[l]:n}),a.email&&d({...i,[l]:n}),a.bookingagent&&d({...i,[l]:n})},ae=e=>{const{name:l,value:n}=e.target;a.unitnumber&&d({...i,[l]:n}),a.owner_email&&d({...i,[l]:n}),a.communityid&&d({...i,[l]:n}),a.projectnameid&&d({...i,[l]:n}),a.email&&d({...i,[l]:n}),a.bookingagent&&d({...i,[l]:n})},te=e=>{const{name:l,value:n}=e.target;a.unitnumber&&d({...i,[l]:n}),a.communityid&&d({...i,[l]:n}),a.projectnameid&&d({...i,[l]:n}),a.buildingid&&d({...i,[l]:n}),a.email&&d({...i,[l]:n}),a.bookingagent&&d({...i,[l]:n})},oe=e=>{const{name:l,value:n}=e.target;a.email&&d({...i,[l]:n}),a.unitnumber&&d({...i,[l]:n}),a.communityid&&d({...i,[l]:n}),a.projectnameid&&d({...i,[l]:n}),a.buildingid&&d({...i,[l]:n}),a.bookingagent&&d({...i,[l]:n})},fi=async e=>{ke(!0),ue(e)},me=e=>{const{name:l,value:n}=e.target;a.email&&d({...i,[l]:n}),a.unitnumber&&d({...i,[l]:n}),a.communityid&&d({...i,[l]:n}),a.projectnameid&&d({...i,[l]:n}),a.buildingid&&d({...i,[l]:n}),a.bookingagent&&d({...i,[l]:n})},vi=()=>{ke(!1)},Ni=async e=>{try{await ui.patch("http://stg.srp.ai/booking/api/updatebooking",{_id:e,softdelete:!0}),M()}catch(l){console.log(l,"error")}};function v(e){var s,b;const l={},n=[];for(const m of e){const O=`${(s=m==null?void 0:m.label)==null?void 0:s.trim()}|${(b=m==null?void 0:m.value)==null?void 0:b.trim()}`;l[O]||(n.push(m),l[O]=!0)}return n}const[Se,gi]=r.exports.useState(!1),pi=async e=>{const n=`http://stg.srp.ai/property/${e.propertyid}`,s=await ui.get(`${n}`);if(console.log("proData",s),s.statusText==="OK"&&s.status===200){const{propertyimages:b,propertylocation:m,subtype:O}=s.data,I={propertyimages:b.length>0?b[0]:null,propertylocation:m,subtype:O};F("/bookingsd",{state:{data:e,obj:I}})}},hi=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:l})=>t("span",{children:l.indexOf(e)+1},void 0,!1,{fileName:o,lineNumber:513,columnNumber:24},void 0)},{Header:"Booking Number",accessor:"bookingnumber",Cell:e=>{var l,n,s,b,m,O,I,T,B,D,Q;return t(P,{children:ce==="http://127.0.0.1:5173"||ce==="http://stg.srp.ai"||ce==="http://127.0.0.1:5174"?t(w,{to:`/view-booking/${(s=(n=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:n.original)==null?void 0:s._id}`,children:(b=e==null?void 0:e.cell)!=null&&b.value?((O=(m=e==null?void 0:e.cell)==null?void 0:m.value)==null?void 0:O.slice(0,15))+(((I=e==null?void 0:e.cell)==null?void 0:I.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:524,columnNumber:33},void 0):t("span",{children:(T=e==null?void 0:e.cell)!=null&&T.value?((D=(B=e==null?void 0:e.cell)==null?void 0:B.value)==null?void 0:D.slice(0,15))+(((Q=e==null?void 0:e.cell)==null?void 0:Q.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:525,columnNumber:33},void 0)},void 0,!1)}},{Header:"Booking Status",accessor:"cancelled",Cell:e=>{var l,n,s;return t("span",{className:"block w-full",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)===!1?"text-success-500 bg-success-500":""} 
            ${((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-danger-500 bg-danger-500":""}
            
             `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)===!0?"Cancelled":"Approved"},void 0,!1,{fileName:o,lineNumber:537,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:536,columnNumber:21},void 0)}},{Header:"Unit No",accessor:e=>`${e.unitnumber}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:563,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:562,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:561,columnNumber:21},void 0)}},{Header:"Building Name",accessor:e=>`${e.building_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:578,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:577,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:576,columnNumber:21},void 0)}},{Header:"Floor Level",accessor:e=>`${e.floor}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:593,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:592,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:591,columnNumber:21},void 0)}},{Header:"Community Name",accessor:e=>`${e.community_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:608,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:607,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:606,columnNumber:21},void 0)}},{Header:"Project Name",accessor:e=>`${e.project_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:623,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:622,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:621,columnNumber:21},void 0)}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:638,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:637,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:636,columnNumber:21},void 0)}},{Header:"Guest Name",accessor:"guestname",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:653,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:652,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:651,columnNumber:21},void 0)}},{Header:"Check in Type",accessor:"checkintype",Cell:e=>{var l,n,s,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:666,columnNumber:24},void 0)}},{Header:"Nationality",accessor:"nationality",Cell:e=>{var l,n,s,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:673,columnNumber:24},void 0)}},{Header:"passport no",accessor:"passportnumber",Cell:e=>{var l,n,s,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:680,columnNumber:24},void 0)}},{Header:"Mobile Number",accessor:"mobilenumber",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:687,columnNumber:24},void 0)}},{Header:"Email",accessor:"email",Cell:e=>{var l,n,s,b;return t("span",{className:"lowercase",children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:694,columnNumber:24},void 0)}},{Header:"No. of Adults",accessor:"noadults",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:701,columnNumber:24},void 0)}},{Header:"No. of Children",accessor:"nochildern",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0"},void 0,!1,{fileName:o,lineNumber:708,columnNumber:24},void 0)}},{Header:"No. Of Occupants",accessor:"totaloccupants",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:715,columnNumber:24},void 0)}},{Header:"Confirmation Code",accessor:"confirmationcode",Cell:e=>{var l,n,s,b;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((b=e==null?void 0:e.cell)==null?void 0:b.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:722,columnNumber:24},void 0)}},{Header:"Booking Date",accessor:"reservation_date",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:729,columnNumber:24},void 0)}},{Header:"Booking Agent",accessor:"bookingagent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:736,columnNumber:24},void 0)}},{Header:"Mode of Payment",accessor:"modepayment",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:744,columnNumber:24},void 0)}},{Header:"Check in Date",accessor:"checkindate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:751,columnNumber:24},void 0)}},{Header:"Check out Date",accessor:"checkoutdate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:758,columnNumber:24},void 0)}},{Header:"No. of Nights",accessor:"nonight",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0.00"},void 0,!1,{fileName:o,lineNumber:765,columnNumber:24},void 0)}},{Header:"Tourism Fee /Unit",accessor:"tourismfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value)+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:772,columnNumber:24},void 0)}},{Header:"Security Deposit Amount",accessor:"securitydeposit",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:779,columnNumber:24},void 0)}},{Header:"TOTAL PAYOUT",accessor:"totalpayout",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:786,columnNumber:24},void 0)}},{Header:"Host Service Fee (portal)",accessor:"hostservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:793,columnNumber:24},void 0)}},{Header:"Total Collection All incl",accessor:"totalcollectall",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:800,columnNumber:24},void 0)}},{Header:"Cleaning Fee",accessor:"cleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:807,columnNumber:24},void 0)}},{Header:"TOTAL ADDITIONAL FEE",accessor:"totaladditionalfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:814,columnNumber:24},void 0)}},{Header:"Room Rent Amount: ( Incl. portal fee)",accessor:"roomrentamount",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:837,columnNumber:24},void 0)}},{Header:"Room Rent Amount: (host Payable)",accessor:"roomrenthostpayable",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:844,columnNumber:24},void 0)}},{Header:"Guest Service Fee",accessor:"guestservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:851,columnNumber:24},void 0)}},{Header:"Guest Management Fee",accessor:"guestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:858,columnNumber:24},void 0)}},{Header:"Host Management Fee",accessor:"hostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:865,columnNumber:24},void 0)}},{Header:"Total Room Rent Amount (incl. GM FEE)",accessor:"propertyid",Cell:e=>{var n,s,b,m,O,I,T,B,D,Q,be,fe,ve,Ne,ge,pe,he,ye,Hl,zl,Jl,Ql,Zl,Vl,Fl,wl,ei,li,ii,ni,ai,ti,oi,mi,ci,si;let l;return((b=(s=(n=e==null?void 0:e.cell)==null?void 0:n.row)==null?void 0:s.original)==null?void 0:b.guestservicefee)&&((I=(O=(m=e==null?void 0:e.cell)==null?void 0:m.row)==null?void 0:O.original)==null?void 0:I.guestservicefee)>0?l=(parseFloat((D=(B=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:B.original)!=null&&D.roomrentamount?(fe=(be=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:be.original)==null?void 0:fe.roomrentamount:0)+parseFloat((ge=(Ne=(ve=e==null?void 0:e.cell)==null?void 0:ve.row)==null?void 0:Ne.original)!=null&&ge.guestmanagementfee?(ye=(he=(pe=e==null?void 0:e.cell)==null?void 0:pe.row)==null?void 0:he.original)==null?void 0:ye.guestmanagementfee:0)+parseFloat((Jl=(zl=(Hl=e==null?void 0:e.cell)==null?void 0:Hl.row)==null?void 0:zl.original)!=null&&Jl.guestservicefee?(Vl=(Zl=(Ql=e==null?void 0:e.cell)==null?void 0:Ql.row)==null?void 0:Zl.original)==null?void 0:Vl.guestservicefee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):l=(parseFloat((ei=(wl=(Fl=e==null?void 0:e.cell)==null?void 0:Fl.row)==null?void 0:wl.original)!=null&&ei.roomrentamount?(ni=(ii=(li=e==null?void 0:e.cell)==null?void 0:li.row)==null?void 0:ii.original)==null?void 0:ni.roomrentamount:0)+parseFloat((oi=(ti=(ai=e==null?void 0:e.cell)==null?void 0:ai.row)==null?void 0:ti.original)!=null&&oi.guestmanagementfee?(si=(ci=(mi=e==null?void 0:e.cell)==null?void 0:mi.row)==null?void 0:ci.original)==null?void 0:si.guestmanagementfee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),t("span",{children:l?l+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:878,columnNumber:24},void 0)}},{Header:"VAT 5% on Booking Room Rent",accessor:"vatperbookingrent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:885,columnNumber:24},void 0)}},{Header:"VAT 5% on Service fee",accessor:"vatperservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:892,columnNumber:24},void 0)}},{Header:"VAT 5% on Cleaning fee",accessor:"vatpercleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:899,columnNumber:24},void 0)}},{Header:"VAT 5% on Guest Management",accessor:"vatperguestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:906,columnNumber:24},void 0)}},{Header:"VAT 5% On Host Management Fee",accessor:"vatperhostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:913,columnNumber:24},void 0)}},{Header:"Total Payout Vat",accessor:"totalvatper",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:920,columnNumber:24},void 0)}},{Header:"Total Room rent + GM+VAT",accessor:e=>`${e.totalroomrent}`,Cell:e=>{var l,n,s;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value))==null?void 0:s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:927,columnNumber:24},void 0)}},{Header:"Audit Difference",accessor:e=>`${e.auditdiff}`,Cell:e=>t("span",{children:"0"},void 0,!1,{fileName:o,lineNumber:934,columnNumber:24},void 0)},{Header:"Total Collection All incl",accessor:e=>`${e.totalcollectall}`,Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:941,columnNumber:24},void 0)}},{Header:"DTCM uploaded",accessor:"dtcm_uploaded",Cell:e=>{var l,n,s,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:951,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:950,columnNumber:25},void 0)},void 0,!1)}},{Header:"passort id collected",accessor:"passortid_collected",Cell:e=>{var l,n,s,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:971,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:970,columnNumber:25},void 0)},void 0,!1)}},{Header:"Signature verified as per Passport",accessor:"sign_verified",Cell:e=>{var l,n,s,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:991,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:990,columnNumber:25},void 0)},void 0,!1)}},{Header:"smart code provided",accessor:"smartcode_provided",Cell:e=>{var l,n,s,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1011,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1010,columnNumber:25},void 0)},void 0,!1)}},{Header:"Payment collected",accessor:"payment_collected",Cell:e=>{var l,n,s,b;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((b=e==null?void 0:e.cell)==null?void 0:b.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1031,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1030,columnNumber:25},void 0)},void 0,!1)}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1048,columnNumber:24},void 0)}},{Header:"created-on",accessor:"Created_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1055,columnNumber:24},void 0)}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1062,columnNumber:24},void 0)}},{Header:"updated-on",accessor:"updated_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1069,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var B,D,Q,be,fe,ve,Ne,ge,pe,he,ye;const l=localStorage.getItem("isAuth"),n=JSON.parse(l),{data:s}=bi(n==null?void 0:n.roleid);if(!s)return null;const b=(s==null?void 0:s.readbooking)===!0,m=(s==null?void 0:s.updatebooking)===!0,O=(s==null?void 0:s.deletebooking)===!0,I=(s==null?void 0:s.updatecustomer)===!0,T=(D=(B=e==null?void 0:e.cell)==null?void 0:B.row)==null?void 0:D.original;return t("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[t(Ce,{content:"Download PDF Under Maintenance",placement:"top",arrow:!0,animation:"shift-away",children:t("button",{className:"action-btn",onClick:Hl=>pi(T),type:"button",children:t(Y,{icon:"heroicons:arrow-down"},void 0,!1,{fileName:o,lineNumber:1095,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1094,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1093,columnNumber:26},void 0),I&&t(Ce,{content:"Edit Customer",placement:"top",arrow:!0,animation:"shift-away",children:((fe=(be=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:be.original)==null?void 0:fe.customertype)==="New Customer"?t(w,{className:"action-btn",to:`/update-customer/${(ge=(Ne=(ve=e==null?void 0:e.cell)==null?void 0:ve.row)==null?void 0:Ne.original)==null?void 0:ge.guest_id}`,type:"button",children:t(Y,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1109,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1108,columnNumber:45},void 0):t(w,{className:"action-btn",to:`/update-customer/${(ye=(he=(pe=e==null?void 0:e.cell)==null?void 0:pe.row)==null?void 0:he.original)==null?void 0:ye.customerid}`,type:"button",children:t(Y,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1112,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1111,columnNumber:45},void 0)},void 0,!1,{fileName:o,lineNumber:1105,columnNumber:33},void 0),b&&t(Ce,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:t(w,{className:"action-btn",to:`/view-booking/${e==null?void 0:e.cell.value}`,type:"button",children:t(Y,{icon:"heroicons:eye"},void 0,!1,{fileName:o,lineNumber:1122,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1121,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1120,columnNumber:33},void 0),m&&t(Ce,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:t(w,{to:`/update-booking/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:t(Y,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:o,lineNumber:1131,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1130,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1129,columnNumber:33},void 0),O&&t(Ce,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:t("button",{className:"action-btn",type:"button",onClick:()=>fi(e==null?void 0:e.cell.value),children:t(Y,{icon:"heroicons:trash"},void 0,!1,{fileName:o,lineNumber:1146,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1145,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1138,columnNumber:33},void 0)]},void 0,!0,{fileName:o,lineNumber:1092,columnNumber:21},void 0)}}];function yi(e){const l=[["BOOKING NUMBER","BOOKING STATUS","UNIT NO","BUILDING NAME","FLOOR LEVEL","COMMUNITY NAME","PROJECT NAME","OWNER NAME","GUEST NAME","CHECK IN TYPE","NATIONALITY","PASSPORT NO","MOBILE NUMBER","EMAIL","NO. OF ADULTS","NO. OF CHILDREN","NO. OF OCCUPANTS","CONFIRMATION CODE","BOOKING DATE","BOOKING DATE","MODE OF PAYMENT","CHECK IN DATE","CHECK OUT DATE","NO. OF NIGHTS","NO. OF NIGHTS","SECURITY DEPOSIT AMOUNT","TOTAL PAYOUT","HOST SERVICE FEE (PORTAL)","TOTAL COLLECTION ALL INCL","CLEANING FEE","TOTAL ADDITIONAL FEE","ROOM RENT AMOUNT: ( INCL. PORTAL FEE)","Room Rent Amount: (host Payable)","GUEST SERVICE FEE","GUEST MANAGEMENT FEE","HOST MANAGEMENT FEE","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON CLEANING FEE","VAT 5% ON GUEST MANAGEMENT","VAT 5% ON HOST MANAGEMENT FEE","TOTAL PAYOUT VAT","TOTAL ROOM RENT + GM+VAT","AUDIT DIFFERENCE","TOTAL COLLECTION ALL INCL","CREATED-BY","CREATED-ON"],...e.map(m=>[m.bookingnumber,m.cancelled===!1?"Approved":"Cancelled",m.unitnumber,m==null?void 0:m.building_name,m==null?void 0:m.floor,m==null?void 0:m.community_name,m==null?void 0:m.project_name,m==null?void 0:m.owner_name,m.guestname,m.checkintype,m.nationality,m.passportnumber,m.mobilenumber,m.email,m.noadults,m.nochildern,m.totaloccupants,m.confirmationcode,new Date(m.reservationdate).toDateString(),m.bookingagent,m.modepayment,new Date(m.checkindate).toDateString(),new Date(m.checkoutdate).toDateString(),m.nonight,m.tourismfee,m.securitydeposit?m.securitydeposit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalpayout?m.totalpayout.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostservicefee?m.hostservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.cleaningfee?m.cleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totaladditionalfee?m.totaladditionalfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrentamount?m.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrenthostpayable?m.roomrenthostpayable.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestservicefee?m.guestservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestmanagementfee?m.guestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostmanagementfee?m.hostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperbookingrent?m.vatperbookingrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperservicefee?m.vatperservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatpercleaningfee?m.vatpercleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperguestmanagementfee?m.vatperguestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperhostmanagementfee?m.vatperhostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalvatper?m.totalvatper.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalroomrent?m.totalroomrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m==null?void 0:m.employee_email_createdBy,new Date(m.createdAt).toDateString()])],n=Bl.aoa_to_sheet(l),s=Bl.book_new();Bl.book_append_sheet(s,n,"Sheet1");const b=Xn(s,{bookType:"xlsx",type:"array"});$n.exports.saveAs(new Blob([b],{type:"application/octet-stream"}),"bookings.xlsx")}const xi=r.exports.useMemo(()=>hi,[]),Ci=r.exports.useMemo(()=>L),[g,$l]=r.exports.useState(""),[ea,Kl]=r.exports.useState(!1),[Yl,ql]=r.exports.useState(!1);r.exports.useState(!1),r.exports.useState(""),r.exports.useState(!1),r.exports.useEffect(()=>{$l(""),ql(!1)},[L]);const ki=xe.exports.useTable({columns:xi,data:Ci,initialState:{pageIndex:0,pageSize:50}},xe.exports.useGlobalFilter,xe.exports.useSortBy,xe.exports.usePagination,xe.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:n})=>t("div",{children:t(Qn,{...n()},void 0,!1,{fileName:o,lineNumber:1282,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1281,columnNumber:25},void 0),Cell:({row:n})=>{var I;const[s,b]=r.exports.useState(""),m=T=>{T!=null&&T._id?Kl(!0):Kl(!1),b(B=>B===T?"":T),$l(B=>B===T?"":T)};let O;return r.exports.useEffect(()=>{var T;ql(((T=n==null?void 0:n.original)==null?void 0:T._id)===(s==null?void 0:s._id)),Yl===!0?O=!0:Yl===!1&&(O=!1)},[(I=n==null?void 0:n.original)==null?void 0:I._id,s==null?void 0:s._id]),t("div",{children:t("input",{type:"checkbox",...n.getToggleRowSelectedProps(),checked:O,onChange:()=>m(n.original),className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:1321,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1320,columnNumber:29},void 0)}},...l])}),{getTableProps:Ai,getTableBodyProps:Ei,headerGroups:Si,footerGroups:la,page:_i,nextPage:Ti,previousPage:Oi,canNextPage:_e,canPreviousPage:Te,pageOptions:Dl,state:ji,gotoPage:Me,pageCount:Li,setPageSize:Hi,setGlobalFilter:Ri,prepareRow:Ii}=ki,{globalFilter:Bi,pageIndex:Xl,pageSize:Pi}=ji,Mi=u.filter(e=>e.unitnumber!==void 0),Oe=[...new Set(Mi.map(e=>e.unitnumber))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Ui=u.filter(e=>e.community_name!==void 0),Ue=[...[...new Set(Ui.map(e=>e.communityid))].map(e=>{const l=u.find(n=>n.communityid===e);return l?{label:l.community_name,value:l.communityid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Wi=u.filter(e=>e.project_name!==void 0),We=[...[...new Set(Wi.map(e=>e.projectnameid))].map(e=>{const l=u.find(n=>n.projectnameid===e);return l?{label:l.project_name,value:l.projectnameid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Gi=u.filter(e=>e.building_name!==void 0),Ge=[...[...new Set(Gi.map(e=>e.buildingid))].map(e=>{const l=u.find(n=>n.buildingid===e);return l?{label:l.building_name,value:l.buildingid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),$i=u.filter(e=>e.owner_email!==void 0),$e=[...[...new Set($i.map(e=>e.owner_email))].map(e=>{const l=u.find(n=>n.owner_email===e);return l?{label:l.owner_name+" | "+l.owner_email,value:l.owner_email}:null}).filter(Boolean)].sort((e,l)=>{var n;return(n=e.label)==null?void 0:n.localeCompare(l.label)}),Ki=u.filter(e=>e.email!==void 0),Ke=[...[...new Set(Ki.map(e=>e.email))].map(e=>{const l=u.find(n=>n.email===e);return l?{label:l.guestname+" | "+l.email,value:l.email}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ye=[...[{value:"Airbnb",label:"Airbnb"},{value:"Booking.com",label:"Booking.com"},{value:"vrbo",label:"vrbo"},{value:"Direct Booking",label:"Direct Booking"},{value:"Not in the List",label:"Not in the List"}]].sort((e,l)=>e.label.localeCompare(l.label)),Yi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),qi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Di=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Xi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),zi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),Ji=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Qi=v(Yi),Zi=v(qi),Vi=v(Di),Fi=v(Xi),wi=v(zi),en=v(Ji),qe=Qi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),De=Zi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Xe=Vi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ze=Fi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Je=wi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=en.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ln=u.filter(e=>e.communityid===a.communityid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),nn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),an=u.filter(e=>e.communityid===a.communityid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),tn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),on=u.filter(e=>e.communityid===a.communityid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),mn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Ze=v(ln).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ve=v(nn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fe=v(an).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=v(tn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=v(on).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ll=v(mn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),cn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),il=v(cn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),sn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),nl=v(sn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),un=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),al=v(un).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),rn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),tl=v(rn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),dn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),ol=v(dn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),bn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),ml=v(bn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),fn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),cl=v(fn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),vn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),sl=v(vn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Nn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),ul=v(Nn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),gn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),rl=v(gn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),pn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),dl=v(pn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),hn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),bl=v(hn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),yn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),xn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),Cn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),kn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),An=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),En=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),je=v(yn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),fl=v(xn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),vl=v(Cn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Nl=v(kn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),gl=v(An).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),pl=v(En).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Sn=u.filter(e=>e.email===a.email).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),hl=v(Sn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),_n=u.filter(e=>e.email===a.email).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),yl=v(_n).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Tn=u.filter(e=>e.email===a.email).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),xl=v(Tn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),On=u.filter(e=>e.email===a.email).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Cl=v(On).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),jn=u.filter(e=>e.email===a.email).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),kl=v(jn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ln=u.filter(e=>e.email===a.email).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Al=v(Ln).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Hn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),El=v(Hn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Rn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),Sl=v(Rn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),In=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),_l=v(In).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Bn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Tl=v(Bn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Pn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Ol=v(Pn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Mn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),jl=v(Mn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Un=()=>{V(),C(""),Ee(""),re(""),W(""),Be(""),d(""),y(""),Pe(""),h(""),E("")},[Ll,de]=r.exports.useState(!1);return r.exports.useEffect(()=>{const e=l=>{const{_id:n,propertyid:s,checkindate:b,checkoutdate:m,cancelled:O}=l,{checkindate:I,checkoutdate:T,propertyid:B}=g;return n!==(g==null?void 0:g._id)&&O===!1?new Date(b).toISOString()<new Date(T).toISOString()&&new Date(m).toISOString()>new Date(I).toISOString()&&s===B?(de(!0),!0):(de(!1),!1):(console.log("first else"),de(!1),!1)};if((g==null?void 0:g.checkindate)&&(g==null?void 0:g.checkoutdate)&&(g==null?void 0:g.propertyid)){let l=!1;for(let n=0;n<u.length;n++){const s=u[n];if(e(s)){l=!0;break}}de(l)}else de(!1)},[g==null?void 0:g.checkindate,g==null?void 0:g.checkoutdate,g==null?void 0:g.propertyid]),t(P,{children:[t("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[t(w,{to:"/calendar-2-0",className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",children:[t("img",{src:zn,alt:"Calendar icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2242,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Calendar View"},void 0,!1,{fileName:o,lineNumber:2243,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2241,columnNumber:17},void 0),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",onClick:()=>yi(L),children:[t("img",{src:Dn,alt:"Excel icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2250,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Export in Excel"},void 0,!1,{fileName:o,lineNumber:2251,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2249,columnNumber:17},void 0),g&&(g==null?void 0:g.cancelled)===!1?t(P,{children:t(di,{title:"Do you want to Cancel this booking?",label:"Cancel booking",labelClass:"btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:g,onDataUpdate:M,bookingtable:!0,cancelkrnihai:!0,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2267,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2256,columnNumber:29},void 0)},void 0,!1):null,Ll===!1&&g&&(g==null?void 0:g.cancelled)===!0?t(P,{children:t(di,{title:"Do you want to Approve this booking?",label:"Approve booking",labelClass:"btn btn inline-flex justify-center btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:g,onDataUpdate:M,bookingtable:!0,cancelkrnihai:!1,alreadyBooking:Ll,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2288,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2276,columnNumber:29},void 0)},void 0,!1):null,Ll===!0&&g&&(g==null?void 0:g.cancelled)===!0?t(P,{children:t("button",{type:"button",class:"btn btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",children:"This property cannot be approved as it is already booked"},void 0,!1,{fileName:o,lineNumber:2297,columnNumber:29},void 0)},void 0,!1):null,t(P,{},void 0,!1),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>gi(!Se),children:[Se===!0?t(Y,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2325,columnNumber:29},void 0):t(Y,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2326,columnNumber:29},void 0),t("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:o,lineNumber:2328,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2321,columnNumber:17},void 0),p===!0?t("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",type:"button",onClick:U,children:"Remove Date Filter"},void 0,!1,{fileName:o,lineNumber:2332,columnNumber:25},void 0):null,t("div",{className:"w-[180px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ee,value:ee==null?void 0:ee.filter(function(e){return e.value===K}),onChange:e=>{Le(e==null?void 0:e.value)},styles:Z,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:o,lineNumber:2335,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:2334,columnNumber:17},void 0),t(qn,{filter:Bi,setFilter:Ri},void 0,!1,{fileName:o,lineNumber:2351,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2238,columnNumber:13},void 0),console.log("unitNumberOptions",Oe,"first",je),t("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."},void 0,!1,{fileName:o,lineNumber:2356,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:S?a.communityid&&S?Ze:a.projectnameid&&S?il:a.buildingid&&S?cl:a.email&&S?hl:a.bookingagent&&S?El:je:Oe,value:S?a.communityid&&S?Ze&&Ze.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.projectnameid&&S?il&&il.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.buildingid&&S?cl&&cl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.email&&S?hl&&hl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.bookingagent&&S?El&&El.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):je&&je.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):Oe&&Oe.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}),onChange:e=>{S?a.communityid&&S?G({target:{name:"unitnumber",value:e.value}}):a.projectnameid&&S?G({target:{name:"unitnumber",value:e.value}}):a.buildingid&&S?G({target:{name:"unitnumber",value:e.value}}):a.email&&S?G({target:{name:"unitnumber",value:e.value}}):a.bookingagent&&S?G({target:{name:"unitnumber",value:e.value}}):G({target:{name:"unitnumber",value:e.value}}):H({target:{name:"unitnumber",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2359,columnNumber:21},void 0),i!=null&&i.unitnumber?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,unitnumber:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2446,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2355,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"},void 0,!1,{fileName:o,lineNumber:2452,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:_?a.owner_email&&_?fl:a.projectnameid&&_?nl:a.buildingid&&_?sl:a.email&&_?yl:a.bookingagent&&_?Sl:qe:Ue,value:_?a.owner_email&&_?fl&&fl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.projectnameid&&_?nl&&nl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.buildingid&&_?sl&&sl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.email&&_?yl&&yl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.bookingagent&&_?Sl&&Sl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):qe&&qe.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):Ue&&Ue.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}),onChange:e=>{_?a.owner_email&&_?G({target:{name:"communityid",value:e.value}}):a.projectnameid&&_?G({target:{name:"communityid",value:e.value}}):a.buildingid&&_?G({target:{name:"communityid",value:e.value}}):a.email&&_?G({target:{name:"communityid",value:e.value}}):a.bookingagent&&_?G({target:{name:"communityid",value:e.value}}):G({target:{name:"communityid",value:e.value}}):H({target:{name:"communityid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2455,columnNumber:21},void 0),i!=null&&i.communityid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,communityid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2546,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2451,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"},void 0,!1,{fileName:o,lineNumber:2552,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:k?a.owner_email&&k?vl:a.communityid&&k?Ve:a.buildingid&&k?ul:a.email&&k?xl:a.bookingagent&&k?_l:De:We,value:k?a.owner_email&&k?vl&&vl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.communityid&&k?Ve&&Ve.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.buildingid&&k?ul&&ul.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.email&&k?xl&&xl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.bookingagent&&k?_l&&_l.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):De&&De.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):We&&We.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}),onChange:e=>{k?a.owner_email&&k?ne({target:{name:"projectnameid",value:e.value}}):a.communityid&&k?ne({target:{name:"projectnameid",value:e.value}}):a.buildingid&&k?ne({target:{name:"projectnameid",value:e.value}}):a.email&&k?ne({target:{name:"projectnameid",value:e.value}}):a.bookingagent&&k?ne({target:{name:"projectnameid",value:e.value}}):ne({target:{name:"projectnameid",value:e.value}}):H({target:{name:"projectnameid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2555,columnNumber:21},void 0),i!=null&&i.projectnameid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,projectnameid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2643,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2551,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"},void 0,!1,{fileName:o,lineNumber:2649,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A?a.owner_email&&A?Nl:a.communityid&&A?Fe:a.projectnameid&&A?al:a.email&&A?Cl:a.bookingagent&&A?Tl:Xe:Ge,value:A?a.owner_email&&A?Nl&&Nl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.communityid&&A?Fe&&Fe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.projectnameid&&A?al&&al.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.email&&A?Cl&&Cl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.bookingagent&&A?Tl&&Tl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):Xe&&Xe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):Ge&&Ge.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}),onChange:e=>{A?a.owner_email&&A?ae({target:{name:"buildingid",value:e.value}}):a.communityid&&A?ae({target:{name:"buildingid",value:e.value}}):a.projectnameid&&A?ae({target:{name:"buildingid",value:e.value}}):a.email&&A?ae({target:{name:"buildingid",value:e.value}}):a.bookingagent&&A?ae({target:{name:"buildingid",value:e.value}}):ae({target:{name:"buildingid",value:e.value}}):H({target:{name:"buildingid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2652,columnNumber:21},void 0),i!=null&&i.buildingid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,buildingid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2743,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2648,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"},void 0,!1,{fileName:o,lineNumber:2749,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:c?a.communityid&&c?we:a.projectnameid&&c?tl:a.buildingid&&c?rl:a.email&&c?kl:a.bookingagent&&c?Ol:ze:$e,value:c?a.communityid&&c?we&&we.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.projectnameid&&c?tl&&tl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.buildingid&&c?rl&&rl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.email&&c?kl&&kl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.bookingagent&&c?Ol&&Ol.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):ze&&ze.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):$e&&$e.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}),onChange:e=>{c?a.communityid&&c?te({target:{name:"owner_email",value:e.value}}):a.projectnameid&&c?te({target:{name:"owner_email",value:e.value}}):a.buildingid&&c?te({target:{name:"owner_email",value:e.value}}):a.email&&c?te({target:{name:"owner_email",value:e.value}}):a.bookingagent&&c?te({target:{name:"owner_email",value:e.value}}):te({target:{name:"owner_email",value:e.value}}):H({target:{name:"owner_email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2752,columnNumber:21},void 0),i!=null&&i.owner_email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,owner_email:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2842,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2748,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Guest Name / Email"},void 0,!1,{fileName:o,lineNumber:2849,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:N?a.communityid&&N?el:a.buildingid&&N?dl:a.projectnameid&&N?ol:a.owner_email&&N?gl:a.bookingagent&&N?Al:Je:Ke,value:N?a.communityid&&N?el&&el.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.buildingid&&N?dl&&dl.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.projectnameid&&N?ol&&ol.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.owner_email&&N?gl&&gl.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.bookingagent&&N?Al&&Al.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Je&&Je.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Ke&&Ke.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}),onChange:e=>{N?a.communityid&&N?oe({target:{name:"email",value:e.value}}):a.buildingid&&N?oe({target:{name:"email",value:e.value}}):a.projectnameid&&N?oe({target:{name:"email",value:e.value}}):a.owner_email&&N?oe({target:{name:"email",value:e.value}}):a.bookingagent&&N?oe({target:{name:"email",value:e.value}}):oe({target:{name:"email",value:e.value}}):H({target:{name:"email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2852,columnNumber:21},void 0),i!=null&&i.email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,email:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2940,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2848,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Booking Agent"},void 0,!1,{fileName:o,lineNumber:2946,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:f?a.communityid&&f?ll:a.projectnameid&&f?ml:a.buildingid&&f?bl:a.owner_email&&f?pl:a.email&&f?jl:Qe:Ye,value:f?a.communityid&&f?ll&&ll.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.projectnameid&&f?ml&&ml.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.buildingid&&f?bl&&bl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.owner_email&&f?pl&&pl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.email&&f?jl&&jl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):Qe&&Qe.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):Ye&&Ye.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}),onChange:e=>{f?a.communityid&&f?me({target:{name:"bookingagent",value:e.value}}):a.projectnameid&&f?me({target:{name:"bookingagent",value:e.value}}):a.buildingid&&f?me({target:{name:"bookingagent",value:e.value}}):a.owner_email&&f?me({target:{name:"bookingagent",value:e.value}}):a.email&&f?me({target:{name:"bookingagent",value:e.value}}):me({target:{name:"bookingagent",value:e.value}}):H({target:{name:"bookingagent",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2949,columnNumber:21},void 0),i!=null&&i.bookingagent?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>d({...i,bookingagent:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:3041,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2945,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2354,columnNumber:13},void 0),t("div",{className:`flex ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[t("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>Un(),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:3048,columnNumber:17},void 0),t("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>z(i),children:"Search"},void 0,!1,{fileName:o,lineNumber:3049,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:3047,columnNumber:13},void 0),t(Jn,{showModal:le,handleClose:vi,loaderModal:ie,linkedData:se,handleDeleteData:Ni,dataId:Re,moduleName:"Booking"},void 0,!1,{fileName:o,lineNumber:3051,columnNumber:13},void 0),t(Zn,{showModal:Ie},void 0,!1,{fileName:o,lineNumber:3052,columnNumber:13},void 0),t("div",{className:"overflow-x-auto -mx-6 mt-6",children:t("div",{className:"inline-block min-w-full align-middle",children:t("div",{className:"",children:t("table",{className:"min-w-[206%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...Ai,children:[t("thead",{className:"bg-slate-200 dark:bg-slate-700",children:Si.map(e=>t("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((R==null?void 0:R.readbooking)===!0||(R==null?void 0:R.updatebooking)===!0||(R==null?void 0:R.deletebooking)===!0)?t("th",{},void 0,!1,{fileName:o,lineNumber:3069,columnNumber:56},void 0):t("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),t("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:o,lineNumber:3079,columnNumber:53},void 0)]},void 0,!0,{fileName:o,lineNumber:3073,columnNumber:49},void 0))},void 0,!1,{fileName:o,lineNumber:3062,columnNumber:37},void 0))},void 0,!1,{fileName:o,lineNumber:3060,columnNumber:29},void 0),J===!0?t("div",{className:"pl-[10px]",children:t(Ml,{},void 0,!1,{fileName:o,lineNumber:3091,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:3090,columnNumber:37},void 0):t("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...Ei,children:_i.map(e=>(Ii(e),t("tr",{...e.getRowProps(),children:e.cells.map(l=>t("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")},void 0,!1,{fileName:o,lineNumber:3104,columnNumber:61},void 0))},void 0,!1,{fileName:o,lineNumber:3101,columnNumber:49},void 0)))},void 0,!1,{fileName:o,lineNumber:3094,columnNumber:37},void 0)]},void 0,!0,{fileName:o,lineNumber:3056,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3055,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:3054,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:3053,columnNumber:13},void 0),t("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[t("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[t("select",{className:"form-control py-2 w-max",value:Pi,onChange:e=>Hi(Number(e.target.value)),children:[50,100,200].map(e=>t("option",{value:e,children:["Show ",e]},e,!0,{fileName:o,lineNumber:3126,columnNumber:29},void 0))},void 0,!1,{fileName:o,lineNumber:3120,columnNumber:21},void 0),t("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",t("span",{children:[Xl+1," of ",Dl.length]},void 0,!0,{fileName:o,lineNumber:3133,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:3131,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:3119,columnNumber:17},void 0),t("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Me(0),disabled:!Te,children:t(Y,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:o,lineNumber:3146,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:3140,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3139,columnNumber:21},void 0),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Oi(),disabled:!Te,children:"Prev"},void 0,!1,{fileName:o,lineNumber:3150,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3149,columnNumber:21},void 0),Dl.map((e,l)=>t("li",{children:t("button",{href:"#","aria-current":"page",className:` ${l===Xl?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>Me(l),children:e+1},void 0,!1,{fileName:o,lineNumber:3161,columnNumber:29},void 0)},l,!1,{fileName:o,lineNumber:3160,columnNumber:25},void 0)),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Ti(),disabled:!_e,children:"Next"},void 0,!1,{fileName:o,lineNumber:3175,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3174,columnNumber:21},void 0),t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{onClick:()=>Me(Li-1),disabled:!_e,className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,children:t(Y,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:o,lineNumber:3191,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:3185,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3184,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:3138,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:3118,columnNumber:13},void 0)]},void 0,!0)};var x="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\BookingTable.jsx";const Fn={option:(L,M)=>({...L,fontSize:"14px"})},wn=({title:L,linktitle:M,pagelink:R,handleDataUpdate:u})=>{const z=localStorage.getItem("isAuth"),V=JSON.parse(z),{data:J}=bi(V==null?void 0:V.roleid),[p,U]=r.exports.useState([]),[ee,K]=r.exports.useState(!1),[Le,ce]=r.exports.useState(""),[F,le]=r.exports.useState(""),[ke,ie]=r.exports.useState(!1);r.exports.useState({startDate:"",endDate:""});const[$,se]=r.exports.useState(""),He=[{value:"SELECT RESERVATION DATE",label:"SELECT RESERVATION DATE"},{value:"SELECT CHECK-IN DATE",label:"SELECT CHECK-IN DATE"},{value:"SELECT CHECK-OUT DATE",label:"SELECT CHECK-OUT DATE"}],[Re,ue]=r.exports.useState({startDate:"",endDate:""}),[Ie,Ae]=r.exports.useState({startDate:"",endDate:""}),[S,j]=r.exports.useState({startDate:"",endDate:""}),[i,d]=r.exports.useState(!1),a=async c=>{if($==="SELECT RESERVATION DATE"){ue(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.reservationdate),E=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),E.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<E||N>H)&&(h=!1)}return h});U(y),d(!0)}else if($==="SELECT CHECK-IN DATE"){Ae(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.checkindate),E=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),E.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<E||N>H)&&(h=!1)}return h});U(y),d(!0)}else if($==="SELECT CHECK-OUT DATE"){j(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.checkoutdate),E=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),E.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<E||N>H)&&(h=!1)}return h});U(y),d(!0)}},Ee=async()=>{K(!0);const y=await(await fetch("http://stg.srp.ai/booking")).json();U(y),le(y),ue({startDate:"",endDate:""}),Ae({startDate:"",endDate:""}),j({startDate:"",endDate:""}),se(""),K(!1),d(!1)},_=[{value:"All Booking",label:"All Booking"},{value:"Approved Booking",label:"Approved Booking"},{value:"Cancelled Booking",label:"Cancelled Booking"}],[C,Ul]=r.exports.useState("All Booking");r.exports.useEffect(()=>{C==="All Booking"?(async()=>{K(!0);const f=await(await fetch("http://stg.srp.ai/booking")).json();U(f),le(f),ce(f),K(!1)})():C==="Approved Booking"?(async()=>{K(!0);const f=await(await fetch("http://stg.srp.ai/booking/api/approvedbooking")).json();U(f),le(f),K(!1)})():C==="Cancelled Booking"&&(async()=>{K(!0);const f=await(await fetch("http://stg.srp.ai/booking/api/cancelledbooking?cancelled=true")).json();U(f),le(f),K(!1)})()},[C]);const[re,k]=r.exports.useState(0),W={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Wl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}};r.exports.useEffect(()=>{var c,y,f;if(C==="All Booking"){let h=0;for(let N=0;N<(p==null?void 0:p.length);N++){let E=parseFloat((c=p[N])==null?void 0:c.roomrentamount);!isNaN(E)&&((y=p[N])==null?void 0:y.cancelled)===!1&&(h+=E)}k(h||0)}else{let h=0;for(let N=0;N<(p==null?void 0:p.length);N++){let E=parseFloat((f=p[N])==null?void 0:f.roomrentamount);isNaN(E)||(h+=E)}k(h||0)}},[p==null?void 0:p.length,C]);const[Be,A]=r.exports.useState(0);r.exports.useEffect(()=>{if(C==="All Booking"||C==="Approved Booking"){let c=p==null?void 0:p.filter(y=>y.cancelled===!1).length;A(c)}else{let c=p==null?void 0:p.length;A(c)}},[C,p]);const q=[{name:W,title:"Total No of Check-In",count:Be,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:Wl,title:"Total Collection",count:re?re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"}];function Gl(c){if(c){const y=p.filter(f=>{ie(!0);let h=!0;return c.buildingid&&f.buildingid!==c.buildingid&&(h=!1),c.communityid&&f.communityid!==c.communityid&&(h=!1),c.owner_email&&f.owner_email!==c.owner_email&&(h=!1),c.projectnameid&&f.projectnameid!==c.projectnameid&&(h=!1),c.unitnumber&&f.unitnumber!==c.unitnumber&&(h=!1),c.email&&f.email!==c.email&&(h=!1),c.bookingagent&&f.bookingagent!==c.bookingagent&&(h=!1),h});U(y),ie(!1)}else U(F)}const Pe=async()=>{ie(!0),ue({startDate:"",endDate:""}),Ae({startDate:"",endDate:""}),j({startDate:"",endDate:""}),se(""),U(F),ie(!1),d(!1)};return t(P,{children:ee===!0?t(Ml,{},void 0,!1,{fileName:x,lineNumber:645,columnNumber:21},void 0):t(ri,{children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("h4",{className:"card-title",children:L},void 0,!1,{fileName:x,lineNumber:648,columnNumber:29},void 0),(J==null?void 0:J.createbooking)===!0&&t(w,{to:R,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:M},void 0,!1,{fileName:x,lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:x,lineNumber:647,columnNumber:25},void 0),t("div",{className:"grid grid-cols-12 gap-5 mb-5",children:t("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:[t(ri,{bodyClass:"p-4",children:t("div",{className:"grid md:grid-cols-2 col-span-1 gap-4",children:t(Kn,{statistics:q},void 0,!1,{fileName:x,lineNumber:694,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:693,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:657,columnNumber:33},void 0),t("div",{className:"flex justify-end items-center mb-[15px] mt-[25px]",children:t("div",{className:"flex justify-end items-center ",children:t("div",{className:"flex -gap-x-[5px] items-center",children:[t("div",{className:"w-[300px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:He,value:He.filter(function(c){return c.value===$}),onChange:c=>{se(c==null?void 0:c.value)},styles:Fn,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:x,lineNumber:701,columnNumber:49},void 0)},void 0,!1,{fileName:x,lineNumber:700,columnNumber:45},void 0),$&&$==="SELECT RESERVATION DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Il,{value:Re,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT RESERVATION DATE"},void 0,!1,{fileName:x,lineNumber:721,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:720,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:719,columnNumber:53},void 0):null,$&&$==="SELECT CHECK-IN DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Il,{value:Ie,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-IN DATE"},void 0,!1,{fileName:x,lineNumber:735,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:734,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:733,columnNumber:53},void 0):null,$&&$==="SELECT CHECK-OUT DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Il,{value:S,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-OUT DATE"},void 0,!1,{fileName:x,lineNumber:749,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:748,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:747,columnNumber:53},void 0):null]},void 0,!0,{fileName:x,lineNumber:699,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:698,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:697,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:656,columnNumber:29},void 0)},void 0,!1,{fileName:x,lineNumber:655,columnNumber:25},void 0),(F==null?void 0:F.length)&&(p==null?void 0:p.length)?t(Vn,{allBooking:p,handleDataUpdate:u,dataRole:J,forFilterData:Le,handleClearFilter:Pe,typeOfBooking:_,selectedtypeOfBooking:C,setSelectedtypeOfBooking:Ul,filterLoader:ke,handleFilterSearch:Gl,dataFilterActive:i,removeDateFilter:Ee},void 0,!1,{fileName:x,lineNumber:766,columnNumber:33},void 0):t("div",{className:"flex justify-center items-center",children:t("img",{src:Yn,alt:"NotFound",className:"h-[564px] object-contain"},void 0,!1,{fileName:x,lineNumber:768,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:767,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:646,columnNumber:21},void 0)},void 0,!1)};var Pl="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\booking-management\\AllBooking.jsx";const Oa=()=>{const[L,M]=r.exports.useState([]),[R,u]=r.exports.useState(!1);return r.exports.useEffect(()=>{u(!0),(async()=>{const p=await(await fetch("http://stg.srp.ai/booking")).json();M(p),u(!1)})()},[]),t(P,{children:R===!1?t("div",{className:" space-y-5",children:t(wn,{pagelink:"/add-booking",linktitle:"Add new Booking",title:"All Booking",allData:L,handleDataUpdate:()=>{(async()=>{u(!0);const p=await(await fetch("http://stg.srp.ai/booking")).json();M(p),u(!1)})()}},void 0,!1,{fileName:Pl,lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:Pl,lineNumber:73,columnNumber:21},void 0):t(Ml,{},void 0,!1,{fileName:Pl,lineNumber:75,columnNumber:30},void 0)},void 0,!1)};export{Oa as default};
