import{R as ll,j as s,F as H,bL as hl,r as d,b as Ce,c as u,f as sa,L as z,I as W,aq as Y,bP as sl,bN as fl,K as Ee,T as _e}from"./index.87c66dcd.js";import{G as aa}from"./GlobalFilter.9083cd8b.js";import{D as Pe}from"./DeleteParagraph.778c86bc.js";const ol=ll.forwardRef(({indeterminate:$,...T},E)=>{const r=ll.useRef(),A=E||r;return ll.useEffect(()=>{A.current.indeterminate=$},[A,$]),s(H,{children:s("input",{type:"checkbox",ref:A,...T,className:"table-checkbox"})})}),J={option:($,T)=>({...$,fontSize:"14px"})},ta=({showModal:$,handleClose:T,loaderModal:E,linkedData:r,handleDeleteData:A,dataId:i,moduleName:y,PropertyData:p,bookingData:o,tenantcontractData:b,propertyOwnerData:h,userName:x,dataRole:C})=>u("div",{className:"thumbnail-container",children:[$&&s("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px]",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[s("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Delete this ${y}?`}),s("img",{src:sl,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),E===!0?s(fl,{}):u(H,{children:[r!=null&&r.length?s("div",{className:"data-list-modal",children:u(H,{children:[u("h4",{className:"text-[16px] mb-[10px]",children:[s("span",{className:"font-bold",children:y})," ",x," is linked with the following modules:"]}),p!=null&&p.length?s("ul",{className:" mb-[10px] text-start",children:s("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[s("span",{className:"font-semibold mr-[5px]",children:"Property: "}),(C==null?void 0:C.deletepropert)===!0?s(H,{children:p==null?void 0:p.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-property/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==p.length-1?",":null]},v+1))}):s(Pe,{moduleName:y,linkedName:"Property"})]})})}):null,h!=null&&h.length?s("ul",{className:" mb-[10px] text-start",children:s("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[s("span",{className:"font-semibold mr-[5px]",children:"Property as an Owner Representative: "}),(C==null?void 0:C.deletepropert)===!0?s(H,{children:h==null?void 0:h.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-property/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==h.length-1?",":null]},v+1))}):s(Pe,{moduleName:y,linkedName:"Property"})]})})}):null,o!=null&&o.length?s("ul",{className:" mb-[10px] text-start",children:s("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[s("span",{className:"font-semibold mr-[5px]",children:"Booking: "}),(C==null?void 0:C.deletebooking)===!0?s(H,{children:o==null?void 0:o.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-booking/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.bookingnumber,v!==o.length-1?",":null]},v+1))}):s(Pe,{moduleName:y,linkedName:"Booking"})]})})}):null,b!=null&&b.length?s("ul",{className:" mb-[10px] text-start",children:s("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[s("span",{className:"font-semibold mr-[5px]",children:"Tenancy Contract: "}),(C==null?void 0:C.deletetenant)===!0?s(H,{children:b==null?void 0:b.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-tenantcontract/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==b.length-1?",":null]},v+1))}):s(Pe,{moduleName:y,linkedName:"Tenancy Contract"})]})})}):null]})}):null,u("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[(r==null?void 0:r.length)&&((p==null?void 0:p.length)||(h==null?void 0:h.length)||(o==null?void 0:o.length)||(b==null?void 0:b.length))?s("p",{className:" mt-[10px]",children:`This ${y} is already linked. Please first delete these entries which are linked it with`}):null,!(r!=null&&r.length)&&!(p!=null&&p.length)&&!(h!=null&&h.length)&&!(o!=null&&o.length)&&!(b!=null&&b.length)?s("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>A(i),children:"Delete"}):null]})]})]})}),s(H,{})]}),na=({assignModal:$,handleCloseAssignModal:T,moduleName:E,selectedCustomerId:r,employeeAgent:A,selectedAgent:i,setSelectedAgent:y,addAgentToCustomer:p})=>s("div",{className:"thumbnail-container",children:$&&s("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px]",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[s("h5",{className:" text-[18px] capitalize",children:`${E}`}),s("img",{src:sl,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),u("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:[s("label",{htmlFor:" hh",className:"form-label text-start",children:"Select Agent:"}),s("div",{className:"w-[100%]",children:s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A,value:A.filter(function(o){return o.value===i}),onChange:o=>{y(o==null?void 0:o.value)},styles:J,id:"hh"})})]}),s("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:i!==void 0&&i!==""?s("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:()=>p(r),children:"Add"}):null})]})})}),ca=({showNotesModal:$,handleCloseNoteModal:T,moduleName:E,allNotes:r,handleChangeData:A,notesData:i,handleAddNotesData:y})=>s("div",{className:"thumbnail-container",children:$&&s("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px] max-h-[700px] overflow-y-scroll",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[s("h5",{className:" text-[18px] capitalize",children:`${E}`}),s("img",{src:sl,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),s("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:s("div",{className:"w-[100%] text-start",children:u("div",{class:"fromGroup       ",children:[s("div",{className:"flex gap-x-[15px] items-center",children:s("label",{for:"pn4",class:"block form-label  normal-case",children:"Type Your Note"})}),u("div",{class:"relative ",children:[s("textarea",{class:"  form-control py-2   ",placeholder:"Type Your Note Here...",id:"pn4",rows:"3",value:i,onChange:A}),s("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})})}),s("div",{className:"mb-[15px] max-h-[700px] flex justify-end",children:i!==""?s("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:y,children:"Send"}):null}),s(H,{children:r!=null&&r.length?s(H,{children:r==null?void 0:r.map((p,o)=>s("div",{class:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:s("div",{class:"w-[100%] text-start",children:u("div",{class:"fromGroup       ",children:[s("div",{className:"flex gap-x-[15px] items-center",children:u("label",{for:"pn4",class:"block form-label  normal-case",children:["Note by ",p==null?void 0:p.employee_email,s("span",{className:"ml-[10px]",children:"-"}),s("span",{className:"ml-[10px]",children:"created at: "+new Date(p==null?void 0:p.createdAt).toDateString()})]})}),u("div",{class:"relative ",children:[s("textarea",{class:"  form-control py-2   ",placeholder:"Textarea",id:"pn4",rows:"3",value:p==null?void 0:p.note_text,readOnly:!0}),s("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})})},o==null?void 0:o._id))}):null})]})})}),ia=({title:$,linktitle:T,pagelink:E,allCustomers:r,onDataUpdate:A,forFilterData:i,handleFilterSearch:y,handleClearFilter:p})=>{const o=localStorage.getItem("isAuth"),b=JSON.parse(o),{data:h}=hl(b==null?void 0:b.roleid),[x,C]=d.exports.useState(!1),[c,v]=d.exports.useState(!1),[vl,bl]=d.exports.useState(""),[xl,yl]=d.exports.useState(""),[gl,Be]=d.exports.useState(""),[Nl,We]=d.exports.useState(""),[Cl,Ie]=d.exports.useState(""),[_l,Me]=d.exports.useState(""),[Sl,Tl]=d.exports.useState(""),[kl,qe]=d.exports.useState(!1),[Al,Ue]=d.exports.useState(""),[Se,$l]=d.exports.useState(!1),[t,_]=d.exports.useState({firstname:"",lastname:"",email:"",subType:"",agent:""}),[n,al]=d.exports.useState({firstname:"",lastname:"",email:"",subType:"",agent:""}),[M,Te]=d.exports.useState(""),[U,K]=d.exports.useState(""),[q,Q]=d.exports.useState(""),[L,X]=d.exports.useState(""),[ma,Hl]=d.exports.useState(""),Z=e=>{const{name:l,value:a}=e.target;_(m=>({...m,[l]:a})),al(m=>({...m,[l]:a}))};d.exports.useEffect(()=>(n.firstname&&(K(n.firstname),Q(n.firstname),X(n.firstname)),n.lastname&&(Te(n.lastname),Q(n.lastname),X(n.lastname)),n.email&&(K(n.email),Te(n.email),X(n.email)),n.subType&&(K(n.subType),Te(n.subType),Q(n.subType)),()=>{Te(""),K(""),Q(""),X("")}),[n]);const R=e=>{const{name:l,value:a}=e.target;n.firstname&&_({...t,[l]:a}),n.lastname&&_({...t,[l]:a}),n.email&&_({...t,[l]:a}),n.subType&&_({...t,[l]:a})},Le=e=>{const{name:l,value:a}=e.target;n.firstname&&_({...t,[l]:a}),n.lastname&&_({...t,[l]:a}),n.email&&_({...t,[l]:a}),n.subType&&_({...t,[l]:a})},tl=e=>{const{name:l,value:a}=e.target;n.firstname&&_({...t,[l]:a}),n.lastname&&_({...t,[l]:a}),n.email&&_({...t,[l]:a}),n.subType&&_({...t,[l]:a})},El=async e=>{if(C(!0),v(!0),e)try{const l=`http://portals.rarehomesgroup.com/booking/api/allbooking/forproperty?customerid=${e==null?void 0:e._id}`,a=`http://portals.rarehomesgroup.com/property/api/advancesearch?customerid=${e==null?void 0:e._id}&softdelete=false`,m=`http://portals.rarehomesgroup.com/tenantcontract/api/propertydelete?customerid=${e==null?void 0:e._id}`,f=`http://portals.rarehomesgroup.com/property/api/advancesearch?owner_representative_id=${e==null?void 0:e._id}&softdelete=false`,k=await fetch(l);if(!k.ok&&k.status!==400)throw new Error(`API 1 failed with status: ${k.status}`);const I=k.status===400?[]:await k.json(),N=await fetch(a);if(!N.ok&&N.status!==400)throw new Error(`API 2 failed with status: ${N.status}`);const S=N.status===400?[]:await N.json(),P=await fetch(m);if(!P.ok&&P.status!==400)throw new Error(`API 3 failed with status: ${P.status}`);const G=P.status===400?[]:await P.json(),B=await fetch(f);if(!B.ok&&B.status!==400)throw new Error(`API 4 failed with status: ${B.status}`);const j=B.status===400?[]:await B.json(),V=[...I,...S,...G,...j];Be(I),We(S),Ie(G),Me(j),bl(V),yl(e==null?void 0:e._id),Tl(e==null?void 0:e.email),v(!1)}catch(l){console.error("Error fetching data:",l),v(!1)}},Pl=()=>{C(!1),Be(""),We(""),Ie(""),Me("")},Bl=async e=>{try{await Ee.patch("http://portals.rarehomesgroup.com/users/api/specific/userupdate",{_id:e,softdelete:!0}),A(),Be(""),We(""),Ie(""),Me("")}catch(l){console.log(l,"error")}},[ua,Wl]=d.exports.useState([]),[Il,nl]=d.exports.useState([]),[cl,ke]=d.exports.useState(""),[Ml,il]=d.exports.useState(""),ql=e=>{qe(!0),Ue(e==null?void 0:e._id),e!=null&&e.employeeid&&il(e==null?void 0:e.employeeid),ke(e==null?void 0:e.employeeid)},Ul=()=>{qe(!1),Ue(""),ke("")};d.exports.useEffect(()=>{(async()=>{const a=await(await fetch("http://portals.rarehomesgroup.com/roles/api/search/Property Consultant")).json();Wl(a==null?void 0:a.roles)})()},[]),d.exports.useEffect(()=>{(async()=>{var l;try{const a=await Ee.get("http://portals.rarehomesgroup.com/employees/");if(nl(a.data),a!=null&&a.data){const m=(l=a.data)==null?void 0:l.map(f=>({label:f.firstname+" "+f.lastname+" | "+f.email,value:f._id}));nl(m)}}catch(a){console.error("Error fetching data:",a)}})()},[]);const Ll=async e=>{try{await Ee.patch("http://portals.rarehomesgroup.com/users/api/specific/userupdate",{_id:e,employeeid:cl}),A(),ke(""),qe(!1),Ue("")}catch(l){console.log(l,"error")}},[Gl,ml]=d.exports.useState(!1),[ul,jl]=d.exports.useState(""),[Vl,Ge]=d.exports.useState([]),[je,Ve]=d.exports.useState(""),zl=async e=>{if(ml(!0),jl(e==null?void 0:e._id),e)try{const l=`http://portals.rarehomesgroup.com/note/api/search?module_id=${e==null?void 0:e._id}`,a=await fetch(l);if(!a.ok&&a.status!==400)throw new Error(`API 2 failed with status: ${a.status}`);const m=a.status===400?[]:await a.json();Ge(m)}catch(l){console.error("Error fetching data:",l)}},Yl=()=>{ml(!1),Ge([]),Ve("")},Jl=e=>{Ve(e.target.value)},Kl=async()=>{if(je!==""&&await Ee.post("http://portals.rarehomesgroup.com/note",{note_text:je,module_id:ul,commentator_id:b==null?void 0:b._id}))try{const l=`http://portals.rarehomesgroup.com/note/api/search?module_id=${ul}`,a=await fetch(l);if(!a.ok&&a.status!==400)throw new Error(`API 2 failed with status: ${a.status}`);const m=a.status===400?[]:await a.json();Ge(m),Ve("")}catch(l){console.error("Error fetching data:",l)}};function g(e){const l={},a=[];for(const m of e){const f=`${m==null?void 0:m.label}|${m==null?void 0:m.value}`;l[f]||(a.push(m),l[f]=!0)}return a}const Ql=[{Header:"Id",accessor:"id",Cell:({row:e,flatRows:l})=>s("span",{children:l.indexOf(e)+1})},{Header:"Customer_type",accessor:"subType",Cell:e=>{const{original:l}=e==null?void 0:e.row,{subType:a}=l;return s("span",{className:"block w-full",children:s("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${a==="owner"?"text-green-500 bg-green-500":a==="tenant"?"text-blue-500 bg-blue-500":a==="guest"?"text-purple-500 bg-purple-500":"text-red-500 bg-red-500"}`,children:a||"customer"})})}},{Header:"Name",accessor:e=>`${e.firstname} ${e.lastname}`,Cell:e=>{var l;return s("span",{children:(l=e==null?void 0:e.cell)==null?void 0:l.value})}},{Header:"Email",accessor:"email",Cell:e=>{var l;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)==null?void 0:l.value})})})}},{Header:"Age",accessor:"user_age",Cell:e=>{var l,a,m;return s("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)||((a=e==null?void 0:e.cell)==null?void 0:a.value)===0?(m=e==null?void 0:e.cell)==null?void 0:m.value:"Not Available"})}},{Header:"date of birth",accessor:"datebirth",Cell:e=>{var l,a;return s("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})}},{Header:"status",accessor:"isCpmleted",Cell:e=>{var l,a,m;return s("span",{className:"block w-full",children:s("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"text-success-500 bg-success-500":""} 
                ${((a=e==null?void 0:e.cell)==null?void 0:a.value)===!1?"text-danger-500 bg-danger-500":""}
                
                 `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Completed":"Not Completed"})})}},{Header:"What'sApp no",accessor:"whatsappno",Cell:e=>{var l,a,m,f;return s("a",{href:`${(l=e==null?void 0:e.cell)!=null&&l.value?`https://wa.me/${(a=e==null?void 0:e.cell)==null?void 0:a.value}`:"#"}`,target:"_blank",rel:"noreferrer",children:(m=e==null?void 0:e.cell)!=null&&m.value?(f=e==null?void 0:e.cell)==null?void 0:f.value:"Not Available"})}},{Header:"Password",accessor:"password",Cell:e=>{var f,k;const[l,a]=d.exports.useState(!1),m=()=>{a(!l)};return s("div",{children:(f=e==null?void 0:e.cell)!=null&&f.value?u("span",{className:"flex items-center justify-between",children:[s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:l===!0?(k=e==null?void 0:e.cell)==null?void 0:k.value:"........"}),s("span",{className:"cursor-pointer text-secondary-500  select-none",onClick:m,children:l===!0?s(W,{icon:"heroicons-outline:eye"}):s(W,{icon:"heroicons-outline:eye-off"})})]}):s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Not Available"})})})}},{Header:"Phone Number",accessor:"contactno",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"Assigned Agent",accessor:"employee_email",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"Alt Email",accessor:"altemail",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"Alt Number",accessor:"altmobilenumber",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"Nationality",accessor:"passportno",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"name on passport",accessor:"nameonpassport",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"country of residence",accessor:"countryofresidence",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"postal address",accessor:"postaladdress",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"primary no",accessor:"primaryno",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"passport id no",accessor:"passportidno",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"passport issue",accessor:"passportissue",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})})})}},{Header:"passport expiry",accessor:"passportexpiry",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})})})}},{Header:"national id no",accessor:"nationalidno",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"national id issue date",accessor:"nationalidissuedate",Cell:e=>{var l,a;return s("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})}},{Header:"national id expiry",accessor:"nationalidexpiry",Cell:e=>{var l,a;return s("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})}},{Header:"resident status",accessor:"residentstatus",Cell:e=>{var l,a;return s("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})}},{Header:"passport pdf",accessor:"passportpdf",Cell:e=>{var l,a,m,f,k,I,N,S,P,G,B,j,V,D,w,ee,le,se,ae,te,ne,ce,ie,me,ue,de,pe,re,he,oe,fe,ve,be,xe,ye,ge,Ne;return s("span",{className:"block w-full",children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)!==void 0&&((m=e==null?void 0:e.cell)==null?void 0:m.value)!==null&&((f=e==null?void 0:e.cell)==null?void 0:f.value)!=="undefined"&&((k=e==null?void 0:e.cell)==null?void 0:k.value)!=="null"&&((I=e==null?void 0:e.cell)==null?void 0:I.value)!==""?s("a",{href:`${((N=e==null?void 0:e.cell)==null?void 0:N.value)&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!==void 0&&((P=e==null?void 0:e.cell)==null?void 0:P.value)!==null&&((G=e==null?void 0:e.cell)==null?void 0:G.value)!=="undefined"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!=="null"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!==""?(V=e==null?void 0:e.cell)==null?void 0:V.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!=="null"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((te=e==null?void 0:e.cell)==null?void 0:te.value)&&((ne=e==null?void 0:e.cell)==null?void 0:ne.value)!==void 0&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!==null&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="undefined"&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"}):s("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((de=e==null?void 0:e.cell)==null?void 0:de.value)&&((pe=e==null?void 0:e.cell)==null?void 0:pe.value)!==void 0&&((re=e==null?void 0:e.cell)==null?void 0:re.value)!==null&&((he=e==null?void 0:e.cell)==null?void 0:he.value)!=="undefined"&&((oe=e==null?void 0:e.cell)==null?void 0:oe.value)!=="null"&&((fe=e==null?void 0:e.cell)==null?void 0:fe.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ve=e==null?void 0:e.cell)==null?void 0:ve.value)&&((be=e==null?void 0:e.cell)==null?void 0:be.value)!==void 0&&((xe=e==null?void 0:e.cell)==null?void 0:xe.value)!==null&&((ye=e==null?void 0:e.cell)==null?void 0:ye.value)!=="undefined"&&((ge=e==null?void 0:e.cell)==null?void 0:ge.value)!=="null"&&((Ne=e==null?void 0:e.cell)==null?void 0:Ne.value)!==""?"View":"Not Available"})})}},{Header:"national id pdf",accessor:"nationalidpdf",Cell:e=>{var l,a,m,f,k,I,N,S,P,G,B,j,V,D,w,ee,le,se,ae,te,ne,ce,ie,me,ue,de,pe,re,he,oe,fe,ve,be,xe,ye,ge,Ne;return s("span",{className:"block w-full",children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((a=e==null?void 0:e.cell)==null?void 0:a.value)!==void 0&&((m=e==null?void 0:e.cell)==null?void 0:m.value)!==null&&((f=e==null?void 0:e.cell)==null?void 0:f.value)!=="undefined"&&((k=e==null?void 0:e.cell)==null?void 0:k.value)!=="null"&&((I=e==null?void 0:e.cell)==null?void 0:I.value)!==""?s("a",{href:`${((N=e==null?void 0:e.cell)==null?void 0:N.value)&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!==void 0&&((P=e==null?void 0:e.cell)==null?void 0:P.value)!==null&&((G=e==null?void 0:e.cell)==null?void 0:G.value)!=="undefined"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!=="null"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!==""?(V=e==null?void 0:e.cell)==null?void 0:V.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!=="null"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((te=e==null?void 0:e.cell)==null?void 0:te.value)&&((ne=e==null?void 0:e.cell)==null?void 0:ne.value)!==void 0&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!==null&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="undefined"&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"}):s("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((de=e==null?void 0:e.cell)==null?void 0:de.value)&&((pe=e==null?void 0:e.cell)==null?void 0:pe.value)!==void 0&&((re=e==null?void 0:e.cell)==null?void 0:re.value)!==null&&((he=e==null?void 0:e.cell)==null?void 0:he.value)!=="undefined"&&((oe=e==null?void 0:e.cell)==null?void 0:oe.value)!=="null"&&((fe=e==null?void 0:e.cell)==null?void 0:fe.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ve=e==null?void 0:e.cell)==null?void 0:ve.value)&&((be=e==null?void 0:e.cell)==null?void 0:be.value)!==void 0&&((xe=e==null?void 0:e.cell)==null?void 0:xe.value)!==null&&((ye=e==null?void 0:e.cell)==null?void 0:ye.value)!=="undefined"&&((ge=e==null?void 0:e.cell)==null?void 0:ge.value)!=="null"&&((Ne=e==null?void 0:e.cell)==null?void 0:Ne.value)!==""?"View":"Not Available"})})}},{Header:"Created By",accessor:"employee_email_createdBy",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var l;return s("span",{children:new Date((l=e==null?void 0:e.cell)==null?void 0:l.value).toDateString()})}},{Header:"Updated By",accessor:"employee_email_updatedBy",Cell:e=>{var l,a;return s("div",{children:s("span",{className:"inline-flex items-center",children:s("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(a=e==null?void 0:e.cell)==null?void 0:a.value:"Not Available"})})})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var l,a;return s("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString():"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{const l=localStorage.getItem("isAuth"),a=JSON.parse(l),{data:m}=hl(a==null?void 0:a.roleid);if(!m)return null;const f=(m==null?void 0:m.readcustomer)===!0,k=(m==null?void 0:m.updatecustomer)===!0,I=(m==null?void 0:m.deletecustomer)===!0;return u("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[f&&s(_e,{content:"assign to agent",placement:"top",arrow:!0,animation:"shift-away",children:s("button",{className:"action-btn",type:"button",onClick:()=>{var N,S;return ql((S=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:S.original)},children:s(W,{icon:"heroicons:user-plus"})})}),f&&s(_e,{content:"notes",placement:"top",arrow:!0,animation:"shift-away",children:s("button",{className:"action-btn",type:"button",onClick:()=>{var N,S;return zl((S=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:S.original)},children:s(W,{icon:"heroicons:chat-bubble-left-right"})})}),f&&s(_e,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:s(z,{to:`/view-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:s(W,{icon:"heroicons:eye"})})}),k&&s(_e,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:s(z,{to:`/update-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:s(W,{icon:"heroicons:pencil-square"})})}),I&&s(_e,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:s("button",{className:"action-btn",type:"button",onClick:()=>{var N,S;return El((S=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:S.original)},children:s(W,{icon:"heroicons:trash"})})})]})}}],Xl=d.exports.useMemo(()=>Ql,[]),Zl=d.exports.useMemo(()=>r),Rl=Ce.exports.useTable({columns:Xl,data:Zl,initialState:{pageIndex:0,pageSize:50}},Ce.exports.useGlobalFilter,Ce.exports.useSortBy,Ce.exports.usePagination,Ce.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:a})=>s("div",{children:s(ol,{...a()})}),Cell:({row:a})=>s("div",{children:s(ol,{...a.getToggleRowSelectedProps()})})},...l])}),{getTableProps:Ol,getTableBodyProps:Fl,headerGroups:Dl,footerGroups:da,page:wl,nextPage:es,previousPage:ls,canNextPage:Ae,canPreviousPage:$e,pageOptions:dl,state:ss,gotoPage:ze,pageCount:as,setPageSize:ts,setGlobalFilter:ns,prepareRow:cs}=Rl,{globalFilter:is,pageIndex:pl,pageSize:ms}=ss,us=i==null?void 0:i.filter(e=>e.firstname!==void 0),O=[...new Set(us.map(e=>e.firstname))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),ds=i==null?void 0:i.filter(e=>e.lastname!==void 0),rl=[...new Set(ds.map(e=>e.lastname))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>{const l=i.find(a=>a.lastname===e);return l?{label:l.lastname,value:l.lastname}:null}).filter(Boolean),ps=i==null?void 0:i.filter(e=>e.email!==void 0),Ye=[...new Set(ps.map(e=>e.email))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>{const l=i.find(a=>a.email===e);return l?{label:l.email,value:l.email}:null}).filter(Boolean),rs=i==null?void 0:i.filter(e=>e.subType!==void 0),Je=[...new Set(rs.map(e=>e.subType))].map(e=>{const l=i.find(a=>a.subType===e);return l?{label:l.subType,value:l.subType}:null}).filter(Boolean),hs=i==null?void 0:i.filter(e=>e.employee_email!==void 0),He=[...new Set(hs.map(e=>e.employee_email))].map(e=>{const l=i.find(a=>a.employee_email===e);return l?{label:l.employee_email,value:l.employee_email}:null}).filter(Boolean);console.log("employee_emailsOptions",He);const os=i.filter(e=>e.firstname===n.firstname).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),fs=i.filter(e=>e.firstname===n.firstname).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),vs=i.filter(e=>e.firstname===n.firstname).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),bs=i.filter(e=>e.firstname===n.firstname).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),xs=g(os),ys=g(fs),gs=g(vs),Ns=g(bs),Ke=xs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=ys.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),F=gs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Ns.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),console.log("*********",F);const Cs=i.filter(e=>e.lastname===n.lastname).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),_s=i.filter(e=>e.lastname===n.lastname).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),Ss=i.filter(e=>e.lastname===n.lastname).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Ts=i.filter(e=>e.lastname===n.lastname).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),ks=g(Cs),As=g(_s),$s=g(Ss),Hs=g(Ts),Es=ks.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Xe=As.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ze=$s.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Hs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Ps=i.filter(e=>e.email===n.email).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),Bs=i.filter(e=>e.email===n.email).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Ws=i.filter(e=>e.email===n.email).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Is=i.filter(e=>e.email===n.email).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),Ms=g(Ps),qs=g(Bs),Us=g(Ws),Ls=g(Is),Re=Ms.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Oe=qs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fe=Us.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Ls.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Gs=i.filter(e=>e.subType===n.subType).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),js=i.filter(e=>e.subType===n.subType).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Vs=i.filter(e=>e.subType===n.subType).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),zs=i.filter(e=>e.subType===n.subType).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),Ys=g(Gs),Js=g(js),Ks=g(Vs),Qs=g(zs),De=Ys.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=Js.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=Ks.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Qs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Xs=i.filter(e=>e.employee_email===n.agent).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),Zs=i.filter(e=>e.employee_email===n.agent).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Rs=i.filter(e=>e.employee_email===n.agent).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),Os=i.filter(e=>e.employee_email===n.agent).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Fs=g(Xs),Ds=g(Zs),ws=g(Rs),ea=g(Os);Fs.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ds.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ws.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ea.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const la=()=>{p(),_(""),K(""),Q(""),al(""),X(""),Hl("")};return s(H,{children:u(sa,{children:[u("div",{className:"flex justify-between items-center mb-6",children:[s("h4",{className:"card-title",children:$}),(h==null?void 0:h.createcustomer)===!0&&s(z,{to:E,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:T})]}),u("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[u("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>$l(!Se),children:[Se===!0?s(W,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):s(W,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),s("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),s(aa,{filter:is,setFilter:ns})]}),u("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[u("div",{children:[s("label",{htmlFor:" hh",className:"form-label ",children:"First Name"}),s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:M?n.email&&M?Re:n.subType&&M?De:Es:O,value:M?n.email&&M?Re&&Re.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):n.subType&&M?De&&De.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):O&&O.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):O&&O.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}),onChange:e=>{M?n.email&&M?R({target:{name:"firstname",value:e.value}}):n.subType&&M?R({target:{name:"firstname",value:e.value}}):R({target:{name:"firstname",value:e.value}}):Z({target:{name:"firstname",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.firstname?s("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,firstname:""}),children:"Clear filter"}):null]}),u("div",{children:[s("label",{htmlFor:" hh",className:"form-label ",children:"Last Name"}),s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:U?n.email&&U?Oe:n.subType&&U?we:Ke:rl,value:U?n.email&&U?Oe&&Oe.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):n.subType&&U?we&&we.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):Ke&&Ke.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):rl.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}),onChange:e=>{U?n.subType&&U?R({target:{name:"lastname",value:e.value}}):R({target:{name:"lastname",value:e.value}}):Z({target:{name:"lastname",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.lastname?s("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,lastname:""}),children:"Clear filter"}):null]}),u("div",{children:[s("label",{htmlFor:" hh",className:"form-label ",children:"Email"}),s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:q?n.lastname&&q?Xe:n.subType&&q?el:Qe:Ye,value:q?n.lastname&&q?Xe&&Xe.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):n.subType&&q?el&&el.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):Qe&&Qe.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):Ye&&Ye.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}),onChange:e=>{q?n.lastname&&q?Le({target:{name:"email",value:e.value}}):n.subType&&q?Le({target:{name:"email",value:e.value}}):Le({target:{name:"email",value:e.value}}):Z({target:{name:"email",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.email?s("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,email:""}),children:"Clear filter"}):null]}),u("div",{children:[s("label",{htmlFor:" hh",className:"form-label ",children:"Customer_Type"}),console.log("============>",F),s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:L?n.lastname&&L?Ze:n.email&&L?Fe:F:Je,value:L?n.lastname&&L?Ze&&Ze.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):n.email&&L?Fe&&Fe.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):F&&F.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):Je&&Je.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}),onChange:e=>{L?n.lastname&&L?tl({target:{name:"subType",value:e.value}}):tl({target:{name:"subType",value:e.value}}):Z({target:{name:"subType",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.subType?s("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,subType:""}),children:"Clear filter"}):null]}),u("div",{children:[s("label",{htmlFor:" hh",className:"form-label ",children:"Agents"}),s(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:He,value:He&&He.filter(function(e){if((t==null?void 0:t.employee_email)!=="")return e.value===(t==null?void 0:t.employee_email)}),onChange:e=>{Z({target:{name:"employee_email",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.employee_email?s("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,employee_email:""}),children:"Clear filter"}):null]})]}),u("div",{className:`flex ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[s("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>la(),children:"Clear filter"}),s("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>y(t),children:"Search"})]}),s(ta,{showModal:x,handleClose:Pl,loaderModal:c,dataRole:h,linkedData:vl,handleDeleteData:Bl,dataId:xl,moduleName:"Customer",bookingData:gl,PropertyData:Nl,tenantcontractData:Cl,propertyOwnerData:_l,userName:Sl}),s(na,{handleCloseAssignModal:Ul,assignModal:kl,selectedCustomerId:Al,moduleName:"Assign an Agent",employeeAgent:Il,addAgentToCustomer:Ll,selectedAgent:cl,setSelectedAgent:ke,employee_id:Ml,setEmployee_id:il}),s(ca,{showNotesModal:Gl,handleCloseNoteModal:Yl,moduleName:"Notes",allNotes:Vl,handleChangeData:Jl,notesData:je,handleAddNotesData:Kl}),s("div",{className:"overflow-x-auto -mx-6 mt-6",children:s("div",{className:"inline-block min-w-full align-middle",children:s("div",{className:" ",children:u("table",{className:"min-w-[140%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...Ol,children:[s("thead",{className:"bg-slate-200 dark:bg-slate-700",children:Dl.map(e=>s("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((h==null?void 0:h.readcustomer)===!0||(h==null?void 0:h.updatecustomer)===!0||(h==null?void 0:h.deletecustomer)===!0)?s("th",{}):u("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),s("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),s("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...Fl,children:wl.map(e=>(cs(e),s("tr",{...e.getRowProps(),children:e.cells.map(l=>s("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")}))})))})]})})})}),u("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[u("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[s("select",{className:"form-control py-2 w-max",value:ms,onChange:e=>ts(Number(e.target.value)),children:[10,25,50].map(e=>u("option",{value:e,children:["Show ",e]},e))}),u("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",u("span",{children:[pl+1," of ",dl.length]})]})]}),u("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[s("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:s("button",{className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ze(0),disabled:!$e,children:s(W,{icon:"heroicons:chevron-double-left-solid"})})}),s("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:s("button",{className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ls(),disabled:!$e,children:"Prev"})}),dl.map((e,l)=>s("li",{children:s("button",{href:"#","aria-current":"page",className:` ${l===pl?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>ze(l),children:e+1})},l)),s("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:s("button",{className:` ${Ae?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>es(),disabled:!Ae,children:"Next"})}),s("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:s("button",{onClick:()=>ze(as-1),disabled:!Ae,className:` ${Ae?"":"opacity-50 cursor-not-allowed"}`,children:s(W,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})})},ya=()=>{const[$,T]=d.exports.useState([]),[E,r]=d.exports.useState(!1),[A,i]=d.exports.useState(""),[y,p]=d.exports.useState("");d.exports.useEffect(()=>{r(!0),(async()=>{const c=await(await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();T(c==null?void 0:c.users),i(c==null?void 0:c.users),p(c==null?void 0:c.users),r(!1)})()},[]);const o=()=>{r(!0),(async()=>{const c=await(await fetch("http://portals.rarehomesgroup.com/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();T(c==null?void 0:c.users),i(c==null?void 0:c.users),p(c==null?void 0:c.users),r(!1)})()};function b(x){if(x){const C=y.filter(c=>{let v=!0;return x.firstname&&c.firstname!==x.firstname&&(v=!1),x.lastname&&c.lastname!==x.lastname&&(v=!1),x.email&&c.email!==x.email&&(v=!1),x.subType&&c.subType!==x.subType&&(v=!1),x.passportidno&&c.passportidno!==x.passportidno&&(v=!1),x.nationalidno&&c.nationalidno!==x.nationalidno&&(v=!1),x.employee_email&&c.employee_email!==x.employee_email&&(v=!1),v});T(C),r(!1)}else T(y)}const h=async()=>{T(y),r(!1)};return s(H,{children:E===!1&&(y==null?void 0:y.length)?s("div",{className:" space-y-5",children:s(ia,{pagelink:"/add-customer",linktitle:"Add new Customer",title:"All Customer",allCustomers:$,forFilterData:A,onDataUpdate:o,handleFilterSearch:b,handleClearFilter:h})}):s(fl,{})})};export{ya as default};
