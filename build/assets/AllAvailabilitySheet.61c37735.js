import{R as ge,j as l,F as m,c9 as Ge,r as N,M as Ml,O as Bl,b as y,C as Qe,I as G,an as Q,cb as Ve,L as Je,cq as Ll,cr as ie,ca as Ul}from"./index.5e55c1ba.js";import{T as ve}from"./Tooltip.4c4c7a86.js";import{r as w}from"./index.c89ffb9d.js";import{G as El}from"./GlobalFilter.2b1d860a.js";import{G as Ol}from"./group-chart-1.095f32b1.js";import{B as Fl}from"./Button.8a2ac2ef.js";import{M as Tl}from"./Modal.7f5fdd60.js";/* empty css                     */import"./react-apexcharts.min.f6d70275.js";const Xl=ge.forwardRef(({indeterminate:M,...x},B)=>{const H=ge.useRef(),A=B||H;return ge.useEffect(()=>{A.current.indeterminate=M},[A,M]),l(m,{children:l("input",{type:"checkbox",ref:A,...x,className:"table-checkbox"})})}),J={option:(M,x)=>({...M,fontSize:"14px"})},ql=({showModal:M,handleClose:x,handleDeleteData:B,dataIdHai:H,deleteLoader:A})=>(console.log(H,"dataIdHai"),l("div",{className:"thumbnail-container",children:M&&l("div",{className:"modal-overlay-property",children:y("div",{className:"modal-new w-[800px]",children:[y("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:"Are You Sure you Want to Delete this Availability Sheet?"}),l("img",{src:Ve,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:x})]}),y("div",{className:"mb-[15px] relative",children:[l("div",{className:`${A===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn inline-flex justify-center btn-danger",onClick:()=>B(H),children:"Delete"})}),A===!0?l("div",{className:" absolute top-[0] x-axis-center w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"})}):null]})]})})})),Yl=({showModal:M,handleClose:x,deleteLoader:B,multiModalHeading:H,handlepropertystatusChange:A})=>l("div",{className:"thumbnail-container",children:M&&l("div",{className:"modal-overlay-property",children:y("div",{className:"modal-new w-[800px]",children:[y("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Unlist ${H}`}),l("img",{src:Ve,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:x})]}),y("div",{className:"mb-[15px] relative",children:[l("div",{className:`${B===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn inline-flex justify-center btn-danger",onClick:A,children:"Yes"})}),B===!0?l("div",{className:" absolute top-[0] x-axis-center w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"})}):null]})]})})}),zl=({title:M,allCustomers:x,handleDataUpdate:B,AllProperty:H,ForRent:A,ForSale:$,ForShortTerm:L})=>{var Te,Xe,qe;const de=localStorage.getItem("isAuth"),R=JSON.parse(de),{data:P}=Ge(R==null?void 0:R.roleid),[ue,V]=N.exports.useState(!1),[re,pe]=N.exports.useState(!1),[oe,W]=N.exports.useState(""),[Z,ee]=N.exports.useState(""),[me,Y]=N.exports.useState(!1),[i,E]=N.exports.useState(""),[C,le]=N.exports.useState(""),[xe,ae]=N.exports.useState(!1),K=e=>{const{name:a,value:t}=e.target;E({...i,[a]:t})},[ye,U]=N.exports.useState(""),[te,We]=N.exports.useState(!1),Ke=async(e,a)=>{pe(!0),W(e),ee(a),Y(!1)},[Re]=Ml(),[Ne]=Bl(),Ze=async e=>{try{Y(!0);const a=new FormData;a.append("_id",Z==null?void 0:Z.porpertyid),a.append("unlisted",!1),a.append("is_available",!1),a.append("available_for",""),a.append("available_id","000000000000000000000000"),await Re(a),await Ne({_id:e,softdelete:!0}),B(),pe(!1),Y(!1)}catch(a){console.log(a,"error")}},[j,we]=N.exports.useState("Available Property"),[ke,I]=N.exports.useState([]),_e=[{value:"Available Property",label:"Available Property"},{value:"For Sale",label:"For Sale"},{value:"For Rent",label:"For Rent"},{value:"Short Term",label:"Short Term"},{value:"All Property",label:"All Property"}];N.exports.useEffect(()=>{j==="Available Property"?(I(x),U(x)):j==="For Sale"?(I($),U($)):j==="For Rent"?(I(A),U(A)):j==="Short Term"?(I(L),U(L)):j==="All Property"&&(I(H),U(H))},[j,x,$,A,H]);const[el,he]=N.exports.useState(""),[Se,be]=N.exports.useState(),ll=(e,a,t,c)=>{he(e),V(!0),W(t),ee(a),Y(!1),be(c)},al=async()=>{let e=[];C.multivaluation&&Array.isArray(C.multivaluation)&&(e=[...C.multivaluation]);const a=e[Se]||{};e[Se]={...a,unlisted:!0,unlist_date:new Date};const t={...C,multivaluation:e};try{Y(!0),await Ne(t),B(),setTimeout(()=>{V(!1),Y(!1)},1500)}catch(c){console.log(c,"error")}},Ae=()=>{V(!1),he(""),W(""),ee(""),be(),le(""),ae(!1)},tl=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:a})=>l("span",{children:a.indexOf(e)+1})},{Header:"Listed for",accessor:"propertystatus",Cell:e=>{var c,u,h,p,o,d,r,b,f,g,v,s,n,D,O,F,T,X,q;let a;((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((u=e==null?void 0:e.cell)==null?void 0:u.value)!=="Multiple"?a=(h=e==null?void 0:e.cell)==null?void 0:h.value:a="Not Available";const t=(k,_,S,z,ce)=>{ce===!1&&(he(k),V(!0),W(S),ee(_),le(_),Y(!1),be(z))};return l(m,{children:((r=(d=(o=(p=e==null?void 0:e.cell)==null?void 0:p.row)==null?void 0:o.original)==null?void 0:d.multivaluation)==null?void 0:r.length)&&((g=(f=(b=e==null?void 0:e.cell)==null?void 0:b.row)==null?void 0:f.original)==null?void 0:g.multi_propertyvaluation)&&((v=e==null?void 0:e.cell)==null?void 0:v.value)==="Multiple"?l(m,{children:(O=(D=(n=(s=e==null?void 0:e.cell)==null?void 0:s.row)==null?void 0:n.original)==null?void 0:D.multivaluation)==null?void 0:O.map((k,_)=>l("span",{className:`block w-full ${_!==0?"mt-[10px]":""} cursor-pointer`,children:l("span",{onClick:()=>{var S,z,ce,Ye,ze;return t(k==null?void 0:k.propertystatus,(z=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:z.original,(ze=(Ye=(ce=e==null?void 0:e.cell)==null?void 0:ce.row)==null?void 0:Ye.original)==null?void 0:ze._id,_,k==null?void 0:k.unlisted)},className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(k==null?void 0:k.propertystatus)&&(k==null?void 0:k.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:"Listed for "+(k==null?void 0:k.propertystatus)})},_+1))}):l("span",{className:"block w-full",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((F=e==null?void 0:e.cell)==null?void 0:F.value)&&((q=(X=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:X.original)==null?void 0:q.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:a!=="Not Available"?"Listed for "+a:a})})})}},{Header:"listed / unlisted",accessor:"unlisted",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v,s;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((n,D)=>l(m,{children:(n==null?void 0:n.propertystatus)==="Rent"?y(m,{children:[(n==null?void 0:n.contract_enddate)&&new Date(n==null?void 0:n.contract_enddate)>new Date&&(n==null?void 0:n.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(n==null?void 0:n.unlisted)===!1?"bg-info-500 text-info-500":"text-danger-500 bg-danger-500"} 
                                                     ${(n==null?void 0:n.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"upcoming"})},D+1):null,(n==null?void 0:n.contract_enddate)&&new Date(n==null?void 0:n.contract_enddate)<=new Date&&(n==null?void 0:n.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(n==null?void 0:n.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(n==null?void 0:n.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},D+1):null,((n==null?void 0:n.contract_enddate)===""||!(n!=null&&n.contract_enddate))&&(n==null?void 0:n.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(n==null?void 0:n.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(n==null?void 0:n.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"})},D+1):null,(new Date(n==null?void 0:n.contract_enddate)<=new Date||new Date(n==null?void 0:n.contract_enddate)>new Date||(n==null?void 0:n.contract_enddate)===""||!(n!=null&&n.contract_enddate))&&(n==null?void 0:n.unlisted)===!0?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(n==null?void 0:n.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(n==null?void 0:n.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"unlisted"})},D+1):null]}):l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(n==null?void 0:n.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(n==null?void 0:n.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:(n==null?void 0:n.unlisted)===!0?"Unlisted":"listed"})},D+1)}))}):l("span",{className:"block w-full",children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((g=e==null?void 0:e.cell)==null?void 0:g.value)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                     ${((v=e==null?void 0:e.cell)==null?void 0:v.value)===!0?"text-danger-500 bg-danger-500":""}`,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)===!0?"Unlisted":"listed"})})})}},{Header:"transaction status",accessor:"transaction_status",Cell:e=>{var a,t,c;return l("span",{className:"block w-full",children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((a=e==null?void 0:e.cell)==null?void 0:a.value)==="successful"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:(t=e==null?void 0:e.cell)!=null&&t.value?(c=e==null?void 0:e.cell)==null?void 0:c.value:"Not Available"})})}},{Header:"Property Unit No",accessor:"unitnumber",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"property reference No",accessor:"property_reference",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"Assigned Agent",accessor:"employee_email",Cell:e=>{var t,c,u,h,p,o,d,r,b,f,g,v,s,n,D,O,F,T,X,q,k;let a;return((u=(c=(t=e==null?void 0:e.cell)==null?void 0:t.row)==null?void 0:c.original)==null?void 0:u.multivaluation)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)!=="Multiple"&&((d=e==null?void 0:e.cell)==null?void 0:d.value)&&((r=e==null?void 0:e.cell)==null?void 0:r.value)!==void 0&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"?a=(f=e==null?void 0:e.cell)==null?void 0:f.value:a="Not Assigned",l(m,{children:((n=(s=(v=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:v.original)==null?void 0:s.multivaluation)==null?void 0:n.length)&&((F=(O=(D=e==null?void 0:e.cell)==null?void 0:D.row)==null?void 0:O.original)==null?void 0:F.propertystatus)==="Multiple"?l(m,{children:(k=(q=(X=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:X.original)==null?void 0:q.multivaluation)==null?void 0:k.map((_,S)=>l("span",{className:`block w-full ${S!==0?"mt-[10px]":""} normal-case`,children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(_==null?void 0:_.employee_email)!==""&&(_==null?void 0:_.employee_email)?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:_!=null&&_.employee_email?_==null?void 0:_.employee_email:"Not Assigned"})},S+1))}):l("span",{className:"block w-full normal-case",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${a&&a!=="Not Assigned"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:a})})})}},{Header:"project name",accessor:"project_name",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"building name",accessor:"building_name",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"community name",accessor:"community_name",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"subtype name",accessor:"subtype_name",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"balcony",accessor:"balcony",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"floor",accessor:"floor",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"furnished",accessor:"furnished",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"halfbath room",accessor:"halfbathroom",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"fullbath room",accessor:"nobathroom",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"plot size",accessor:"plotsize",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"kitchen",accessor:"kitchen",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no. of parking",accessor:"noparking",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"property type",accessor:"propertytype",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"build up area",accessor:"builduparea",Cell:e=>{var a,t,c,u,h,p,o,d,r;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?((t=e==null?void 0:e.cell)==null?void 0:t.value)+" "+(((c=e==null?void 0:e.cell)==null?void 0:c.value)&&((p=(h=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:h.original)==null?void 0:p.measure_units)?(r=(d=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:d.original)==null?void 0:r.measure_units:""):"Not Available"})}},{Header:"Tenancy Contract Start Date",accessor:"contract_startdate",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.contract_startdate?new Date(s==null?void 0:s.contract_startdate).toDateString():"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?new Date((v=e==null?void 0:e.cell)==null?void 0:v.value).toDateString():"Not Available"})})}},{Header:"Tenancy Contract End Date",accessor:"contract_enddate",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.contract_enddate?new Date(s==null?void 0:s.contract_enddate).toDateString():"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?new Date((v=e==null?void 0:e.cell)==null?void 0:v.value).toDateString():"Not Available"})})}},{Header:"Tenancy Rental Amount",accessor:"rental_amount",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:(s==null?void 0:s.rental_amount)&&(s==null?void 0:s.rental_amount)!==""?l("span",{children:typeof(s==null?void 0:s.rental_amount)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof(s==null?void 0:s.rental_amount)=="string"?parseFloat(s==null?void 0:s.rental_amount.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"}):l("span",{children:"Not Available"})},n+1))}):l("span",{children:typeof((g=e==null?void 0:e.cell)==null?void 0:g.value)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof((v=e==null?void 0:e.cell)==null?void 0:v.value)=="string"?parseFloat(e.cell.value.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})})}},{Header:"tenant name",accessor:"tenant_name",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_name?s==null?void 0:s.tenant_name:"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?(v=e==null?void 0:e.cell)==null?void 0:v.value:"Not Available"})})}},{Header:"tenant email",accessor:"tenat_email",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""} normal-case`,children:l("span",{children:s!=null&&s.tenat_email?s==null?void 0:s.tenat_email:"Not Available"})},n+1))}):l("span",{className:"normal-case",children:(g=e==null?void 0:e.cell)!=null&&g.value?(v=e==null?void 0:e.cell)==null?void 0:v.value:"Not Available"})})}},{Header:"tenant passport no",accessor:"tenant_passport",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_passport?s==null?void 0:s.tenant_passport:"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?(v=e==null?void 0:e.cell)==null?void 0:v.value:"Not Available"})})}},{Header:"tenant nationality",accessor:"tenant_nationality",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_nationality?s==null?void 0:s.tenant_nationality:"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?(v=e==null?void 0:e.cell)==null?void 0:v.value:"Not Available"})})}},{Header:"tenant phone number",accessor:"tenant_mobilenumber",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v;return l(m,{children:((u=(c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)==null?void 0:u.length)&&((o=(p=(h=e==null?void 0:e.cell)==null?void 0:h.row)==null?void 0:p.original)==null?void 0:o.propertystatus)==="Multiple"?l(m,{children:(f=(b=(r=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:r.original)==null?void 0:b.multivaluation)==null?void 0:f.map((s,n)=>l("span",{className:`block w-full ${n!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_mobilenumber?s==null?void 0:s.tenant_mobilenumber:"Not Available"})},n+1))}):l("span",{children:(g=e==null?void 0:e.cell)!=null&&g.value?(v=e==null?void 0:e.cell)==null?void 0:v.value:"Not Available"})})}},{Header:"Rent / Sold amount",accessor:"propertyvaluation",Cell:e=>{var a,t,c,u,h,p,o,d,r,b,f,g,v,s,n,D,O,F,T,X,q,k,_;return((c=(t=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:t.original)==null?void 0:c.multivaluation)&&((p=(h=(u=e==null?void 0:e.cell)==null?void 0:u.row)==null?void 0:h.original)==null?void 0:p.propertystatus)!=="Multiple"&&((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!==void 0&&((r=e==null?void 0:e.cell)==null?void 0:r.value)!=="undefined"&&((b=e==null?void 0:e.cell)==null||b.value),l(m,{children:((s=(v=(g=(f=e==null?void 0:e.cell)==null?void 0:f.row)==null?void 0:g.original)==null?void 0:v.multivaluation)==null?void 0:s.length)&&((O=(D=(n=e==null?void 0:e.cell)==null?void 0:n.row)==null?void 0:D.original)==null?void 0:O.propertystatus)==="Multiple"?l(m,{children:(q=(X=(T=(F=e==null?void 0:e.cell)==null?void 0:F.row)==null?void 0:T.original)==null?void 0:X.multivaluation)==null?void 0:q.map((S,z)=>l("span",{className:`block w-full ${z!==0?"mt-[10px]":""} normal-case`,children:l("span",{children:typeof(S==null?void 0:S.propertyvaluation)=="number"?(S==null?void 0:S.propertyvaluation.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":typeof(S==null?void 0:S.propertyvaluation)=="string"?parseFloat(S==null?void 0:S.propertyvaluation.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})},z+1))}):l("span",{children:typeof((k=e==null?void 0:e.cell)==null?void 0:k.value)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof((_=e==null?void 0:e.cell)==null?void 0:_.value)=="string"?parseFloat(e.cell.value.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"})})}},{Header:"listing source",accessor:"listingsource",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"listing type",accessor:"listingtype",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"maintenance done",accessor:"maintenance",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"no. of keys",accessor:"noof_key",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"Key Location",accessor:"key_location",Cell:e=>{var a,t,c,u;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?((c=(t=e==null?void 0:e.cell)==null?void 0:t.value)==null?void 0:c.slice(0,25))+(((u=e==null?void 0:e.cell)==null?void 0:u.value.length)>25?"...":""):"Not Available"})}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var a,t;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var a,t;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(t=e==null?void 0:e.cell)==null?void 0:t.value:"Not Available"})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var a,t;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((t=e==null?void 0:e.cell)==null?void 0:t.value).toDateString():"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var o,d,r;const a=localStorage.getItem("isAuth"),t=JSON.parse(a),{data:c}=Ge(t==null?void 0:t.roleid);if(!c)return null;const u=(c==null?void 0:c.readavailability)===!0,h=(c==null?void 0:c.updateavailability)===!0,p=(c==null?void 0:c.deleteavailability)===!0;return y("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[u&&l(ve,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:l(Je,{className:"action-btn",to:`/view-availability-sheet/${e==null?void 0:e.cell.value}`,type:"button",children:l(G,{icon:"heroicons:eye"})})}),((r=(d=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:d.original)==null?void 0:r.unlisted)===!1&&h&&l(ve,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:l(Je,{to:`/update-availability-sheet/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:l(G,{icon:"heroicons:pencil-square"})})}),p&&l(ve,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:l("button",{className:"action-btn",type:"button",onClick:()=>{var b,f;return Ke(e==null?void 0:e.cell.value,(f=(b=e==null?void 0:e.cell)==null?void 0:b.row)==null?void 0:f.original)},children:l(G,{icon:"heroicons:trash"})})})]})}}],nl=N.exports.useMemo(()=>tl,[]),sl=N.exports.useMemo(()=>ke);function cl(e){if(e){const a=ye.filter(t=>{let c=!0;return e.buildingid&&t.buildingid!==e.buildingid&&(c=!1),e.communityid&&t.communityid!==e.communityid&&(c=!1),e.customerid&&t.customerid!==e.customerid&&(c=!1),e.projectnameid&&t.projectnameid!==e.projectnameid&&(c=!1),e.unitnumber&&t.unitnumber!==e.unitnumber&&(c=!1),e.employeeid&&t.employeeid!==e.employeeid&&(c=!1),e.property_owner_id&&t.property_owner_id!==e.property_owner_id&&(c=!1),c});I(a)}else I(ye)}const il=async()=>{j==="Available Property"?(I(x),U(x)):j==="For Sale"?(I($),U($)):j==="For Rent"?(I(A),U(A)):j==="Short Term"?(I(L),U(L)):j==="All Property"&&(I(H),U(H)),E("")},[Ce,De]=N.exports.useState(!1);N.exports.useEffect(()=>{ae(!1),le(""),De(!1)},[ke]);const dl=w.exports.useTable({columns:nl,data:sl,initialState:{pageIndex:0,pageSize:50}},w.exports.useGlobalFilter,w.exports.useSortBy,w.exports.usePagination,w.exports.useRowSelect,e=>{e.visibleColumns.push(a=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:t})=>l("div",{children:l(Xl,{...t()})}),Cell:({row:t})=>{var o;const[c,u]=N.exports.useState(""),h=d=>{d!=null&&d._id?ae(!0):ae(!1),u(r=>r===d?"":d),le(r=>r===d?"":d)};let p;return N.exports.useEffect(()=>{var d;De(((d=t==null?void 0:t.original)==null?void 0:d._id)===(c==null?void 0:c._id)),Ce===!0?p=!0:Ce===!1&&(p=!1)},[(o=t==null?void 0:t.original)==null?void 0:o._id,c==null?void 0:c._id]),l("div",{children:l("input",{type:"checkbox",...t.getToggleRowSelectedProps(),checked:p,onChange:()=>h(t.original),className:"table-checkbox"})})}},...a])}),{getTableProps:ul,getTableBodyProps:rl,headerGroups:pl,footerGroups:Gl,page:ol,nextPage:hl,previousPage:bl,canNextPage:ne,canPreviousPage:se,pageOptions:He,state:fl,gotoPage:fe,pageCount:gl,setPageSize:vl,setGlobalFilter:ml,prepareRow:xl}=dl,{globalFilter:yl,pageIndex:Pe,pageSize:Nl}=fl,kl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},_l={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Sl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#5743BE"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Al={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},$e=A==null?void 0:A.length,je=$==null?void 0:$.length,Ie=L==null?void 0:L.length,Me=x.filter(e=>(e==null?void 0:e.unlisted)===!1).length,Cl=[{name:kl,title:"Total Property Available",count:Me||0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:_l,title:"Property Available for Rent",count:$e||0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"},{name:Sl,title:"Property Available for Sale",count:je||0,bg:"bg-[#EAE5FF] dark:bg-slate-900	"},{name:Al,title:"Total Property Short Term",count:Ie||0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"}],Dl=x.filter(e=>e.unitnumber!==void 0),Be=[...new Set(Dl.map(e=>e.unitnumber))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Hl=x.filter(e=>e.community_name!==void 0),Le=[...[...new Set(Hl.map(e=>e.communityid))].map(e=>{const a=x.find(t=>t.communityid===e);return a?{label:a.community_name,value:a.communityid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),Pl=x.filter(e=>e.project_name!==void 0),Ue=[...[...new Set(Pl.map(e=>e.projectnameid))].map(e=>{const a=x.find(t=>t.projectnameid===e);return a?{label:a.project_name,value:a.projectnameid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),$l=x.filter(e=>e.building_name!==void 0),Ee=[...[...new Set($l.map(e=>e.buildingid))].map(e=>{const a=x.find(t=>t.buildingid===e);return a?{label:a.building_name,value:a.buildingid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),jl=x.filter(e=>e.employee_email!==void 0),Oe=[...[...new Set(jl.map(e=>e.employeeid))].map(e=>{const a=x.find(t=>t.employeeid===e);return a?{label:a.employee_email,value:a.employeeid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),Il=x==null?void 0:x.filter(e=>(e==null?void 0:e.property_owner_name)!==void 0),Fe=[...[...new Set(Il.map(e=>e==null?void 0:e.property_owner_id))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>{const a=x.find(t=>t.property_owner_id===e);return a?{label:a==null?void 0:a.property_owner_name,value:a==null?void 0:a.property_owner_id}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label));return l(m,{children:y(Qe,{children:[l("div",{className:"flex justify-between items-center mb-6",children:l("h4",{className:"card-title",children:M})}),l("div",{className:"grid grid-cols-12 gap-5 mb-5",children:l("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:l(Qe,{bodyClass:"p-4",children:l("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 col-span-1 gap-4",children:l(Ol,{statistics:Cl})})})})}),y("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[(P==null?void 0:P.updateavailability)===!0?y(m,{children:[C&&(C==null?void 0:C.unlisted)===!1&&xe===!0&&!((Te=C==null?void 0:C.multivaluation)!=null&&Te.length)?l(m,{children:l(Tl,{title:"Do you want to Unlist this property?",label:"Unlist",labelClass:"btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,footerContent:l(Fl,{text:"Accept",className:"btn-dark ",onClick:()=>{alert("use Control Modal")}}),alldata:C,onDataUpdate:B,unlisted:!0,children:l("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"})})}):null,C&&xe===!0&&((Xe=C==null?void 0:C.multivaluation)==null?void 0:Xe.length)?l(m,{children:(qe=C==null?void 0:C.multivaluation)==null?void 0:qe.map((e,a)=>l(m,{children:(e==null?void 0:e.unlisted)===!1?y("button",{type:"button",class:"btn btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:()=>ll(e==null?void 0:e.propertystatus,e,e==null?void 0:e._id,a),children:["Unlist ",e==null?void 0:e.propertystatus]},a+1):null}))}):null,l(m,{})]}):null,y("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>We(!te),children:[te===!0?l(G,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):l(G,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),l("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),l("div",{className:"w-[180px]",children:l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:_e,value:_e.filter(function(e){return e.value===j}),onChange:e=>{we(e==null?void 0:e.value)},styles:J,id:"hh"})}),l(El,{filter:yl,setFilter:ml})]}),y("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${te===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Be,value:Be.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}),onChange:e=>{K({target:{name:"unitnumber",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.unitnumber?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,unitnumber:""}),children:"Clear filter"}):null]}),y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Le,value:Le.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}),onChange:e=>{K({target:{name:"communityid",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.communityid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,communityid:""}),children:"Clear filter"}):null]}),y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ue,value:Ue.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}),onChange:e=>{K({target:{name:"projectnameid",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.projectnameid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,projectnameid:""}),children:"Clear filter"}):null]}),y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ee,value:Ee.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}),onChange:e=>{K({target:{name:"buildingid",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.buildingid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,buildingid:""}),children:"Clear filter"}):null]}),y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Assign Agent Email"}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Oe,value:Oe.filter(function(e){if((i==null?void 0:i.employeeid)!=="")return e.value===(i==null?void 0:i.employeeid)}),onChange:e=>{K({target:{name:"employeeid",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.employeeid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,employeeid:""}),children:"Clear filter"}):null]}),y("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Property Owner"}),l(Q,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Fe,value:Fe.filter(function(e){if((i==null?void 0:i.property_owner_id)!=="")return e.value===(i==null?void 0:i.property_owner_id)}),onChange:e=>{K({target:{name:"property_owner_id",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),i!=null&&i.property_owner_id?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>E({...i,property_owner_id:""}),children:"Clear filter"}):null]})]}),y("div",{className:`flex ${te===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[l("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>il(),children:"Clear filter"}),l("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>cl(i),children:"Search"})]}),l(ql,{showModal:re,handleClose:Ae,handleDeleteData:Ze,dataIdHai:oe,deleteLoader:me}),l(Yl,{showModal:ue,handleClose:Ae,dataIdHai:oe,deleteLoader:me,multiModalHeading:el,handlepropertystatusChange:al}),l("div",{className:"overflow-x-auto -mx-6 mt-6",children:l("div",{className:"inline-block min-w-full align-middle",children:l("div",{className:" ",children:y("table",{className:"min-w-[150%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...ul,children:[l("thead",{className:"bg-slate-200 dark:bg-slate-700",children:pl.map(e=>l("tr",{...e.getHeaderGroupProps(),children:e.headers.map(a=>a.Header==="action"&&!((P==null?void 0:P.readavailability)===!0||(P==null?void 0:P.updateavailability)===!0||(P==null?void 0:P.deleteavailability)===!0)?l("th",{}):y("th",{...a.getHeaderProps(a.getSortByToggleProps()),scope:"col",className:"table-th",children:[a.render("Header"),l("span",{children:a.isSorted?a.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),l("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...rl,children:ol.map(e=>(xl(e),l("tr",{...e.getRowProps(),children:e.cells.map(a=>l("td",{...a.getCellProps(),className:"table-td",children:a.render("Cell")}))})))})]})})})}),y("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[y("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[l("select",{className:"form-control py-2 w-max",value:Nl,onChange:e=>vl(Number(e.target.value)),children:[10,25,50].map(e=>y("option",{value:e,children:["Show ",e]},e))}),y("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",y("span",{children:[Pe+1," of ",He.length]})]})]}),y("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${se?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>fe(0),disabled:!se,children:l(G,{icon:"heroicons:chevron-double-left-solid"})})}),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${se?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>bl(),disabled:!se,children:"Prev"})}),He.map((e,a)=>l("li",{children:l("button",{href:"#","aria-current":"page",className:` ${a===Pe?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>fe(a),children:e+1})},a)),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${ne?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>hl(),disabled:!ne,children:"Next"})}),l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{onClick:()=>fe(gl-1),disabled:!ne,className:` ${ne?"":"opacity-50 cursor-not-allowed"}`,children:l(G,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})})},oa=()=>{const[M,x]=N.exports.useState(!1),[B,H]=N.exports.useState(!1),[A,$]=N.exports.useState(!1),{data:L}=Ll(),{data:de,isSuccess:R,refetch:P}=ie("?unlisted=false"),{data:ue}=ie("?propertystatus=Rent&unlisted=false"),{data:V}=ie("?propertystatus=Sale&unlisted=false"),{data:re}=ie("?propertystatus=Short Term&unlisted=false");return l(m,{children:A===!1&&R&&L?l("div",{className:" space-y-5",children:l(zl,{AllProperty:L,ForRent:ue,ForSale:V,ForShortTerm:re,pagelink:"/add-availability-sheet",linktitle:"Add new Availability Sheet",title:"All Availability Sheet",allCustomers:de,handleDataUpdate:async()=>{$(!0),x(!0);try{await P(),$(!1)}catch{H(!0)}x(!1)},handleDataAgain:async()=>{$(!0),x(!0);const Z=await(await fetch("http://dev-rare.srp.ai/rentpurchase")).json();setFetchData(Z),x(!1),$(!1)}})}):l(Ul,{})})};export{oa as default};
