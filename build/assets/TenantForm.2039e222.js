import{bQ as Xn,y as Zn,c8 as In,r,A as Dn,cy as ei,cv as ni,cA as ii,cB as ti,t as li,v as W,w as oi,j as i,F,q as ai,C as di,aj as ue,ad as ci,ah as V,T as E,c9 as fe,c7 as X,av as me,L as ri,x as mi,E as Ye,ca as w,c3 as Ne,cb as ve,Q as be}from"./index.50116af3.js";var t="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\tenant-contract\\TenantForm.jsx";const he={option:(P,ie)=>({...P,fontSize:"14px"})},qi=()=>{const{id:P}=Xn(),ie=Zn(),te=In(),[e,y]=r.exports.useState(""),[pi,We]=r.exports.useState(""),A=o=>{const{name:a,value:l}=o.target;y({...e,[a]:l})},le=new URLSearchParams(window.location.search),oe=le.get("propertyid"),L=le.get("renew"),B=le.get("customerid"),ae=le.get("contractenddate");r.exports.useEffect(()=>{oe!=null&&y(o=>({...o,propertyid:oe}))},[oe]),r.exports.useEffect(()=>{L!=null&&y(o=>({...o,contractupdation:L}))},[L]),r.exports.useEffect(()=>{B!=null&&(y(a=>({...a,customerid:B,customertype:"Existing Tenant"})),(async()=>{if(B){const l=await(await fetch(`http://stg.srp.ai/users/${B}`)).json();l&&(Fe(l),y({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),ce((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})())},[B]),r.exports.useEffect(()=>{if(ae!=null){const o=new Date(ae);o.setDate(o.getDate()+1);const a=o.toISOString();y(l=>({...l,contractstartdate:a}))}},[ae]);const R=Dn(),{data:de}=ei(),{data:u,isSuccess:ye}=ni(P),[ge,si]=r.exports.useState(!1),[Xe,xe]=r.exports.useState(""),[Ze,_e]=r.exports.useState(""),[Ie,qe]=r.exports.useState(""),[De,ke]=r.exports.useState("");r.exports.useEffect(()=>{var o,a,l,p,f,N,_,k,x,C,d,c;P&&u&&ye&&(y(u==null?void 0:u.tenantContract),xe(((o=u==null?void 0:u.tenantContract)==null?void 0:o.ejari_certificate_doc)&&((a=u==null?void 0:u.tenantContract)==null?void 0:a.ejari_certificate_doc)!==void 0?(l=u==null?void 0:u.tenantContract)==null?void 0:l.ejari_certificate_doc:""),_e(((p=u==null?void 0:u.tenantContract)==null?void 0:p.tenancy_contract_doc)&&((f=u==null?void 0:u.tenantContract)==null?void 0:f.tenancy_contract_doc)!==void 0?(N=u==null?void 0:u.tenantContract)==null?void 0:N.tenancy_contract_doc:""),qe(((_=u==null?void 0:u.tenantContract)==null?void 0:_.addendum_doc)&&((k=u==null?void 0:u.tenantContract)==null?void 0:k.addendum_doc)!==void 0?(x=u==null?void 0:u.tenantContract)==null?void 0:x.addendum_doc:""),ke(((C=u==null?void 0:u.tenantContract)==null?void 0:C.key_receipt_doc)&&((d=u==null?void 0:u.tenantContract)==null?void 0:d.key_receipt_doc)!==void 0?(c=u==null?void 0:u.tenantContract)==null?void 0:c.key_receipt_doc:""))},[P,u,ye]);const[Ce]=ii(),[en]=ti(),[we,nn]=r.exports.useState([]);r.exports.useEffect(()=>{fetch("http://stg.srp.ai/property").then(o=>o.json()).then(o=>{const a=o==null?void 0:o.map(l=>({label:l.unitnumber+" | "+l.communityname+" | "+l.projectname+" | "+l.buildingname,value:l._id}));nn(a)})},[]),r.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const l=await(await fetch(`http://stg.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();l&&y({...e,unitnumber:l==null?void 0:l.unitnumber,buildingname:l==null?void 0:l.building_name,projectname:l==null?void 0:l.project_name,communityname:l==null?void 0:l.community_name})}})()},[e==null?void 0:e.propertyid]);const[O,tn]=r.exports.useState("");r.exports.useEffect(()=>{(async()=>{await fetch("http://stg.srp.ai/users/api/customers").then(a=>a.json()).then(a=>{var p;const l=(p=a==null?void 0:a.users)==null?void 0:p.map(f=>({label:f.firstname+" "+f.lastname+" | "+f.email+" | "+f.passportidno+" | "+f.whatsappno,value:f._id}));tn(l)})})()},[]);const[Se,ce]=r.exports.useState(""),[n,Fe]=r.exports.useState("");r.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const l=await(await fetch(`http://stg.srp.ai/users/${e==null?void 0:e.customerid}`)).json();l&&(Fe(l),y({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),ce((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Ae,ln]=r.exports.useState([]);r.exports.useEffect(()=>{(async()=>{const l=await(await fetch("http://stg.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return ln(l==null?void 0:l.users)})()},[]);const[ui,on]=r.exports.useState(e==null?void 0:e.customertype),an=o=>{on(o.target.value),y({...e,customertype:o.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),ce("")},dn=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];r.exports.useEffect(()=>{(async()=>{try{const a=fe.getAllCountries();let l=[];l=a==null?void 0:a.map(({isoCode:p,name:f})=>({isoCode:p,name:f}))}catch(a){console.log(a)}})()},[]);const[J,cn]=r.exports.useState(null),Pe=o=>{cn(o.target.files[0]),y({...e,passportpdf:o.target.files[0]})},rn=()=>{y({...e,passportpdf:""}),ce("")},[Z,mn]=r.exports.useState(null),pn=o=>{mn(o.target.files[0]),y({...e,ejari_certificate_doc:o.target.files[0]})},sn=()=>{y({...e,ejari_certificate_doc:""}),xe("")},[I,un]=r.exports.useState(null),fn=o=>{un(o.target.files[0]),y({...e,tenancy_contract_doc:o.target.files[0]})},Nn=()=>{y({...e,tenancy_contract_doc:""}),_e("")},[D,vn]=r.exports.useState(null),bn=o=>{vn(o.target.files[0]),y({...e,addendum_doc:o.target.files[0]})},hn=()=>{y({...e,addendum_doc:""}),qe("")},[ee,yn]=r.exports.useState(null),gn=o=>{yn(o.target.files[0]),y({...e,key_receipt_doc:o.target.files[0]})},xn=()=>{y({...e,key_receipt_doc:""}),ke("")};r.exports.useState(null);const[S,je]=r.exports.useState("");r.exports.useEffect(()=>{if(P&&(e==null?void 0:e.chequeDetails)&&te.pathname===`/update-tenantcontract/${P}`){const o=e.chequeDetails.map(a=>!a||typeof a.chequeimage!="string"?{...a,chequeimage:""}:a);je(o)}},[P,e==null?void 0:e.chequeDetails]);const _n=o=>{je(a=>{const l=[...a];return l[o]={...l[o],chequeimage:""},l}),y(a=>{const l={...a},p=[...l.chequeDetails];return p[o]={...p[o],chequeimage:""},l.chequeDetails=p,l})},[q,Te]=r.exports.useState(0);r.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Te(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Te(0)},[e==null?void 0:e.noofchequeorinstallment]),r.exports.useState([]);const[Ee,qn]=r.exports.useState([]),kn=(o,a)=>{let l=[];o.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[a]||{};l[a]={...p,chequenumbe:o.target.value,chequedate:(p==null?void 0:p.chequedate)||"",totalamount:(p==null?void 0:p.totalamount)||""};const f={...e,chequeDetails:l};y(f)},Cn=(o,a)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[a]||{};l[a]={...p,chequedate:o[0]||""};const f={...e,chequeDetails:l};y(f)},wn=(o,a)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[a]||{};l[a]={...p,totalamount:o.target.value,chequenumbe:(p==null?void 0:p.chequenumbe)||"",chequedate:(p==null?void 0:p.chequedate)||"",chequeimage:(p==null?void 0:p.chequeimage)||""};const f={...e,chequeDetails:l};y(f)},Sn=(o,a)=>{const l=[...Ee],p=o.target.files[0];l[a]=p,qn(l);let f=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(f=[...e.chequeDetails]);const N=f[a]||{};f[a]={...N,totalamount:(N==null?void 0:N.totalamount)||"",chequenumbe:(N==null?void 0:N.chequenumbe)||"",chequedate:(N==null?void 0:N.chequedate)||"",chequeimage:p||""};const _={...e,chequeDetails:f};y(_)},[Oe,G]=r.exports.useState(""),[Fn,fi]=r.exports.useState(""),[Ge,An]=r.exports.useState(""),[re,M]=r.exports.useState(""),[ze,Pn]=r.exports.useState(""),[$e,Ni]=r.exports.useState(""),[Ue,vi]=r.exports.useState(""),[jn,bi]=r.exports.useState(""),[Tn,Q]=r.exports.useState(""),[En,H]=r.exports.useState("");r.exports.useState("");const[On,Ve]=r.exports.useState(Array(q).fill("")),[Gn,Le]=r.exports.useState(Array(q).fill("")),[zn,Be]=r.exports.useState(Array(q).fill("")),[$n,Re]=r.exports.useState(Array(q).fill("")),[Un,hi]=r.exports.useState(""),[Vn,yi]=r.exports.useState(""),[Ln,gi]=r.exports.useState("");r.exports.useState("");const[Je,pe]=r.exports.useState(!1);r.exports.useEffect(()=>{e.customertype==="New Tenant"&&te.pathname==="/add-tenantcontract"?Ae.find(a=>a.email===e.email)?(M("Email is already in use. Please check existing tenants."),pe(!0)):(M(""),pe(!1)):e.customertype==="Existing Tenant"&&(M(""),pe(!1))},[e.customertype,e.email,Ae]);let Bn={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no of cheque or installment",commission:"commission"};const Rn=li({propertyid:W().required(Oe),customertype:W().required(Ge),email:W().email(re).required(re),guestname:W().required(ze),mobilenumber:W().required($e),nationality:W().required(Ue)}).required(),{register:j,formState:{errors:xi}}=oi({resolver:mi(Rn)}),Me=()=>{let o=!1,a={propertyid:G,customertype:An,email:M,guestname:Pn};return a&&Object.keys(a).length&&Object.keys(a).map(l=>{a[l](""),e[l]||(a[l](Bn[l]+" is required"),o=!0)}),o},[K,ne]=r.exports.useState(!1),Jn=localStorage.getItem("isAuth"),T=JSON.parse(Jn),[Mn,Y]=r.exports.useState(!1);r.exports.useEffect(()=>{const o=a=>{const{_id:l,propertyid:p,contractstartdate:f,contractenddate:N}=a,{contractstartdate:_,contractenddate:k,propertyid:x}=e;return l!==(e==null?void 0:e._id)&&f&&N&&new Date(f).toISOString()<new Date(k).toISOString()&&new Date(N).toISOString()>new Date(_).toISOString()&&p===x?(Y(!0),G("Property is already Listed"),Q("Property is already Listed"),H("Property is already Listed"),!0):(Y(!1),G(""),Q(""),H(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let a=0;a<(de==null?void 0:de.length);a++){const l=de[a];if(o(l)){Y(!0),G("Property is already Listed"),Q("Property is already Listed"),H("Property is already Listed");break}else{Y(!1),G(""),Q(""),H("");break}}else Y(!1),G(""),Q(""),H("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Qn=async()=>{var o,a,l,p,f,N,_,k;if(Ve(Array(q).fill("")),Le(Array(q).fill("")),Be(Array(q).fill("")),Re(Array(q).fill("")),!e.propertyid||!e.guestname||!e.email)Me();else if(!(e!=null&&e.customerid)&&!Ye.isEmail(e.email))M("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ge===!1&&Je===!1&&Mn===!1){ne(!0);try{let x=[];J&&x.push(w(J,"Passport")),Z&&x.push(w(Z,"ejari_certificate_doc")),I&&x.push(w(I,"tenancy_contract_doc")),D&&x.push(w(D,"addendum_doc")),ee&&x.push(w(ee,"key_receipt_doc"));let C=await Promise.all(x);if(C.length){let d=[];for(let h=0;h<C.length;h++){let g=C[h].data.files;d.push(g)}let c=[];for(let h of d)for(let g of h){let se=g;c.push(se)}let v="",b="",z="",$="",U="";for(let h of c)h.includes("Passport")?v=h:h.includes("ejari_certificate_doc")?b=h:h.includes("tenancy_contract_doc")?z=h:h.includes("addendum_doc")?$=h:h.includes("key_receipt_doc")&&(U=h);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let h=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",h[0]),m.append("lastname",h[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",n.contactno===void 0||n.contactno===null?"":n.contactno),m.append("datebirth",n.datebirth===void 0||n.datebirth===null?"":n.datebirth),m.append("countryofresidence",n.countryofresidence===void 0||n.countryofresidence===null?"":n.countryofresidence),m.append("memberid",n.memberid===void 0||n.memberid===null?"":n.memberid),m.append("nameonpassport",n.nameonpassport===void 0||n.nameonpassport===null?"":n.nameonpassport),m.append("nationalidexpiry",n.nationalidexpiry===void 0||n.nationalidexpiry===null?"":n.nationalidexpiry),m.append("nationalidissuedate",n.nationalidissuedate===void 0||n.nationalidissuedate===null?"":n.nationalidissuedate),m.append("nationalidno",n.nationalidno===void 0||n.nationalidno===null?"":n.nationalidno),m.append("passportexpiry",n.passportexpiry===void 0||n.passportexpiry===null?"":n.passportexpiry),m.append("passportissue",n.passportissue===void 0||n.passportissue===null?"":n.passportissue),m.append("postaladdress",n.postaladdress===void 0||n.postaladdress===null?"":n.postaladdress),m.append("primaryno",n.primaryno===void 0||n.primaryno===null?"":n.primaryno),m.append("altemail",n.altemail===void 0?"":n.altemail),m.append("altmobilenumber",n.altmobilenumber===void 0?"":n.altmobilenumber),m.append("password",n.password===void 0?"":n.password),m.append("confirmpass",n.confirmpass===void 0?"":n.confirmpass),m.append("residentstatus",n.residentstatus===void 0?"":n.residentstatus),m.append("nationalidpdf",n.nationalidpdf===void 0?"":n.nationalidpdf),m.append("type","tenant"),n!=null&&n.employeeid&&m.append("employeeid",n==null?void 0:n.employeeid),v?m.append("passportpdf",v):m.append("passportpdf",(n==null?void 0:n.passportpdf)===void 0?"":n.passportpdf),R(Ne(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let h=e==null?void 0:e.guestname.split(" ");m.append("firstname",h[0]),m.append("lastname",h[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("type","tenant"),v&&m.append("passportpdf",v),R(ve(m))}const s=new FormData;if(s.append("propertyid",e==null?void 0:e.propertyid),s.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&s.append("customerid",e==null?void 0:e.customerid),s.append("guestname",e==null?void 0:e.guestname),s.append("passportnumber",e==null?void 0:e.passportnumber),s.append("email",e==null?void 0:e.email),s.append("nationality",e==null?void 0:e.nationality),s.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),s.append("createdBy",T==null?void 0:T._id),L&&s.append("contractupdation",e==null?void 0:e.contractupdation),v&&s.append("passportpdf",v),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?s.append("contractstartdate",e==null?void 0:e.contractstartdate):s.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?s.append("contractenddate",e==null?void 0:e.contractenddate):s.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?s.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):s.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?s.append("contractvalue",e==null?void 0:e.contractvalue):s.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?s.append("rentalamount",e==null?void 0:e.rentalamount):s.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?s.append("securitydepositamount",e==null?void 0:e.securitydepositamount):s.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?s.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):s.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?s.append("commission",e==null?void 0:e.commission):s.append("commission",""),b?s.append("ejari_certificate_doc",b):s.append("ejari_certificate_doc",""),z?s.append("tenancy_contract_doc",z):s.append("tenancy_contract_doc",""),$?s.append("addendum_doc",$):s.append("addendum_doc",""),U?s.append("key_receipt_doc",U):s.append("key_receipt_doc",""),(e==null?void 0:e.chequeDetails)!==void 0){const h=[];for(const g of e.chequeDetails){const se=(o=g==null?void 0:g.chequenumbe)!=null?o:"",Kn=(a=g==null?void 0:g.chequedate)!=null?a:"",Yn=(l=g==null?void 0:g.totalamount)!=null?l:"",Qe=(p=g==null?void 0:g.chequeimage)!=null?p:"";let He;if(Qe)try{He=(await w(Qe,"chequeimage")).data.files[0]}catch(Ke){console.log(Ke,"in cheque image")}const Wn={chequenumbe:se,chequedate:Kn,totalamount:Yn,chequeimage:He||""};h.push(Wn)}s.append("chequeDetails",JSON.stringify(h))}else s.append("chequeDetails",[]);await Ce(s),be.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ie("/all-tenantcontract")},1200)}else{const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",n.contactno===void 0||n.contactno===null?"":n.contactno),d.append("datebirth",n.datebirth===void 0||n.datebirth===null?"":n.datebirth),d.append("countryofresidence",n.countryofresidence===void 0||n.countryofresidence===null?"":n.countryofresidence),d.append("memberid",n.memberid===void 0||n.memberid===null?"":n.memberid),d.append("nameonpassport",n.nameonpassport===void 0||n.nameonpassport===null?"":n.nameonpassport),d.append("nationalidexpiry",n.nationalidexpiry===void 0||n.nationalidexpiry===null?"":n.nationalidexpiry),d.append("nationalidissuedate",n.nationalidissuedate===void 0||n.nationalidissuedate===null?"":n.nationalidissuedate),d.append("nationalidno",n.nationalidno===void 0||n.nationalidno===null?"":n.nationalidno),d.append("passportexpiry",n.passportexpiry===void 0||n.passportexpiry===null?"":n.passportexpiry),d.append("passportissue",n.passportissue===void 0||n.passportissue===null?"":n.passportissue),d.append("postaladdress",n.postaladdress===void 0||n.postaladdress===null?"":n.postaladdress),d.append("primaryno",n.primaryno===void 0||n.primaryno===null?"":n.primaryno),d.append("altemail",n.altemail===void 0?"":n.altemail),d.append("altmobilenumber",n.altmobilenumber===void 0?"":n.altmobilenumber),d.append("password",n.password===void 0?"":n.password),d.append("confirmpass",n.confirmpass===void 0?"":n.confirmpass),d.append("residentstatus",n.residentstatus===void 0?"":n.residentstatus),d.append("nationalidpdf",n.nationalidpdf===void 0?"":n.nationalidpdf),d.append("passportpdf",n==null?void 0:n.passportpdf),d.append("type","tenant"),n!=null&&n.employeeid&&d.append("employeeid",n==null?void 0:n.employeeid),R(Ne(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("type","tenant"),d.append("passportpdf",e==null?void 0:e.passportpdf),R(ve(d))}const c=new FormData;if(c.append("propertyid",e==null?void 0:e.propertyid),c.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&c.append("customerid",e==null?void 0:e.customerid),c.append("guestname",e==null?void 0:e.guestname),c.append("passportnumber",e==null?void 0:e.passportnumber),c.append("email",e==null?void 0:e.email),c.append("nationality",e==null?void 0:e.nationality),c.append("mobilenumber",e==null?void 0:e.mobilenumber),c.append("createdBy",T==null?void 0:T._id),c.append("passportpdf",""),L&&c.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?c.append("contractstartdate",e==null?void 0:e.contractstartdate):c.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?c.append("contractenddate",e==null?void 0:e.contractenddate):c.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?c.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):c.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?c.append("contractvalue",e==null?void 0:e.contractvalue):c.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?c.append("rentalamount",e==null?void 0:e.rentalamount):c.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?c.append("securitydepositamount",e==null?void 0:e.securitydepositamount):c.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?c.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):c.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?c.append("commission",e==null?void 0:e.commission):c.append("commission",""),c.append("ejari_certificate_doc",""),c.append("tenancy_contract_doc",""),c.append("addendum_doc",""),c.append("key_receipt_doc",""),e!=null&&e.chequeDetails){const v=[];for(const b of e.chequeDetails){const z=(f=b==null?void 0:b.chequenumbe)!=null?f:"",$=(N=b==null?void 0:b.chequedate)!=null?N:"",U=(_=b==null?void 0:b.totalamount)!=null?_:"",m=(k=b==null?void 0:b.chequeimage)!=null?k:"";let s;if(m)try{s=(await w(m,"chequeimage")).data.files[0]}catch(g){console.log(g,"in cheque image")}const h={chequenumbe:z,chequedate:$,totalamount:U,chequeimage:s||""};v.push(h)}c.append("chequeDetails",JSON.stringify(v))}else c.append("chequeDetails",[]);await Ce(c),be.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ie("/all-tenantcontract")},1200),ne(!0)}}catch(x){console.log(x,"error"),ne(!1)}}},Hn=async o=>{var a,l,p,f;if(o.preventDefault(),Ve(Array(q).fill("")),Le(Array(q).fill("")),Be(Array(q).fill("")),Re(Array(q).fill("")),!e.propertyid||!e.guestname||!e.email)Me();else if(!(e!=null&&e.customerid)&&!Ye.isEmail(e.email))M("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ge===!1&&Je===!1){ne(!0);try{let N=e==null?void 0:e.passportpdf,_=e==null?void 0:e.ejari_certificate_doc,k=e==null?void 0:e.tenancy_contract_doc,x=e==null?void 0:e.addendum_doc,C=e==null?void 0:e.key_receipt_doc;J!==null&&(N=await w(J,"Passport"),N=N.data.files[0]),Z!==null&&(_=await w(Z,"ejari_certificate_doc"),_=_.data.files[0]),I!==null&&(k=await w(I,"tenancy_contract_doc"),k=k.data.files[0]),D!==null&&(x=await w(D,"addendum_doc"),x=x.data.files[0]),ee!==null&&(C=await w(ee,"key_receipt_doc"),C=C.data.files[0]);const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",(n==null?void 0:n.contactno)===void 0||(n==null?void 0:n.contactno)===null?"":n==null?void 0:n.contactno),d.append("datebirth",(n==null?void 0:n.datebirth)===void 0||(n==null?void 0:n.datebirth)===null?"":n==null?void 0:n.datebirth),d.append("countryofresidence",(n==null?void 0:n.countryofresidence)===void 0||(n==null?void 0:n.countryofresidence)===null?"":n==null?void 0:n.countryofresidence),d.append("memberid",(n==null?void 0:n.memberid)===void 0||(n==null?void 0:n.memberid)===null?"":n==null?void 0:n.memberid),d.append("nameonpassport",(n==null?void 0:n.nameonpassport)===void 0||(n==null?void 0:n.nameonpassport)===null?"":n==null?void 0:n.nameonpassport),d.append("nationalidexpiry",(n==null?void 0:n.nationalidexpiry)===void 0||(n==null?void 0:n.nationalidexpiry)===null?"":n==null?void 0:n.nationalidexpiry),d.append("nationalidissuedate",(n==null?void 0:n.nationalidissuedate)===void 0||(n==null?void 0:n.nationalidissuedate)===null?"":n==null?void 0:n.nationalidissuedate),d.append("nationalidno",(n==null?void 0:n.nationalidno)===void 0||(n==null?void 0:n.nationalidno)===null?"":n==null?void 0:n.nationalidno),d.append("passportexpiry",(n==null?void 0:n.passportexpiry)===void 0||(n==null?void 0:n.passportexpiry)===null?"":n==null?void 0:n.passportexpiry),d.append("passportissue",(n==null?void 0:n.passportissue)===void 0||(n==null?void 0:n.passportissue)===null?"":n==null?void 0:n.passportissue),d.append("postaladdress",(n==null?void 0:n.postaladdress)===void 0||(n==null?void 0:n.postaladdress)===null?"":n==null?void 0:n.postaladdress),d.append("primaryno",(n==null?void 0:n.primaryno)===void 0||(n==null?void 0:n.primaryno)===null?"":n==null?void 0:n.primaryno),d.append("altemail",(n==null?void 0:n.altemail)===void 0?"":n==null?void 0:n.altemail),d.append("altmobilenumber",(n==null?void 0:n.altmobilenumber)===void 0?"":n==null?void 0:n.altmobilenumber),d.append("password",(n==null?void 0:n.password)===void 0?"":n==null?void 0:n.password),d.append("confirmpass",(n==null?void 0:n.confirmpass)===void 0?"":n==null?void 0:n.confirmpass),d.append("residentstatus",(n==null?void 0:n.residentstatus)===void 0?"":n==null?void 0:n.residentstatus),d.append("nationalidpdf",(n==null?void 0:n.nationalidpdf)===void 0?"":n==null?void 0:n.nationalidpdf),d.append("type","tenant"),n!=null&&n.employeeid&&d.append("employeeid",n==null?void 0:n.employeeid),N?d.append("passportpdf",N):d.append("passportpdf",(n==null?void 0:n.passportpdf)===void 0?"":n==null?void 0:n.passportpdf),R(Ne(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),N&&d.append("passportpdf",N),d.append("type","tenant"),R(ve(d))}const c=new FormData;if(c.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&c.append("customerid",e==null?void 0:e.customerid),c.append("_id",e==null?void 0:e._id),c.append("propertyid",e==null?void 0:e.propertyid),c.append("guestname",e==null?void 0:e.guestname),c.append("passportnumber",e==null?void 0:e.passportnumber),c.append("email",e==null?void 0:e.email),c.append("nationality",e==null?void 0:e.nationality),c.append("mobilenumber",e==null?void 0:e.mobilenumber),c.append("updatedBy",T==null?void 0:T._id),e!=null&&e.contractupdation&&c.append("contractupdation",e==null?void 0:e.contractupdation),N&&c.append("passportpdf",N),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?c.append("contractstartdate",e==null?void 0:e.contractstartdate):c.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?c.append("contractenddate",e==null?void 0:e.contractenddate):c.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?c.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):c.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?c.append("contractvalue",e==null?void 0:e.contractvalue):c.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?c.append("rentalamount",e==null?void 0:e.rentalamount):c.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?c.append("securitydepositamount",e==null?void 0:e.securitydepositamount):c.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?c.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):c.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?c.append("commission",e==null?void 0:e.commission):c.append("commission",""),_&&c.append("ejari_certificate_doc",_),k&&c.append("tenancy_contract_doc",k),x&&c.append("addendum_doc",x),C&&c.append("key_receipt_doc",C),e!=null&&e.chequeDetails){const v=[];for(const b of e.chequeDetails){const z=(a=b==null?void 0:b.chequenumbe)!=null?a:"",$=(l=b==null?void 0:b.chequedate)!=null?l:"",U=(p=b==null?void 0:b.totalamount)!=null?p:"",m=(f=b==null?void 0:b.chequeimage)!=null?f:"";let s;if(m)if(typeof m!="string")try{s=(await w(m,"chequeimage")).data.files[0]}catch(g){console.log(g,"in cheque image")}else s=m;const h={chequenumbe:z,chequedate:$,totalamount:U,chequeimage:s||""};v.push(h)}c.append("chequeDetails",JSON.stringify(v))}else c.append("chequeDetails",[]);await en(c),be.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ie("/all-tenantcontract")},1200)}catch(N){console.log(N,"error"),ne(!1)}}};return i(F,{children:[i(ai,{},void 0,!1,{fileName:t,lineNumber:1539,columnNumber:13},void 0),i(di,{title:"tenant contract Form",children:i("div",{children:i("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[i("div",{className:"w-[100%] col-span-3",children:i("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"},void 0,!1,{fileName:t,lineNumber:1544,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1543,columnNumber:25},void 0),i("div",{className:"w-[100%] col-span-3",children:[i("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"},void 0,!1,{fileName:t,lineNumber:1549,columnNumber:29},void 0),i(ue,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:we,value:we.filter(function(o){return o.value===(e==null?void 0:e.propertyid)}),onChange:o=>{y({...e,propertyid:o==null?void 0:o.value})},styles:he,id:"hh",placeholder:"Select and Search property"},void 0,!1,{fileName:t,lineNumber:1552,columnNumber:29},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Oe},void 0,!1,{fileName:t,lineNumber:1567,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1548,columnNumber:25},void 0),i(F,{children:e!=null&&e.propertyid?i(F,{children:i("div",{className:"w-[100%] col-span-3",children:i("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Unit number"},void 0,!1,{fileName:t,lineNumber:1579,columnNumber:53},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1581,columnNumber:57},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1582,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1580,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1578,columnNumber:49},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Community Name"},void 0,!1,{fileName:t,lineNumber:1586,columnNumber:53},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1588,columnNumber:57},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1589,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1587,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1585,columnNumber:49},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Project Name"},void 0,!1,{fileName:t,lineNumber:1593,columnNumber:53},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1595,columnNumber:57},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1596,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1594,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1592,columnNumber:49},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Building Name"},void 0,!1,{fileName:t,lineNumber:1600,columnNumber:53},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1602,columnNumber:57},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1603,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1601,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1599,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1577,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:1576,columnNumber:41},void 0)},void 0,!1):null},void 0,!1),i("div",{className:"w-[100%] col-span-3",children:i("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1612,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1611,columnNumber:25},void 0),i("div",{className:"w-[100%] col-span-3",children:i("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"},void 0,!1,{fileName:t,lineNumber:1615,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1614,columnNumber:25},void 0),i("div",{className:"w-[100%] col-span-3",children:[i("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:dn.map(o=>i(ci,{label:o.label,name:"color",value:o.value,checked:(e==null?void 0:e.customertype)===o.value,onChange:an},void 0,!1,{fileName:t,lineNumber:1622,columnNumber:37},void 0))},void 0,!1,{fileName:t,lineNumber:1620,columnNumber:29},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ge},void 0,!1,{fileName:t,lineNumber:1631,columnNumber:29},void 0),i("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?i(F,{children:[i("div",{className:"w-[100%] col-span-3",children:[i("div",{children:O!=null&&O.length?i(F,{children:[i("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"},void 0,!1,{fileName:t,lineNumber:1643,columnNumber:65},void 0),i(ue,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:O,value:O==null?void 0:O.filter(function(o){return o.value===(e==null?void 0:e.customerid)}),onChange:o=>{y({...e,customerid:o==null?void 0:o.value})},styles:he,id:"hh"},void 0,!1,{fileName:t,lineNumber:1646,columnNumber:65},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:re&&"Customer details are required"},void 0,!1,{fileName:t,lineNumber:1660,columnNumber:65},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1639,columnNumber:49},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Fn},void 0,!1,{fileName:t,lineNumber:1666,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1638,columnNumber:45},void 0),i(F,{children:e!=null&&e.customerid?i(F,{children:[i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Tenant Name"},void 0,!1,{fileName:t,lineNumber:1673,columnNumber:65},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1675,columnNumber:69},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1676,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1674,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1672,columnNumber:61},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Email"},void 0,!1,{fileName:t,lineNumber:1680,columnNumber:65},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"},void 0,!1,{fileName:t,lineNumber:1682,columnNumber:69},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1683,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1681,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1679,columnNumber:61},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Mobile Number"},void 0,!1,{fileName:t,lineNumber:1687,columnNumber:65},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1689,columnNumber:69},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1690,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1688,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1686,columnNumber:61},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Passport no"},void 0,!1,{fileName:t,lineNumber:1694,columnNumber:65},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1696,columnNumber:69},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1697,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1695,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1693,columnNumber:61},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1701,columnNumber:65},void 0),i("div",{className:"relative ",children:[i("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"},void 0,!1,{fileName:t,lineNumber:1703,columnNumber:69},void 0),i("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1704,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1702,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1700,columnNumber:61},void 0),i("div",{className:"fromGroup       ",children:[i("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1708,columnNumber:65},void 0),Se!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1716,columnNumber:77},void 0)},void 0,!1,{fileName:t,lineNumber:1715,columnNumber:73},void 0):i(V,{name:"basic",selectedFile:J,onChange:Pe},void 0,!1,{fileName:t,lineNumber:1719,columnNumber:73},void 0)]},void 0,!0,{fileName:t,lineNumber:1707,columnNumber:61},void 0)]},void 0,!0):null},void 0,!1)]},void 0,!0):(e==null?void 0:e.customertype)==="New Tenant"?i(F,{children:[i("div",{children:[i(E,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1745,columnNumber:53},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ze},void 0,!1,{fileName:t,lineNumber:1755,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1744,columnNumber:49},void 0),i("div",{children:[i(E,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1760,columnNumber:53},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:re},void 0,!1,{fileName:t,lineNumber:1770,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1759,columnNumber:49},void 0),i("div",{children:[i(E,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1775,columnNumber:53},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$e},void 0,!1,{fileName:t,lineNumber:1785,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1774,columnNumber:49},void 0),i("div",{children:[i(E,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1790,columnNumber:53},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:jn},void 0,!1,{fileName:t,lineNumber:1800,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1789,columnNumber:49},void 0),i("div",{children:[i("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1805,columnNumber:53},void 0),i(ue,{className:"react-select",classNamePrefix:"select",name:"nationality",value:fe.getAllCountries().filter(function(o){return o.name===(e==null?void 0:e.nationality)}),options:fe.getAllCountries(),styles:he,id:"hh",getOptionLabel:o=>o.name,getOptionValue:o=>o.name,onChange:o=>{We(o==null?void 0:o.name),A({target:{name:"nationality",value:o.name}})}},void 0,!1,{fileName:t,lineNumber:1808,columnNumber:53},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ue},void 0,!1,{fileName:t,lineNumber:1829,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1804,columnNumber:49},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1834,columnNumber:53},void 0),Se!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1840,columnNumber:65},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:rn},void 0,!1,{fileName:t,lineNumber:1841,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1839,columnNumber:61},void 0):i(V,{name:"basic",selectedFile:J,onChange:Pe},void 0,!1,{fileName:t,lineNumber:1844,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:1833,columnNumber:49},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1634,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1619,columnNumber:25},void 0),i("div",{className:"w-[100%] col-span-3",children:i("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1856,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1855,columnNumber:25},void 0),i("div",{className:"w-[100%] col-span-3",children:[i("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"},void 0,!1,{fileName:t,lineNumber:1861,columnNumber:37},void 0),i(me,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:o=>{A({target:{name:"contractexecutiondate",value:o[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"},void 0,!1,{fileName:t,lineNumber:1864,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1860,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"},void 0,!1,{fileName:t,lineNumber:1877,columnNumber:37},void 0),i(me,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:o=>{A({target:{name:"contractstartdate",value:o[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"},void 0,!1,{fileName:t,lineNumber:1880,columnNumber:37},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Tn},void 0,!1,{fileName:t,lineNumber:1892,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1876,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"},void 0,!1,{fileName:t,lineNumber:1897,columnNumber:37},void 0),i(me,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:o=>{A({target:{name:"contractenddate",value:o[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"},void 0,!1,{fileName:t,lineNumber:1900,columnNumber:37},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:En},void 0,!1,{fileName:t,lineNumber:1912,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1896,columnNumber:33},void 0),i(F,{},void 0,!1),i("div",{children:[i(E,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1934,columnNumber:37},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Un},void 0,!1,{fileName:t,lineNumber:1944,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1933,columnNumber:33},void 0),i("div",{children:[i(E,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:1949,columnNumber:37},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Vn},void 0,!1,{fileName:t,lineNumber:1959,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1948,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1964,columnNumber:37},void 0),Xe!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1970,columnNumber:49},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:sn},void 0,!1,{fileName:t,lineNumber:1971,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1969,columnNumber:45},void 0):i(V,{name:"basic",selectedFile:Z,onChange:pn},void 0,!1,{fileName:t,lineNumber:1974,columnNumber:45},void 0)]},void 0,!0,{fileName:t,lineNumber:1963,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1982,columnNumber:37},void 0),Ze!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1988,columnNumber:49},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Nn},void 0,!1,{fileName:t,lineNumber:1989,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1987,columnNumber:45},void 0):i(V,{name:"basic",selectedFile:I,onChange:fn},void 0,!1,{fileName:t,lineNumber:1992,columnNumber:45},void 0)]},void 0,!0,{fileName:t,lineNumber:1981,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2e3,columnNumber:37},void 0),Ie!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2006,columnNumber:49},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:hn},void 0,!1,{fileName:t,lineNumber:2007,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2005,columnNumber:45},void 0):i(V,{name:"basic",selectedFile:D,onChange:bn},void 0,!1,{fileName:t,lineNumber:2010,columnNumber:45},void 0)]},void 0,!0,{fileName:t,lineNumber:1999,columnNumber:33},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2018,columnNumber:37},void 0),De!==""?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2024,columnNumber:49},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:xn},void 0,!1,{fileName:t,lineNumber:2025,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2023,columnNumber:45},void 0):i(V,{name:"basic",selectedFile:ee,onChange:gn},void 0,!1,{fileName:t,lineNumber:2028,columnNumber:45},void 0)]},void 0,!0,{fileName:t,lineNumber:2017,columnNumber:33},void 0),i(F,{},void 0,!1),i("div",{children:[i(E,{label:"no of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:j,onChange:A},void 0,!1,{fileName:t,lineNumber:2053,columnNumber:37},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ln},void 0,!1,{fileName:t,lineNumber:2063,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2052,columnNumber:33},void 0),i(F,{},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1859,columnNumber:29},void 0),q>0&&i(F,{children:Array.from({length:q},(o,a)=>{var l,p,f,N,_,k,x,C,d,c;return i("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[i("div",{children:[i(E,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${a}`,value:((p=(l=e==null?void 0:e.chequeDetails)==null?void 0:l[a])==null?void 0:p.chequenumbe)||"",register:j,onChange:v=>kn(v,a)},void 0,!1,{fileName:t,lineNumber:2146,columnNumber:49},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:On[a]},void 0,!1,{fileName:t,lineNumber:2156,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2145,columnNumber:45},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"},void 0,!1,{fileName:t,lineNumber:2161,columnNumber:49},void 0),i(me,{className:"form-control py-2",name:"chequedate",value:((N=(f=e==null?void 0:e.chequeDetails)==null?void 0:f[a])==null?void 0:N.chequedate)||"",onChange:v=>Cn(v,a),id:"default-picker",placeholder:"Select cheque date"},void 0,!1,{fileName:t,lineNumber:2164,columnNumber:49},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gn[a]},void 0,!1,{fileName:t,lineNumber:2173,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2160,columnNumber:45},void 0),i("div",{children:[i(E,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${a}`,value:((k=(_=e==null?void 0:e.chequeDetails)==null?void 0:_[a])==null?void 0:k.totalamount)||"",register:j,onChange:v=>wn(v,a)},void 0,!1,{fileName:t,lineNumber:2178,columnNumber:49},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:zn[a]},void 0,!1,{fileName:t,lineNumber:2188,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2177,columnNumber:45},void 0),i("div",{children:[i("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2193,columnNumber:49},void 0),((x=S==null?void 0:S[a])==null?void 0:x.chequeimage)!==""&&te.pathname===`/update-tenantcontract/${P}`&&((C=S==null?void 0:S[a])==null?void 0:C.chequeimage)!==void 0?i("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[i("a",{target:"_blank",href:`http://stg.srp.ai${(d=S==null?void 0:S[a])==null?void 0:d.chequeimage}`,children:decodeURIComponent((c=S==null?void 0:S[a])==null?void 0:c.chequeimage).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2199,columnNumber:61},void 0),i("img",{src:X,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>_n(a)},void 0,!1,{fileName:t,lineNumber:2200,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:2198,columnNumber:57},void 0):i(V,{name:`chequeimage-${a}`,selectedFile:Ee[a],onChange:v=>Sn(v,a)},void 0,!1,{fileName:t,lineNumber:2203,columnNumber:57},void 0),i("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$n[a]},void 0,!1,{fileName:t,lineNumber:2210,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2192,columnNumber:45},void 0),q>1&&a!==q-1&&i("div",{className:"w-[100%] col-span-3",children:i("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:2216,columnNumber:53},void 0)},void 0,!1,{fileName:t,lineNumber:2215,columnNumber:49},void 0)]},a+1,!0,{fileName:t,lineNumber:2144,columnNumber:41},void 0)})},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1858,columnNumber:25},void 0),i("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[i("div",{className:`"ltr:text-right rtl:text-left " ${K===!0?"cursor-not-allowed	":""}`,children:K===!0?i("div",{className:` ${K===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2228,columnNumber:41},void 0):i(ri,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2229,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2225,columnNumber:29},void 0),te.pathname===`/update-tenantcontract/${P}`?i("div",{className:"ltr:text-right rtl:text-left",children:i("div",{className:`${K===!0?"opacity-[0.7]":""}`,children:i("button",{className:"btn btn-dark  text-center",type:"button",onClick:Hn,children:"Update"},void 0,!1,{fileName:t,lineNumber:2236,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2235,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2234,columnNumber:37},void 0):i("div",{className:"ltr:text-right rtl:text-left",children:i("div",{className:`${K===!0?"opacity-[0.7]":""}`,children:i("button",{className:"btn btn-dark  text-center",onClick:Qn,type:"button",children:"Submit"},void 0,!1,{fileName:t,lineNumber:2241,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2240,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2239,columnNumber:37},void 0),K===!0?i("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:i("div",{className:"loader-spiner"},void 0,!1,{fileName:t,lineNumber:2249,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2248,columnNumber:37},void 0):null]},void 0,!0,{fileName:t,lineNumber:2224,columnNumber:25},void 0)]},void 0,!0,{fileName:t,lineNumber:1542,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:1541,columnNumber:17},void 0)},void 0,!1,{fileName:t,lineNumber:1540,columnNumber:13},void 0)]},void 0,!0)};export{qi as default};
