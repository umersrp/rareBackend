import{bt as Hi,z as Qi,af as Ki,r,B as Yi,cc as Wi,c9 as Xi,ce as Zi,cf as Ii,v as Di,w as M,x as en,j as n,F as g,s as nn,C as ln,ap as ae,aj as tn,an as T,k as F,bN as de,bO as H,aB as le,L as on,y as an,H as Ie,bP as Q,bI as ce,bQ as re,Q as me}from"./index.1a14bb64.js";var l="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\tenant-contract\\TenantForm.jsx";const pe={option:(k,W)=>({...k,fontSize:"14px"})},hn=()=>{const{id:k}=Hi(),W=Qi(),X=Ki(),[e,v]=r.exports.useState(""),[se,ue]=r.exports.useState(""),[fe,Ne]=r.exports.useState(""),[ve,be]=r.exports.useState(""),[he,ye]=r.exports.useState(""),[dn,De]=r.exports.useState(""),q=a=>{const{name:o,value:t}=a.target;v({...e,[o]:t})},Z=new URLSearchParams(window.location.search),I=Z.get("propertyid"),z=Z.get("renew"),E=Z.get("customerid"),D=Z.get("contractenddate");r.exports.useEffect(()=>{I!=null&&v(a=>({...a,propertyid:I}))},[I]),r.exports.useEffect(()=>{z!=null&&v(a=>({...a,contractupdation:z}))},[z]),r.exports.useEffect(()=>{E!=null&&(v(o=>({...o,customerid:E,customertype:"Existing Tenant"})),(async()=>{if(E){const t=await(await fetch(`http://dev-rare.srp.ai/users/${E}`)).json();t&&(Ae(t),v({...e,guestname:(t==null?void 0:t.firstname)+" "+(t==null?void 0:t.lastname),passportnumber:t==null?void 0:t.passportidno,email:t==null?void 0:t.email,nationality:t==null?void 0:t.passportno,mobilenumber:t==null?void 0:t.whatsappno,passportpdf:(t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""}),ie((t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""))}})())},[E]),r.exports.useEffect(()=>{if(D!=null){const a=new Date(D);a.setDate(a.getDate()+1);const o=a.toISOString();v(t=>({...t,contractstartdate:o}))}},[D]);const O=Yi(),{data:ee}=Wi(),{data:N,isSuccess:xe}=Xi(k),[ge,cn]=r.exports.useState(!1),[_e,ke]=r.exports.useState(""),[ei,qe]=r.exports.useState(""),[ii,Ce]=r.exports.useState(""),[Se,we]=r.exports.useState("");r.exports.useEffect(()=>{var a,o,t,d,c,u,m,p,h,_,s,f;k&&N&&xe&&(v(N==null?void 0:N.tenantContract),ke(((a=N==null?void 0:N.tenantContract)==null?void 0:a.ejari_certificate_doc)&&((o=N==null?void 0:N.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(t=N==null?void 0:N.tenantContract)==null?void 0:t.ejari_certificate_doc:""),qe(((d=N==null?void 0:N.tenantContract)==null?void 0:d.tenancy_contract_doc)&&((c=N==null?void 0:N.tenantContract)==null?void 0:c.tenancy_contract_doc)!==void 0?(u=N==null?void 0:N.tenantContract)==null?void 0:u.tenancy_contract_doc:""),Ce(((m=N==null?void 0:N.tenantContract)==null?void 0:m.addendum_doc)&&((p=N==null?void 0:N.tenantContract)==null?void 0:p.addendum_doc)!==void 0?(h=N==null?void 0:N.tenantContract)==null?void 0:h.addendum_doc:""),we(((_=N==null?void 0:N.tenantContract)==null?void 0:_.key_receipt_doc)&&((s=N==null?void 0:N.tenantContract)==null?void 0:s.key_receipt_doc)!==void 0?(f=N==null?void 0:N.tenantContract)==null?void 0:f.key_receipt_doc:""))},[k,N,xe]);const[Fe]=Zi(),[ni]=Ii(),[Pe,li]=r.exports.useState([]);r.exports.useEffect(()=>{fetch("http://dev-rare.srp.ai/property").then(a=>a.json()).then(a=>{const o=a==null?void 0:a.map(t=>({label:t.unitnumber+" | "+t.communityname+" | "+t.projectname+" | "+t.buildingname,value:t._id}));li(o)})},[]),r.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const t=await(await fetch(`http://dev-rare.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();t&&v({...e,unitnumber:t==null?void 0:t.unitnumber,buildingname:t==null?void 0:t.building_name,projectname:t==null?void 0:t.project_name,communityname:t==null?void 0:t.community_name})}})()},[e==null?void 0:e.propertyid]);const[P,ti]=r.exports.useState("");r.exports.useEffect(()=>{(async()=>{await fetch("http://dev-rare.srp.ai/users/api/customers").then(o=>o.json()).then(o=>{var d;const t=(d=o==null?void 0:o.users)==null?void 0:d.map(c=>({label:c.firstname+" "+c.lastname+" | "+c.email+" | "+c.passportidno+" | "+c.whatsappno,value:c._id}));ti(t)})})()},[]);const[je,ie]=r.exports.useState(""),[i,Ae]=r.exports.useState("");r.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const t=await(await fetch(`http://dev-rare.srp.ai/users/${e==null?void 0:e.customerid}`)).json();t&&(Ae(t),v({...e,guestname:(t==null?void 0:t.firstname)+" "+(t==null?void 0:t.lastname),passportnumber:t==null?void 0:t.passportidno,email:t==null?void 0:t.email,nationality:t==null?void 0:t.passportno,mobilenumber:t==null?void 0:t.whatsappno,passportpdf:(t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""}),ie((t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Te,oi]=r.exports.useState([]);r.exports.useEffect(()=>{(async()=>{const t=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return oi(t==null?void 0:t.users)})()},[]);const[rn,ai]=r.exports.useState(e==null?void 0:e.customertype),di=a=>{ai(a.target.value),v({...e,customertype:a.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),ie("")},ci=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];r.exports.useEffect(()=>{(async()=>{try{const o=de.getAllCountries();let t=[];t=o==null?void 0:o.map(({isoCode:d,name:c})=>({isoCode:d,name:c}))}catch(o){console.log(o)}})()},[]);const[G,ri]=r.exports.useState(null),ze=a=>{ri(a.target.files[0]),v({...e,passportpdf:a.target.files[0]})},mi=()=>{v({...e,passportpdf:""}),ie("")},[K,Ee]=r.exports.useState(null),pi=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Ee(o),v({...e,ejari_certificate_doc:o}),ue("")):(Ee(null),v({...e,ejari_certificate_doc:null}),ue("File size exceeds 10MB limit!"))},si=()=>{v({...e,ejari_certificate_doc:""}),ke("")},[$,Oe]=r.exports.useState(null),ui=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Oe(o),v({...e,tenancy_contract_doc:o}),Ne("")):(Oe(null),v({...e,tenancy_contract_doc:null}),Ne("File size exceeds 10MB limit!"))},fi=()=>{v({...e,tenancy_contract_doc:""}),qe("")},[U,Ge]=r.exports.useState(null),Ni=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Ge(o),v({...e,addendum_doc:o}),be("")):(Ge(null),v({...e,addendum_doc:null}),be("File size exceeds 10MB limit!"))},vi=()=>{v({...e,addendum_doc:""}),Ce("")},[Y,$e]=r.exports.useState(null),bi=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?($e(o),v({...e,key_receipt_doc:o}),ye("")):($e(null),v({...e,key_receipt_doc:null}),ye("File size exceeds 10MB limit!"))},hi=()=>{v({...e,key_receipt_doc:""}),we("")};r.exports.useState(null);const[x,Ue]=r.exports.useState("");r.exports.useEffect(()=>{if(k&&(e==null?void 0:e.chequeDetails)&&X.pathname===`/update-tenantcontract/${k}`){const a=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Ue(a)}},[k,e==null?void 0:e.chequeDetails]);const yi=a=>{Ue(o=>{const t=[...o];return t[a]={...t[a],chequeimage:""},t}),v(o=>{const t={...o},d=[...t.chequeDetails];return d[a]={...d[a],chequeimage:""},t.chequeDetails=d,t})},[y,Ve]=r.exports.useState(0);r.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Ve(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Ve(0)},[e==null?void 0:e.noofchequeorinstallment]),r.exports.useState([]);const[Be,xi]=r.exports.useState([]),gi=(a,o)=>{let t=[];a.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const d=t[o]||{};t[o]={...d,chequenumbe:a.target.value,chequedate:(d==null?void 0:d.chequedate)||"",totalamount:(d==null?void 0:d.totalamount)||""};const c={...e,chequeDetails:t};v(c)},_i=(a,o)=>{let t=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const d=t[o]||{};t[o]={...d,chequedate:a[0]||""};const c={...e,chequeDetails:t};v(c)},ki=(a,o)=>{let t=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const d=t[o]||{};t[o]={...d,totalamount:a.target.value,chequenumbe:(d==null?void 0:d.chequenumbe)||"",chequedate:(d==null?void 0:d.chequedate)||"",chequeimage:(d==null?void 0:d.chequeimage)||""};const c={...e,chequeDetails:t};v(c)},qi=(a,o)=>{const t=[...Be],d=o.target.files[0];t[a]=d,xi(t);let c=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(c=[...e.chequeDetails]);const u=c[a]||{};c[a]={...u,totalamount:(u==null?void 0:u.totalamount)||"",chequenumbe:(u==null?void 0:u.chequenumbe)||"",chequedate:(u==null?void 0:u.chequedate)||"",chequeimage:d};const m={...e,chequeDetails:c};v(m)},[Le,j]=r.exports.useState(""),[Ci,mn]=r.exports.useState(""),[Re,Si]=r.exports.useState(""),[ne,V]=r.exports.useState(""),[Je,wi]=r.exports.useState(""),[Me,pn]=r.exports.useState(""),[He,sn]=r.exports.useState(""),[Fi,un]=r.exports.useState(""),[Pi,B]=r.exports.useState(""),[ji,L]=r.exports.useState("");r.exports.useState("");const[Ai,Qe]=r.exports.useState(Array(y).fill("")),[Ti,Ke]=r.exports.useState(Array(y).fill("")),[zi,Ye]=r.exports.useState(Array(y).fill("")),[Ei,We]=r.exports.useState(Array(y).fill("")),[Oi,fn]=r.exports.useState(""),[Gi,Nn]=r.exports.useState(""),[$i,te]=r.exports.useState("");r.exports.useState("");const[Xe,oe]=r.exports.useState(!1);r.exports.useEffect(()=>{e.customertype==="New Tenant"&&X.pathname==="/add-tenantcontract"?Te.find(o=>o.email===e.email)?(V("Email is already in use. Please check existing tenants."),oe(!0)):(V(""),oe(!1)):e.customertype==="Existing Tenant"&&(V(""),oe(!1))},[e.customertype,e.email,Te]);let Ui={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no. of cheque or installment",commission:"commission"};const Vi=Di({propertyid:M().required(Le),customertype:M().required(Re),email:M().email(ne).required(ne),guestname:M().required(Je),mobilenumber:M().required(Me),nationality:M().required(He)}).required(),{register:C,formState:{errors:vn}}=en({resolver:an(Vi)}),Ze=()=>{let a=!1,o={propertyid:j,customertype:Si,email:V,guestname:wi};return o&&Object.keys(o).length&&Object.keys(o).map(t=>{o[t](""),e[t]||(o[t](Ui[t]+" is required"),a=!0)}),a},[R,A]=r.exports.useState(!1),Bi=localStorage.getItem("isAuth"),S=JSON.parse(Bi),[Li,J]=r.exports.useState(!1);r.exports.useEffect(()=>{const a=o=>{const{_id:t,propertyid:d,contractstartdate:c,contractenddate:u}=o,{contractstartdate:m,contractenddate:p,propertyid:h}=e;return t!==(e==null?void 0:e._id)&&c&&u&&new Date(c).toISOString()<new Date(p).toISOString()&&new Date(u).toISOString()>new Date(m).toISOString()&&d===h?(J(!0),j("Property is already Listed"),B("Property is already Listed"),L("Property is already Listed"),!0):(J(!1),j(""),B(""),L(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let o=0;o<(ee==null?void 0:ee.length);o++){const t=ee[o];if(a(t)){J(!0),j("Property is already Listed"),B("Property is already Listed"),L("Property is already Listed");break}else{J(!1),j(""),B(""),L("");break}}else J(!1),j(""),B(""),L("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Ri=async()=>{if(Qe(Array(y).fill("")),Ke(Array(y).fill("")),Ye(Array(y).fill("")),We(Array(y).fill("")),!e.propertyid||!e.guestname||!e.email)Ze();else if(!(e!=null&&e.customerid)&&!Ie.isEmail(e.email))V("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ge===!1&&Xe===!1&&Li===!1){let a;A(!0);try{let o=[];G&&o.push(Q(G,"Passport"));let t=await Promise.all(o);if(t.length){let d=[];for(let b=0;b<t.length;b++){let w=t[b].data.files;d.push(w)}let c=[];for(let b of d)for(let w of b){let Mi=w;c.push(Mi)}let u="",m="",p="",h="",_="";for(let b of c)b.includes("Passport")?u=b:b.includes("ejari_certificate_doc")?m=b:b.includes("tenancy_contract_doc")?p=b:b.includes("addendum_doc")?h=b:b.includes("key_receipt_doc")&&(_=b);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let b=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",b[0]),s.append("lastname",b[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),s.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),s.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),s.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),s.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),s.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),s.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),s.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),s.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),s.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),s.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),s.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),s.append("altemail",i.altemail===void 0?"":i.altemail),s.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),s.append("password",i.password===void 0?"":i.password),s.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),s.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),s.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),s.append("type","tenant"),i!=null&&i.employeeid&&s.append("employeeid",i==null?void 0:i.employeeid),u?s.append("passportpdf",u):s.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i.passportpdf),O(ce(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let b=e==null?void 0:e.guestname.split(" ");s.append("firstname",b[0]),s.append("lastname",b[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("type","tenant"),u&&s.append("passportpdf",u),O(re(s))}const f=new FormData;f.append("propertyid",e==null?void 0:e.propertyid),f.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&f.append("customerid",e==null?void 0:e.customerid),f.append("guestname",e==null?void 0:e.guestname),f.append("passportnumber",e==null?void 0:e.passportnumber),f.append("email",e==null?void 0:e.email),f.append("nationality",e==null?void 0:e.nationality),f.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),f.append("createdBy",S==null?void 0:S._id),z&&f.append("contractupdation",e==null?void 0:e.contractupdation),u&&f.append("passportpdf",u),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?f.append("contractstartdate",e==null?void 0:e.contractstartdate):f.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?f.append("contractenddate",e==null?void 0:e.contractenddate):f.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?f.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):f.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?f.append("contractvalue",e==null?void 0:e.contractvalue):f.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?f.append("rentalamount",e==null?void 0:e.rentalamount):f.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?f.append("securitydepositamount",e==null?void 0:e.securitydepositamount):f.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?f.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):f.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?f.append("commission",e==null?void 0:e.commission):f.append("commission",""),m?f.append("ejari_certificate_doc",m):f.append("ejari_certificate_doc",""),p?f.append("tenancy_contract_doc",p):f.append("tenancy_contract_doc",""),h?f.append("addendum_doc",h):f.append("addendum_doc",""),_?f.append("key_receipt_doc",_):f.append("key_receipt_doc",""),e!=null&&e.chequeDetails&&e.chequeDetails.map((b,w)=>(f.append("chequeDetailsImages",b.chequeimage),b.chequeimage="",b)),f.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await Fe(f),me.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200),A(!1)}else{const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let u=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",u[0]),d.append("lastname",u[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),d.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),d.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),d.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),d.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),d.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),d.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),d.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),d.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),d.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),d.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),d.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),d.append("altemail",i.altemail===void 0?"":i.altemail),d.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),d.append("password",i.password===void 0?"":i.password),d.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),d.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),d.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),d.append("passportpdf",i==null?void 0:i.passportpdf),d.append("type","tenant"),i!=null&&i.employeeid&&d.append("employeeid",i==null?void 0:i.employeeid),O(ce(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let u=e==null?void 0:e.guestname.split(" ");d.append("firstname",u[0]),d.append("lastname",u[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("type","tenant"),d.append("passportpdf",e==null?void 0:e.passportpdf),O(re(d))}const c=new FormData;if(c.append("propertyid",e==null?void 0:e.propertyid),c.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&c.append("customerid",e==null?void 0:e.customerid),c.append("guestname",e==null?void 0:e.guestname),c.append("passportnumber",e==null?void 0:e.passportnumber),c.append("email",e==null?void 0:e.email),c.append("nationality",e==null?void 0:e.nationality),c.append("mobilenumber",e==null?void 0:e.mobilenumber),c.append("createdBy",S==null?void 0:S._id),c.append("passportpdf",""),z&&c.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?c.append("contractstartdate",e==null?void 0:e.contractstartdate):c.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?c.append("contractenddate",e==null?void 0:e.contractenddate):c.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?c.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):c.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?c.append("contractvalue",e==null?void 0:e.contractvalue):c.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?c.append("rentalamount",e==null?void 0:e.rentalamount):c.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?c.append("securitydepositamount",e==null?void 0:e.securitydepositamount):c.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?c.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):c.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?c.append("commission",e==null?void 0:e.commission):c.append("commission",""),c.append("ejari_certificate_doc",K),c.append("tenancy_contract_doc",$),c.append("addendum_doc",U),c.append("key_receipt_doc",Y),e!=null&&e.chequeDetails&&e.chequeDetails.map((u,m)=>(c.append("chequeDetailsImages",u.chequeimage),u.chequeimage="",u)),c.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),A(!1),a=await Fe(c),a.data.status===!0)return me.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200);A(!1)}}catch(o){console.log(o,"error"),A(!1)}}},Ji=async a=>{if(a.preventDefault(),Qe(Array(y).fill("")),Ke(Array(y).fill("")),Ye(Array(y).fill("")),We(Array(y).fill("")),!e.propertyid||!e.guestname||!e.email)Ze();else if(!(e!=null&&e.customerid)&&!Ie.isEmail(e.email))V("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&ge===!1&&Xe===!1){A(!0);try{let o=e==null?void 0:e.passportpdf,t=e==null?void 0:e.ejari_certificate_doc,d=e==null?void 0:e.tenancy_contract_doc,c=e==null?void 0:e.addendum_doc,u=e==null?void 0:e.key_receipt_doc;G!==null&&(o=await Q(G,"Passport"),o=o.data.files[0]),K!==null&&(t=await Q(K,"ejari_certificate_doc"),t=t.data.files[0]),$!==null&&(d=await Q($,"tenancy_contract_doc"),d=d.data.files[0]),U!==null&&(c=await Q(U,"addendum_doc"),c=c.data.files[0]),Y!==null&&(u=await Q(Y,"key_receipt_doc"),u=u.data.files[0]);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let h=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",h[0]),m.append("lastname",h[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",(i==null?void 0:i.contactno)===void 0||(i==null?void 0:i.contactno)===null?"":i==null?void 0:i.contactno),m.append("datebirth",(i==null?void 0:i.datebirth)===void 0||(i==null?void 0:i.datebirth)===null?"":i==null?void 0:i.datebirth),m.append("countryofresidence",(i==null?void 0:i.countryofresidence)===void 0||(i==null?void 0:i.countryofresidence)===null?"":i==null?void 0:i.countryofresidence),m.append("memberid",(i==null?void 0:i.memberid)===void 0||(i==null?void 0:i.memberid)===null?"":i==null?void 0:i.memberid),m.append("nameonpassport",(i==null?void 0:i.nameonpassport)===void 0||(i==null?void 0:i.nameonpassport)===null?"":i==null?void 0:i.nameonpassport),m.append("nationalidexpiry",(i==null?void 0:i.nationalidexpiry)===void 0||(i==null?void 0:i.nationalidexpiry)===null?"":i==null?void 0:i.nationalidexpiry),m.append("nationalidissuedate",(i==null?void 0:i.nationalidissuedate)===void 0||(i==null?void 0:i.nationalidissuedate)===null?"":i==null?void 0:i.nationalidissuedate),m.append("nationalidno",(i==null?void 0:i.nationalidno)===void 0||(i==null?void 0:i.nationalidno)===null?"":i==null?void 0:i.nationalidno),m.append("passportexpiry",(i==null?void 0:i.passportexpiry)===void 0||(i==null?void 0:i.passportexpiry)===null?"":i==null?void 0:i.passportexpiry),m.append("passportissue",(i==null?void 0:i.passportissue)===void 0||(i==null?void 0:i.passportissue)===null?"":i==null?void 0:i.passportissue),m.append("postaladdress",(i==null?void 0:i.postaladdress)===void 0||(i==null?void 0:i.postaladdress)===null?"":i==null?void 0:i.postaladdress),m.append("primaryno",(i==null?void 0:i.primaryno)===void 0||(i==null?void 0:i.primaryno)===null?"":i==null?void 0:i.primaryno),m.append("altemail",(i==null?void 0:i.altemail)===void 0?"":i==null?void 0:i.altemail),m.append("altmobilenumber",(i==null?void 0:i.altmobilenumber)===void 0?"":i==null?void 0:i.altmobilenumber),m.append("password",(i==null?void 0:i.password)===void 0?"":i==null?void 0:i.password),m.append("confirmpass",(i==null?void 0:i.confirmpass)===void 0?"":i==null?void 0:i.confirmpass),m.append("residentstatus",(i==null?void 0:i.residentstatus)===void 0?"":i==null?void 0:i.residentstatus),m.append("nationalidpdf",(i==null?void 0:i.nationalidpdf)===void 0?"":i==null?void 0:i.nationalidpdf),m.append("type","tenant"),i!=null&&i.employeeid&&m.append("employeeid",i==null?void 0:i.employeeid),o?m.append("passportpdf",o):m.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i==null?void 0:i.passportpdf),O(ce(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let h=e==null?void 0:e.guestname.split(" ");m.append("firstname",h[0]),m.append("lastname",h[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),o&&m.append("passportpdf",o),m.append("type","tenant"),O(re(m))}const p=new FormData;p.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&p.append("customerid",e==null?void 0:e.customerid),p.append("_id",e==null?void 0:e._id),p.append("propertyid",e==null?void 0:e.propertyid),p.append("guestname",e==null?void 0:e.guestname),p.append("passportnumber",e==null?void 0:e.passportnumber),p.append("email",e==null?void 0:e.email),p.append("nationality",e==null?void 0:e.nationality),p.append("mobilenumber",e==null?void 0:e.mobilenumber),p.append("updatedBy",S==null?void 0:S._id),e!=null&&e.contractupdation&&p.append("contractupdation",e==null?void 0:e.contractupdation),o&&p.append("passportpdf",o),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?p.append("contractstartdate",e==null?void 0:e.contractstartdate):p.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?p.append("contractenddate",e==null?void 0:e.contractenddate):p.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?p.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):p.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?p.append("contractvalue",e==null?void 0:e.contractvalue):p.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?p.append("rentalamount",e==null?void 0:e.rentalamount):p.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?p.append("securitydepositamount",e==null?void 0:e.securitydepositamount):p.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?p.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):p.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?p.append("commission",e==null?void 0:e.commission):p.append("commission",""),t&&p.append("ejari_certificate_doc",t||K),d&&p.append("tenancy_contract_doc",d||$),c&&p.append("addendum_doc",c||U),u&&p.append("key_receipt_doc",u||Y),e!=null&&e.chequeDetails&&e.chequeDetails.map((h,_)=>(p.append("chequeDetailsImages",h.chequeimage),h.chequeimage="",h)),p.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await ni(p),me.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{W("/all-tenantcontract")},1200)}catch(o){console.log(o,"error"),A(!1)}}};return n(g,{children:[n(nn,{},void 0,!1,{fileName:l,lineNumber:1459,columnNumber:13},void 0),n(ln,{title:"tenant contract Form",children:n("div",{children:n("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"},void 0,!1,{fileName:l,lineNumber:1464,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1463,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"},void 0,!1,{fileName:l,lineNumber:1469,columnNumber:29},void 0),n(ae,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Pe,value:Pe.filter(function(a){return a.value===(e==null?void 0:e.propertyid)}),onChange:a=>{v({...e,propertyid:a==null?void 0:a.value})},styles:pe,id:"hh",placeholder:"Select and Search property"},void 0,!1,{fileName:l,lineNumber:1472,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Le},void 0,!1,{fileName:l,lineNumber:1487,columnNumber:29},void 0)]},void 0,!0,{fileName:l,lineNumber:1468,columnNumber:25},void 0),n(g,{children:e!=null&&e.propertyid?n(g,{children:n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Unit number"},void 0,!1,{fileName:l,lineNumber:1499,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1501,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1502,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1500,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1498,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Community Name"},void 0,!1,{fileName:l,lineNumber:1506,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1508,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1509,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1507,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1505,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Project Name"},void 0,!1,{fileName:l,lineNumber:1513,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1515,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1516,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1514,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1512,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Building Name"},void 0,!1,{fileName:l,lineNumber:1520,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1522,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1523,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1521,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1519,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1497,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:1496,columnNumber:41},void 0)},void 0,!1):null},void 0,!1),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:1532,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1531,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"},void 0,!1,{fileName:l,lineNumber:1535,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1534,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:ci.map(a=>n(tn,{label:a.label,name:"color",value:a.value,checked:(e==null?void 0:e.customertype)===a.value,onChange:di},void 0,!1,{fileName:l,lineNumber:1542,columnNumber:37},void 0))},void 0,!1,{fileName:l,lineNumber:1540,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Re},void 0,!1,{fileName:l,lineNumber:1551,columnNumber:29},void 0),n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?n(g,{children:[n("div",{className:"w-[100%] col-span-3",children:[n("div",{children:P!=null&&P.length?n(g,{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"},void 0,!1,{fileName:l,lineNumber:1563,columnNumber:65},void 0),n(ae,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:P,value:P==null?void 0:P.filter(function(a){return a.value===(e==null?void 0:e.customerid)}),onChange:a=>{v({...e,customerid:a==null?void 0:a.value})},styles:pe,id:"hh"},void 0,!1,{fileName:l,lineNumber:1566,columnNumber:65},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ne&&"Customer details are required"},void 0,!1,{fileName:l,lineNumber:1580,columnNumber:65},void 0)]},void 0,!0):null},void 0,!1,{fileName:l,lineNumber:1559,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ci},void 0,!1,{fileName:l,lineNumber:1586,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1558,columnNumber:45},void 0),n(g,{children:e!=null&&e.customerid?n(g,{children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Tenant Name"},void 0,!1,{fileName:l,lineNumber:1593,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1595,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1596,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1594,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1592,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Email"},void 0,!1,{fileName:l,lineNumber:1600,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"},void 0,!1,{fileName:l,lineNumber:1602,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1603,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1601,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1599,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Mobile Number"},void 0,!1,{fileName:l,lineNumber:1607,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1609,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1610,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1608,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1606,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport no"},void 0,!1,{fileName:l,lineNumber:1614,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1616,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1617,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1615,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1613,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Nationality"},void 0,!1,{fileName:l,lineNumber:1621,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"},void 0,!1,{fileName:l,lineNumber:1623,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1624,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1622,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1620,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1628,columnNumber:65},void 0),je!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1636,columnNumber:77},void 0)},void 0,!1,{fileName:l,lineNumber:1635,columnNumber:73},void 0):n(T,{name:"basic",selectedFile:G,onChange:ze},void 0,!1,{fileName:l,lineNumber:1639,columnNumber:73},void 0)]},void 0,!0,{fileName:l,lineNumber:1627,columnNumber:61},void 0)]},void 0,!0):null},void 0,!1)]},void 0,!0):(e==null?void 0:e.customertype)==="New Tenant"?n(g,{children:[n("div",{children:[n(F,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1665,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Je},void 0,!1,{fileName:l,lineNumber:1675,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1664,columnNumber:49},void 0),n("div",{children:[n(F,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1680,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ne},void 0,!1,{fileName:l,lineNumber:1690,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1679,columnNumber:49},void 0),n("div",{children:[n(F,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1695,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Me},void 0,!1,{fileName:l,lineNumber:1705,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1694,columnNumber:49},void 0),n("div",{children:[n(F,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1710,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Fi},void 0,!1,{fileName:l,lineNumber:1720,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1709,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"},void 0,!1,{fileName:l,lineNumber:1725,columnNumber:53},void 0),n(ae,{className:"react-select",classNamePrefix:"select",name:"nationality",value:de.getAllCountries().filter(function(a){return a.name===(e==null?void 0:e.nationality)}),options:de.getAllCountries(),styles:pe,id:"hh",getOptionLabel:a=>a.name,getOptionValue:a=>a.name,onChange:a=>{De(a==null?void 0:a.name),q({target:{name:"nationality",value:a.name}})}},void 0,!1,{fileName:l,lineNumber:1728,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:He},void 0,!1,{fileName:l,lineNumber:1749,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1724,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1754,columnNumber:53},void 0),je!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1760,columnNumber:65},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:mi},void 0,!1,{fileName:l,lineNumber:1761,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1759,columnNumber:61},void 0):n(T,{name:"basic",selectedFile:G,onChange:ze},void 0,!1,{fileName:l,lineNumber:1764,columnNumber:61},void 0)]},void 0,!0,{fileName:l,lineNumber:1753,columnNumber:49},void 0)]},void 0,!0):null},void 0,!1,{fileName:l,lineNumber:1554,columnNumber:29},void 0)]},void 0,!0,{fileName:l,lineNumber:1539,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:1776,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1775,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"},void 0,!1,{fileName:l,lineNumber:1781,columnNumber:37},void 0),n(le,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:a=>{q({target:{name:"contractexecutiondate",value:a[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"},void 0,!1,{fileName:l,lineNumber:1784,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1780,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"},void 0,!1,{fileName:l,lineNumber:1797,columnNumber:37},void 0),n(le,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:a=>{q({target:{name:"contractstartdate",value:a[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"},void 0,!1,{fileName:l,lineNumber:1800,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Pi},void 0,!1,{fileName:l,lineNumber:1812,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1796,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"},void 0,!1,{fileName:l,lineNumber:1817,columnNumber:37},void 0),n(le,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:a=>{q({target:{name:"contractenddate",value:a[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"},void 0,!1,{fileName:l,lineNumber:1820,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ji},void 0,!1,{fileName:l,lineNumber:1832,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1816,columnNumber:33},void 0),n(g,{},void 0,!1),n("div",{children:[n(F,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1854,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Oi},void 0,!1,{fileName:l,lineNumber:1864,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1853,columnNumber:33},void 0),n("div",{children:[n(F,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:C,onChange:q},void 0,!1,{fileName:l,lineNumber:1869,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gi},void 0,!1,{fileName:l,lineNumber:1879,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1868,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1884,columnNumber:37},void 0),_e!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1891,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:si},void 0,!1,{fileName:l,lineNumber:1892,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1890,columnNumber:45},void 0):n(T,{name:"basic",selectedFile:K,onChange:pi},void 0,!1,{fileName:l,lineNumber:1895,columnNumber:45},void 0),!_e&&se&&n("p",{style:{color:"red",fontSize:10},children:se},void 0,!1,{fileName:l,lineNumber:1903,columnNumber:85},void 0)]},void 0,!0,{fileName:l,lineNumber:1883,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1907,columnNumber:37},void 0),ei!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1914,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:fi},void 0,!1,{fileName:l,lineNumber:1915,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1913,columnNumber:45},void 0):n(T,{name:"basic",selectedFile:$,onChange:ui},void 0,!1,{fileName:l,lineNumber:1918,columnNumber:45},void 0),!$&&fe&&n("p",{style:{color:"red",fontSize:10},children:fe},void 0,!1,{fileName:l,lineNumber:1927,columnNumber:86},void 0)]},void 0,!0,{fileName:l,lineNumber:1906,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1930,columnNumber:37},void 0),ii!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1936,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:vi},void 0,!1,{fileName:l,lineNumber:1937,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1935,columnNumber:45},void 0):n(T,{name:"basic",selectedFile:U,onChange:Ni},void 0,!1,{fileName:l,lineNumber:1940,columnNumber:45},void 0),!U&&ve&&n("p",{style:{color:"red",fontSize:10},children:ve},void 0,!1,{fileName:l,lineNumber:1949,columnNumber:78},void 0)]},void 0,!0,{fileName:l,lineNumber:1929,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1952,columnNumber:37},void 0),Se!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1958,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:hi},void 0,!1,{fileName:l,lineNumber:1959,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1957,columnNumber:45},void 0):n(T,{name:"basic",selectedFile:Y,onChange:bi},void 0,!1,{fileName:l,lineNumber:1962,columnNumber:45},void 0),!Se&&he&&n("p",{style:{color:"red",fontSize:10},children:he},void 0,!1,{fileName:l,lineNumber:1970,columnNumber:76},void 0)]},void 0,!0,{fileName:l,lineNumber:1951,columnNumber:33},void 0),n(g,{},void 0,!1),n("div",{children:[n(F,{label:"no. of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:C,onInput:a=>{a.target.value>15?(te("No. of cheques must be less than 16"),setTimeout(()=>{te("")},3e3),v({...e,noofchequeorinstallment:15})):(te(""),v({...e,noofchequeorinstallment:a.target.value}))}},void 0,!1,{fileName:l,lineNumber:1990,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$i},void 0,!1,{fileName:l,lineNumber:2013,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1989,columnNumber:33},void 0),n(g,{},void 0,!1)]},void 0,!0,{fileName:l,lineNumber:1779,columnNumber:29},void 0),y>0&&n(g,{children:Array.from({length:y},(a,o)=>{var t,d,c,u,m,p,h,_,s,f;return n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[n("div",{children:[n(F,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((d=(t=e==null?void 0:e.chequeDetails)==null?void 0:t[o])==null?void 0:d.chequenumbe)||"",register:C,onChange:b=>gi(b,o)},void 0,!1,{fileName:l,lineNumber:2096,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ai[o]},void 0,!1,{fileName:l,lineNumber:2106,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2095,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"},void 0,!1,{fileName:l,lineNumber:2111,columnNumber:49},void 0),n(le,{className:"form-control py-2",name:"chequedate",value:((u=(c=e==null?void 0:e.chequeDetails)==null?void 0:c[o])==null?void 0:u.chequedate)||"",onChange:b=>_i(b,o),id:"default-picker",placeholder:"Select cheque date"},void 0,!1,{fileName:l,lineNumber:2114,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ti[o]},void 0,!1,{fileName:l,lineNumber:2123,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2110,columnNumber:45},void 0),n("div",{children:[n(F,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((p=(m=e==null?void 0:e.chequeDetails)==null?void 0:m[o])==null?void 0:p.totalamount)||"",register:C,onChange:b=>ki(b,o)},void 0,!1,{fileName:l,lineNumber:2128,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:zi[o]},void 0,!1,{fileName:l,lineNumber:2138,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2127,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:2143,columnNumber:49},void 0),((h=x==null?void 0:x[o])==null?void 0:h.chequeimage)!==""&&X.pathname===`/update-tenantcontract/${k}`&&((_=x==null?void 0:x[o])==null?void 0:_.chequeimage)!==void 0?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${(s=x==null?void 0:x[o])==null?void 0:s.chequeimage}`,children:decodeURIComponent((f=x==null?void 0:x[o])==null?void 0:f.chequeimage).split("/").pop()},void 0,!1,{fileName:l,lineNumber:2149,columnNumber:61},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>yi(o)},void 0,!1,{fileName:l,lineNumber:2150,columnNumber:61},void 0)]},void 0,!0,{fileName:l,lineNumber:2148,columnNumber:57},void 0):n(T,{name:`chequeimage-${o}`,selectedFile:Be[o],onChange:qi.bind(null,[o])},void 0,!1,{fileName:l,lineNumber:2153,columnNumber:57},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ei[o]},void 0,!1,{fileName:l,lineNumber:2160,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2142,columnNumber:45},void 0),y>1&&o!==y-1&&n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:2166,columnNumber:53},void 0)},void 0,!1,{fileName:l,lineNumber:2165,columnNumber:49},void 0)]},o+1,!0,{fileName:l,lineNumber:2094,columnNumber:41},void 0)})},void 0,!1)]},void 0,!0,{fileName:l,lineNumber:1778,columnNumber:25},void 0),n("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[n("div",{className:`"ltr:text-right rtl:text-left " ${R===!0?"cursor-not-allowed	":""}`,children:R===!0?n("div",{className:` ${R===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"},void 0,!1,{fileName:l,lineNumber:2178,columnNumber:41},void 0):n(on,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"},void 0,!1,{fileName:l,lineNumber:2179,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2175,columnNumber:29},void 0),X.pathname===`/update-tenantcontract/${k}`?n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${R===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",type:"button",onClick:Ji,children:"Update"},void 0,!1,{fileName:l,lineNumber:2186,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:2185,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2184,columnNumber:37},void 0):n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${R===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",onClick:Ri,type:"button",children:"Submit"},void 0,!1,{fileName:l,lineNumber:2191,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:2190,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2189,columnNumber:37},void 0),R===!0?n("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:n("div",{className:"loader-spiner"},void 0,!1,{fileName:l,lineNumber:2199,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2198,columnNumber:37},void 0):null]},void 0,!0,{fileName:l,lineNumber:2174,columnNumber:25},void 0)]},void 0,!0,{fileName:l,lineNumber:1462,columnNumber:21},void 0)},void 0,!1,{fileName:l,lineNumber:1461,columnNumber:17},void 0)},void 0,!1,{fileName:l,lineNumber:1460,columnNumber:13},void 0)]},void 0,!0)};export{hn as default};
