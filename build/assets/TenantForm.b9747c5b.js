import{bt as on,z as an,af as dn,r as c,B as cn,cc as rn,c9 as mn,ce as pn,cf as sn,v as un,w as D,x as fn,j as n,F,s as Nn,C as vn,ap as Ne,aj as bn,an as B,k as E,bN as ve,bO as ee,aB as pe,L as hn,y as yn,H as ri,bP as O,bI as be,bQ as he,Q as ye}from"./index.300fc045.js";var t="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\tenant-contract\\TenantForm.jsx";const xe={option:(j,oe)=>({...j,fontSize:"14px"})},zn=()=>{const{id:j}=on(),oe=an(),ae=dn(),[e,b]=c.exports.useState(""),[ge,_e]=c.exports.useState(""),[qe,ke]=c.exports.useState(""),[Ce,Se]=c.exports.useState(""),[we,Fe]=c.exports.useState(""),[xn,mi]=c.exports.useState(""),P=a=>{const{name:o,value:l}=a.target;b({...e,[o]:l})},ie=new URLSearchParams(window.location.search),ne=ie.get("propertyid");console.log("$$$$$$111",ne,ie);const L=ie.get("renew"),R=ie.get("customerid"),de=ie.get("contractenddate");c.exports.useEffect(()=>{ne!=null&&b(a=>({...a,propertyid:ne}))},[ne]),c.exports.useEffect(()=>{L!=null&&b(a=>({...a,contractupdation:L}))},[L]),c.exports.useEffect(()=>{R!=null&&(b(o=>({...o,customerid:R,customertype:"Existing Tenant"})),(async()=>{if(R){const l=await(await fetch(`http://dev-rare.srp.ai/users/${R}`)).json();l&&(Ve(l),b({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),re((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})())},[R]),c.exports.useEffect(()=>{if(de!=null){const a=new Date(de);a.setDate(a.getDate()+1);const o=a.toISOString();b(l=>({...l,contractstartdate:o}))}},[de]);const J=cn(),{data:ce}=rn(),{data:f,isSuccess:Pe}=mn(j),[je,gn]=c.exports.useState(!1),[se,Ae]=c.exports.useState(""),[pi,ze]=c.exports.useState(""),[si,Te]=c.exports.useState(""),[Ee,Oe]=c.exports.useState("");console.log("ejari_certificate_docPDF",se),c.exports.useEffect(()=>{var a,o,l,p,N,v,g,q,k,C,m,d;j&&f&&Pe&&(b(f==null?void 0:f.tenantContract),Ae(((a=f==null?void 0:f.tenantContract)==null?void 0:a.ejari_certificate_doc)&&((o=f==null?void 0:f.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(l=f==null?void 0:f.tenantContract)==null?void 0:l.ejari_certificate_doc:""),ze(((p=f==null?void 0:f.tenantContract)==null?void 0:p.tenancy_contract_doc)&&((N=f==null?void 0:f.tenantContract)==null?void 0:N.tenancy_contract_doc)!==void 0?(v=f==null?void 0:f.tenantContract)==null?void 0:v.tenancy_contract_doc:""),Te(((g=f==null?void 0:f.tenantContract)==null?void 0:g.addendum_doc)&&((q=f==null?void 0:f.tenantContract)==null?void 0:q.addendum_doc)!==void 0?(k=f==null?void 0:f.tenantContract)==null?void 0:k.addendum_doc:""),Oe(((C=f==null?void 0:f.tenantContract)==null?void 0:C.key_receipt_doc)&&((m=f==null?void 0:f.tenantContract)==null?void 0:m.key_receipt_doc)!==void 0?(d=f==null?void 0:f.tenantContract)==null?void 0:d.key_receipt_doc:""))},[j,f,Pe]);const[$e]=pn(),[ui]=sn(),[Ge,fi]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://dev-rare.srp.ai/property").then(a=>a.json()).then(a=>{const o=a==null?void 0:a.map(l=>({label:l.unitnumber+" | "+l.communityname+" | "+l.projectname+" | "+l.buildingname,value:l._id}));fi(o)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const l=await(await fetch(`http://dev-rare.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();l&&b({...e,unitnumber:l==null?void 0:l.unitnumber,buildingname:l==null?void 0:l.building_name,projectname:l==null?void 0:l.project_name,communityname:l==null?void 0:l.community_name})}})()},[e==null?void 0:e.propertyid]);const[$,Ni]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://dev-rare.srp.ai/users/api/customers").then(o=>o.json()).then(o=>{var p;const l=(p=o==null?void 0:o.users)==null?void 0:p.map(N=>({label:N.firstname+" "+N.lastname+" | "+N.email+" | "+N.passportidno+" | "+N.whatsappno,value:N._id}));Ni(l)})})()},[]);const[Ue,re]=c.exports.useState(""),[i,Ve]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const l=await(await fetch(`http://dev-rare.srp.ai/users/${e==null?void 0:e.customerid}`)).json();l&&(Ve(l),b({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),re((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Be,vi]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const l=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return vi(l==null?void 0:l.users)})()},[]);const[_n,bi]=c.exports.useState(e==null?void 0:e.customertype),hi=a=>{bi(a.target.value),b({...e,customertype:a.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),re("")},yi=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const o=ve.getAllCountries();let l=[];l=o==null?void 0:o.map(({isoCode:p,name:N})=>({isoCode:p,name:N}))}catch(o){console.log(o)}})()},[]);const[M,xi]=c.exports.useState(null),Le=a=>{xi(a.target.files[0]),b({...e,passportpdf:a.target.files[0]})},gi=()=>{b({...e,passportpdf:""}),re("")},[H,Re]=c.exports.useState(null),_i=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Re(o),b({...e,ejari_certificate_doc:o}),_e("")):(Re(null),b({...e,ejari_certificate_doc:null}),_e("File size exceeds 10MB limit!"))};console.log("=========>",H);const qi=()=>{b({...e,ejari_certificate_doc:""}),Ae("")},[Q,Je]=c.exports.useState(null),ki=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Je(o),b({...e,tenancy_contract_doc:o}),ke("")):(Je(null),b({...e,tenancy_contract_doc:null}),ke("File size exceeds 10MB limit!"))},Ci=()=>{b({...e,tenancy_contract_doc:""}),ze("")},[K,Me]=c.exports.useState(null),Si=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Me(o),b({...e,addendum_doc:o}),Se("")):(Me(null),b({...e,addendum_doc:null}),Se("File size exceeds 10MB limit!"))},wi=()=>{b({...e,addendum_doc:""}),Te("")},[te,He]=c.exports.useState(null),Fi=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(He(o),b({...e,key_receipt_doc:o}),Fe("")):(He(null),b({...e,key_receipt_doc:null}),Fe("File size exceeds 10MB limit!"))},Pi=()=>{b({...e,key_receipt_doc:""}),Oe("")};c.exports.useState(null);const[w,Qe]=c.exports.useState("");c.exports.useEffect(()=>{if(j&&(e==null?void 0:e.chequeDetails)&&ae.pathname===`/update-tenantcontract/${j}`){const a=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Qe(a)}},[j,e==null?void 0:e.chequeDetails]);const ji=a=>{Qe(o=>{const l=[...o];return l[a]={...l[a],chequeimage:""},l}),b(o=>{const l={...o},p=[...l.chequeDetails];return p[a]={...p[a],chequeimage:""},l.chequeDetails=p,l})},[S,Ke]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Ke(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Ke(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[Ye,Ai]=c.exports.useState([]),zi=(a,o)=>{let l=[];a.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,chequenumbe:a.target.value,chequedate:(p==null?void 0:p.chequedate)||"",totalamount:(p==null?void 0:p.totalamount)||""};const N={...e,chequeDetails:l};b(N)},Ti=(a,o)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,chequedate:a[0]||""};const N={...e,chequeDetails:l};b(N)},Ei=(a,o)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,totalamount:a.target.value,chequenumbe:(p==null?void 0:p.chequenumbe)||"",chequedate:(p==null?void 0:p.chequedate)||"",chequeimage:(p==null?void 0:p.chequeimage)||""};const N={...e,chequeDetails:l};b(N)},Oi=(a,o)=>{const l=[...Ye],p=a.target.files[0];l[o]=p,Ai(l);let N=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(N=[...e.chequeDetails]);const v=N[o]||{};N[o]={...v,totalamount:(v==null?void 0:v.totalamount)||"",chequenumbe:(v==null?void 0:v.chequenumbe)||"",chequedate:(v==null?void 0:v.chequedate)||"",chequeimage:p||""};const g={...e,chequeDetails:N};b(g)},[We,G]=c.exports.useState(""),[$i,qn]=c.exports.useState(""),[Xe,Gi]=c.exports.useState(""),[me,Y]=c.exports.useState(""),[Ze,Ui]=c.exports.useState(""),[Ie,kn]=c.exports.useState(""),[De,Cn]=c.exports.useState(""),[Vi,Sn]=c.exports.useState(""),[Bi,W]=c.exports.useState(""),[Li,X]=c.exports.useState("");c.exports.useState("");const[Ri,ei]=c.exports.useState(Array(S).fill("")),[Ji,ii]=c.exports.useState(Array(S).fill("")),[Mi,ni]=c.exports.useState(Array(S).fill("")),[Hi,ti]=c.exports.useState(Array(S).fill("")),[Qi,wn]=c.exports.useState(""),[Ki,Fn]=c.exports.useState(""),[Yi,Pn]=c.exports.useState("");c.exports.useState("");const[li,ue]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&ae.pathname==="/add-tenantcontract"?Be.find(o=>o.email===e.email)?(Y("Email is already in use. Please check existing tenants."),ue(!0)):(Y(""),ue(!1)):e.customertype==="Existing Tenant"&&(Y(""),ue(!1))},[e.customertype,e.email,Be]);let Wi={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no of cheque or installment",commission:"commission"};const Xi=un({propertyid:D().required(We),customertype:D().required(Xe),email:D().email(me).required(me),guestname:D().required(Ze),mobilenumber:D().required(Ie),nationality:D().required(De)}).required(),{register:z,formState:{errors:jn}}=fn({resolver:yn(Xi)}),oi=()=>{let a=!1,o={propertyid:G,customertype:Gi,email:Y,guestname:Ui};return o&&Object.keys(o).length&&Object.keys(o).map(l=>{o[l](""),e[l]||(o[l](Wi[l]+" is required"),a=!0)}),a},[Z,le]=c.exports.useState(!1),Zi=localStorage.getItem("isAuth"),T=JSON.parse(Zi),[Ii,I]=c.exports.useState(!1);c.exports.useEffect(()=>{const a=o=>{const{_id:l,propertyid:p,contractstartdate:N,contractenddate:v}=o,{contractstartdate:g,contractenddate:q,propertyid:k}=e;return l!==(e==null?void 0:e._id)&&N&&v&&new Date(N).toISOString()<new Date(q).toISOString()&&new Date(v).toISOString()>new Date(g).toISOString()&&p===k?(I(!0),G("Property is already Listed"),W("Property is already Listed"),X("Property is already Listed"),!0):(I(!1),G(""),W(""),X(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let o=0;o<(ce==null?void 0:ce.length);o++){const l=ce[o];if(a(l)){I(!0),G("Property is already Listed"),W("Property is already Listed"),X("Property is already Listed");break}else{I(!1),G(""),W(""),X("");break}}else I(!1),G(""),W(""),X("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Di=async()=>{var a,o,l,p,N,v,g,q;if(ei(Array(S).fill("")),ii(Array(S).fill("")),ni(Array(S).fill("")),ti(Array(S).fill("")),!e.propertyid||!e.guestname||!e.email)oi();else if(!(e!=null&&e.customerid)&&!ri.isEmail(e.email))Y("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&je===!1&&li===!1&&Ii===!1){le(!0);let k;try{let C=[];M&&C.push(O(M,"Passport"));let m=await Promise.all(C);if(m.length){let d=[];for(let h=0;h<m.length;h++){let x=m[h].data.files;d.push(x)}let r=[];for(let h of d)for(let x of h){let fe=x;r.push(fe)}let y="",_="",U="",V="",A="";for(let h of r)h.includes("Passport")?y=h:h.includes("ejari_certificate_doc")?_=h:h.includes("tenancy_contract_doc")?U=h:h.includes("addendum_doc")?V=h:h.includes("key_receipt_doc")&&(A=h);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",h[0]),s.append("lastname",h[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),s.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),s.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),s.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),s.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),s.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),s.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),s.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),s.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),s.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),s.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),s.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),s.append("altemail",i.altemail===void 0?"":i.altemail),s.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),s.append("password",i.password===void 0?"":i.password),s.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),s.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),s.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),s.append("type","tenant"),i!=null&&i.employeeid&&s.append("employeeid",i==null?void 0:i.employeeid),y?s.append("passportpdf",y):s.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i.passportpdf),J(be(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("firstname",h[0]),s.append("lastname",h[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("type","tenant"),y&&s.append("passportpdf",y),J(he(s))}const u=new FormData;if(u.append("propertyid",e==null?void 0:e.propertyid),u.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&u.append("customerid",e==null?void 0:e.customerid),u.append("guestname",e==null?void 0:e.guestname),u.append("passportnumber",e==null?void 0:e.passportnumber),u.append("email",e==null?void 0:e.email),u.append("nationality",e==null?void 0:e.nationality),u.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),u.append("createdBy",T==null?void 0:T._id),L&&u.append("contractupdation",e==null?void 0:e.contractupdation),y&&u.append("passportpdf",y),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?u.append("contractstartdate",e==null?void 0:e.contractstartdate):u.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?u.append("contractenddate",e==null?void 0:e.contractenddate):u.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?u.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):u.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?u.append("contractvalue",e==null?void 0:e.contractvalue):u.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?u.append("rentalamount",e==null?void 0:e.rentalamount):u.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?u.append("securitydepositamount",e==null?void 0:e.securitydepositamount):u.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?u.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):u.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?u.append("commission",e==null?void 0:e.commission):u.append("commission",""),_?u.append("ejari_certificate_doc",_):u.append("ejari_certificate_doc",""),U?u.append("tenancy_contract_doc",U):u.append("tenancy_contract_doc",""),V?u.append("addendum_doc",V):u.append("addendum_doc",""),A?u.append("key_receipt_doc",A):u.append("key_receipt_doc",""),(e==null?void 0:e.chequeDetails)!==void 0){const h=[];for(const x of e.chequeDetails){const fe=(a=x==null?void 0:x.chequenumbe)!=null?a:"",nn=(o=x==null?void 0:x.chequedate)!=null?o:"",tn=(l=x==null?void 0:x.totalamount)!=null?l:"",ai=(p=x==null?void 0:x.chequeimage)!=null?p:"";let di;if(ai)try{di=(await O(ai,"chequeimage")).data.files[0]}catch(ci){console.log(ci,"in cheque image")}const ln={chequenumbe:fe,chequedate:nn,totalamount:tn,chequeimage:di||""};h.push(ln)}u.append("chequeDetails",JSON.stringify(h))}else u.append("chequeDetails",[]);await $e(u),ye.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{oe("/all-tenantcontract")},1200)}else{const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let y=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",y[0]),d.append("lastname",y[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),d.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),d.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),d.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),d.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),d.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),d.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),d.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),d.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),d.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),d.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),d.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),d.append("altemail",i.altemail===void 0?"":i.altemail),d.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),d.append("password",i.password===void 0?"":i.password),d.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),d.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),d.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),d.append("passportpdf",i==null?void 0:i.passportpdf),d.append("type","tenant"),i!=null&&i.employeeid&&d.append("employeeid",i==null?void 0:i.employeeid),J(be(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let y=e==null?void 0:e.guestname.split(" ");d.append("firstname",y[0]),d.append("lastname",y[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("type","tenant"),d.append("passportpdf",e==null?void 0:e.passportpdf),J(he(d))}const r=new FormData;if(r.append("propertyid",e==null?void 0:e.propertyid),r.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&r.append("customerid",e==null?void 0:e.customerid),r.append("guestname",e==null?void 0:e.guestname),r.append("passportnumber",e==null?void 0:e.passportnumber),r.append("email",e==null?void 0:e.email),r.append("nationality",e==null?void 0:e.nationality),r.append("mobilenumber",e==null?void 0:e.mobilenumber),r.append("createdBy",T==null?void 0:T._id),r.append("passportpdf",""),L&&r.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?r.append("contractstartdate",e==null?void 0:e.contractstartdate):r.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?r.append("contractenddate",e==null?void 0:e.contractenddate):r.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?r.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):r.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?r.append("contractvalue",e==null?void 0:e.contractvalue):r.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?r.append("rentalamount",e==null?void 0:e.rentalamount):r.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?r.append("securitydepositamount",e==null?void 0:e.securitydepositamount):r.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?r.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):r.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?r.append("commission",e==null?void 0:e.commission):r.append("commission",""),r.append("ejari_certificate_doc",H),r.append("tenancy_contract_doc",Q),r.append("addendum_doc",K),r.append("key_receipt_doc",te),e!=null&&e.chequeDetails){const y=[];for(const _ of e.chequeDetails){const U=(N=_==null?void 0:_.chequenumbe)!=null?N:"",V=(v=_==null?void 0:_.chequedate)!=null?v:"",A=(g=_==null?void 0:_.totalamount)!=null?g:"",s=(q=_==null?void 0:_.chequeimage)!=null?q:"";let u;if(s)try{u=(await O(s,"chequeimage")).data.files[0]}catch(x){console.log(x,"in cheque image")}const h={chequenumbe:U,chequedate:V,totalamount:A,chequeimage:u||""};y.push(h)}r.append("chequeDetails",JSON.stringify(y))}else r.append("chequeDetails",[]);if(k=await $e(r),k.data.status===!0)return ye.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{oe("/all-tenantcontract")},1200);le(!0)}}catch{le(!1)}}},en=async a=>{var o,l,p,N;if(a.preventDefault(),ei(Array(S).fill("")),ii(Array(S).fill("")),ni(Array(S).fill("")),ti(Array(S).fill("")),!e.propertyid||!e.guestname||!e.email)oi();else if(!(e!=null&&e.customerid)&&!ri.isEmail(e.email))Y("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&je===!1&&li===!1){le(!0);try{let v=e==null?void 0:e.passportpdf,g=e==null?void 0:e.ejari_certificate_doc,q=e==null?void 0:e.tenancy_contract_doc,k=e==null?void 0:e.addendum_doc,C=e==null?void 0:e.key_receipt_doc;M!==null&&(v=await O(M,"Passport"),v=v.data.files[0]),H!==null&&(g=await O(H,"ejari_certificate_doc"),g=g.data.files[0]),Q!==null&&(q=await O(Q,"tenancy_contract_doc"),q=q.data.files[0]),K!==null&&(k=await O(K,"addendum_doc"),k=k.data.files[0]),te!==null&&(C=await O(te,"key_receipt_doc"),C=C.data.files[0]);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let r=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",r[0]),m.append("lastname",r[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",(i==null?void 0:i.contactno)===void 0||(i==null?void 0:i.contactno)===null?"":i==null?void 0:i.contactno),m.append("datebirth",(i==null?void 0:i.datebirth)===void 0||(i==null?void 0:i.datebirth)===null?"":i==null?void 0:i.datebirth),m.append("countryofresidence",(i==null?void 0:i.countryofresidence)===void 0||(i==null?void 0:i.countryofresidence)===null?"":i==null?void 0:i.countryofresidence),m.append("memberid",(i==null?void 0:i.memberid)===void 0||(i==null?void 0:i.memberid)===null?"":i==null?void 0:i.memberid),m.append("nameonpassport",(i==null?void 0:i.nameonpassport)===void 0||(i==null?void 0:i.nameonpassport)===null?"":i==null?void 0:i.nameonpassport),m.append("nationalidexpiry",(i==null?void 0:i.nationalidexpiry)===void 0||(i==null?void 0:i.nationalidexpiry)===null?"":i==null?void 0:i.nationalidexpiry),m.append("nationalidissuedate",(i==null?void 0:i.nationalidissuedate)===void 0||(i==null?void 0:i.nationalidissuedate)===null?"":i==null?void 0:i.nationalidissuedate),m.append("nationalidno",(i==null?void 0:i.nationalidno)===void 0||(i==null?void 0:i.nationalidno)===null?"":i==null?void 0:i.nationalidno),m.append("passportexpiry",(i==null?void 0:i.passportexpiry)===void 0||(i==null?void 0:i.passportexpiry)===null?"":i==null?void 0:i.passportexpiry),m.append("passportissue",(i==null?void 0:i.passportissue)===void 0||(i==null?void 0:i.passportissue)===null?"":i==null?void 0:i.passportissue),m.append("postaladdress",(i==null?void 0:i.postaladdress)===void 0||(i==null?void 0:i.postaladdress)===null?"":i==null?void 0:i.postaladdress),m.append("primaryno",(i==null?void 0:i.primaryno)===void 0||(i==null?void 0:i.primaryno)===null?"":i==null?void 0:i.primaryno),m.append("altemail",(i==null?void 0:i.altemail)===void 0?"":i==null?void 0:i.altemail),m.append("altmobilenumber",(i==null?void 0:i.altmobilenumber)===void 0?"":i==null?void 0:i.altmobilenumber),m.append("password",(i==null?void 0:i.password)===void 0?"":i==null?void 0:i.password),m.append("confirmpass",(i==null?void 0:i.confirmpass)===void 0?"":i==null?void 0:i.confirmpass),m.append("residentstatus",(i==null?void 0:i.residentstatus)===void 0?"":i==null?void 0:i.residentstatus),m.append("nationalidpdf",(i==null?void 0:i.nationalidpdf)===void 0?"":i==null?void 0:i.nationalidpdf),m.append("type","tenant"),i!=null&&i.employeeid&&m.append("employeeid",i==null?void 0:i.employeeid),v?m.append("passportpdf",v):m.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i==null?void 0:i.passportpdf),J(be(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let r=e==null?void 0:e.guestname.split(" ");m.append("firstname",r[0]),m.append("lastname",r[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),v&&m.append("passportpdf",v),m.append("type","tenant"),J(he(m))}const d=new FormData;if(d.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&d.append("customerid",e==null?void 0:e.customerid),d.append("_id",e==null?void 0:e._id),d.append("propertyid",e==null?void 0:e.propertyid),d.append("guestname",e==null?void 0:e.guestname),d.append("passportnumber",e==null?void 0:e.passportnumber),d.append("email",e==null?void 0:e.email),d.append("nationality",e==null?void 0:e.nationality),d.append("mobilenumber",e==null?void 0:e.mobilenumber),d.append("updatedBy",T==null?void 0:T._id),e!=null&&e.contractupdation&&d.append("contractupdation",e==null?void 0:e.contractupdation),v&&d.append("passportpdf",v),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?d.append("contractstartdate",e==null?void 0:e.contractstartdate):d.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?d.append("contractenddate",e==null?void 0:e.contractenddate):d.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?d.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):d.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?d.append("contractvalue",e==null?void 0:e.contractvalue):d.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?d.append("rentalamount",e==null?void 0:e.rentalamount):d.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?d.append("securitydepositamount",e==null?void 0:e.securitydepositamount):d.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?d.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):d.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?d.append("commission",e==null?void 0:e.commission):d.append("commission",""),g&&d.append("ejari_certificate_doc",g||H),q&&d.append("tenancy_contract_doc",q||Q),k&&d.append("addendum_doc",k||K),C&&d.append("key_receipt_doc",C||te),e!=null&&e.chequeDetails){const r=[];for(const y of e.chequeDetails){const _=(o=y==null?void 0:y.chequenumbe)!=null?o:"",U=(l=y==null?void 0:y.chequedate)!=null?l:"",V=(p=y==null?void 0:y.totalamount)!=null?p:"",A=(N=y==null?void 0:y.chequeimage)!=null?N:"";let s;if(A)if(typeof A!="string")try{s=(await O(A,"chequeimage")).data.files[0]}catch(h){console.log(h,"in cheque image")}else s=A;const u={chequenumbe:_,chequedate:U,totalamount:V,chequeimage:s||""};r.push(u)}d.append("chequeDetails",JSON.stringify(r))}else d.append("chequeDetails",[]);await ui(d),ye.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{oe("/all-tenantcontract")},1200)}catch(v){console.log(v,"error"),le(!1)}}};return n(F,{children:[n(Nn,{},void 0,!1,{fileName:t,lineNumber:1626,columnNumber:13},void 0),n(vn,{title:"tenant contract Form",children:n("div",{children:n("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"},void 0,!1,{fileName:t,lineNumber:1631,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1630,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"},void 0,!1,{fileName:t,lineNumber:1636,columnNumber:29},void 0),n(Ne,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ge,value:Ge.filter(function(a){return a.value===(e==null?void 0:e.propertyid)}),onChange:a=>{b({...e,propertyid:a==null?void 0:a.value})},styles:xe,id:"hh",placeholder:"Select and Search property"},void 0,!1,{fileName:t,lineNumber:1639,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:We},void 0,!1,{fileName:t,lineNumber:1654,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1635,columnNumber:25},void 0),n(F,{children:e!=null&&e.propertyid?n(F,{children:n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Unit number"},void 0,!1,{fileName:t,lineNumber:1666,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1668,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1669,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1667,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1665,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Community Name"},void 0,!1,{fileName:t,lineNumber:1673,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1675,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1676,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1674,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1672,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Project Name"},void 0,!1,{fileName:t,lineNumber:1680,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1682,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1683,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1681,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1679,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Building Name"},void 0,!1,{fileName:t,lineNumber:1687,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1689,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1690,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1688,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1686,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1664,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:1663,columnNumber:41},void 0)},void 0,!1):null},void 0,!1),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1699,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1698,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"},void 0,!1,{fileName:t,lineNumber:1702,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1701,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:yi.map(a=>n(bn,{label:a.label,name:"color",value:a.value,checked:(e==null?void 0:e.customertype)===a.value,onChange:hi},void 0,!1,{fileName:t,lineNumber:1709,columnNumber:37},void 0))},void 0,!1,{fileName:t,lineNumber:1707,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Xe},void 0,!1,{fileName:t,lineNumber:1718,columnNumber:29},void 0),n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?n(F,{children:[n("div",{className:"w-[100%] col-span-3",children:[n("div",{children:$!=null&&$.length?n(F,{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"},void 0,!1,{fileName:t,lineNumber:1730,columnNumber:65},void 0),n(Ne,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:$,value:$==null?void 0:$.filter(function(a){return a.value===(e==null?void 0:e.customerid)}),onChange:a=>{b({...e,customerid:a==null?void 0:a.value})},styles:xe,id:"hh"},void 0,!1,{fileName:t,lineNumber:1733,columnNumber:65},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me&&"Customer details are required"},void 0,!1,{fileName:t,lineNumber:1747,columnNumber:65},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1726,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$i},void 0,!1,{fileName:t,lineNumber:1753,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1725,columnNumber:45},void 0),n(F,{children:e!=null&&e.customerid?n(F,{children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Tenant Name"},void 0,!1,{fileName:t,lineNumber:1760,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1762,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1763,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1761,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1759,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Email"},void 0,!1,{fileName:t,lineNumber:1767,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"},void 0,!1,{fileName:t,lineNumber:1769,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1770,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1768,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1766,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Mobile Number"},void 0,!1,{fileName:t,lineNumber:1774,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1776,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1777,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1775,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1773,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport no"},void 0,!1,{fileName:t,lineNumber:1781,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1783,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1784,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1782,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1780,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1788,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"},void 0,!1,{fileName:t,lineNumber:1790,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1791,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1789,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1787,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1795,columnNumber:65},void 0),Ue!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1803,columnNumber:77},void 0)},void 0,!1,{fileName:t,lineNumber:1802,columnNumber:73},void 0):n(B,{name:"basic",selectedFile:M,onChange:Le},void 0,!1,{fileName:t,lineNumber:1806,columnNumber:73},void 0)]},void 0,!0,{fileName:t,lineNumber:1794,columnNumber:61},void 0)]},void 0,!0):null},void 0,!1)]},void 0,!0):(e==null?void 0:e.customertype)==="New Tenant"?n(F,{children:[n("div",{children:[n(E,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1832,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ze},void 0,!1,{fileName:t,lineNumber:1842,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1831,columnNumber:49},void 0),n("div",{children:[n(E,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1847,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me},void 0,!1,{fileName:t,lineNumber:1857,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1846,columnNumber:49},void 0),n("div",{children:[n(E,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1862,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ie},void 0,!1,{fileName:t,lineNumber:1872,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1861,columnNumber:49},void 0),n("div",{children:[n(E,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1877,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Vi},void 0,!1,{fileName:t,lineNumber:1887,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1876,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1892,columnNumber:53},void 0),n(Ne,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ve.getAllCountries().filter(function(a){return a.name===(e==null?void 0:e.nationality)}),options:ve.getAllCountries(),styles:xe,id:"hh",getOptionLabel:a=>a.name,getOptionValue:a=>a.name,onChange:a=>{mi(a==null?void 0:a.name),P({target:{name:"nationality",value:a.name}})}},void 0,!1,{fileName:t,lineNumber:1895,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:De},void 0,!1,{fileName:t,lineNumber:1916,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1891,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1921,columnNumber:53},void 0),Ue!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1927,columnNumber:65},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:gi},void 0,!1,{fileName:t,lineNumber:1928,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1926,columnNumber:61},void 0):n(B,{name:"basic",selectedFile:M,onChange:Le},void 0,!1,{fileName:t,lineNumber:1931,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:1920,columnNumber:49},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1721,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1706,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1943,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1942,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"},void 0,!1,{fileName:t,lineNumber:1948,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:a=>{P({target:{name:"contractexecutiondate",value:a[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"},void 0,!1,{fileName:t,lineNumber:1951,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1947,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"},void 0,!1,{fileName:t,lineNumber:1964,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:a=>{P({target:{name:"contractstartdate",value:a[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"},void 0,!1,{fileName:t,lineNumber:1967,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Bi},void 0,!1,{fileName:t,lineNumber:1979,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1963,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"},void 0,!1,{fileName:t,lineNumber:1984,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:a=>{P({target:{name:"contractenddate",value:a[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"},void 0,!1,{fileName:t,lineNumber:1987,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Li},void 0,!1,{fileName:t,lineNumber:1999,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1983,columnNumber:33},void 0),n(F,{},void 0,!1),n("div",{children:[n(E,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2021,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Qi},void 0,!1,{fileName:t,lineNumber:2031,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2020,columnNumber:33},void 0),n("div",{children:[n(E,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2036,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ki},void 0,!1,{fileName:t,lineNumber:2046,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2035,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2051,columnNumber:37},void 0),se!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2058,columnNumber:49},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:qi},void 0,!1,{fileName:t,lineNumber:2059,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2057,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:H,onChange:_i},void 0,!1,{fileName:t,lineNumber:2062,columnNumber:45},void 0),!se&&ge&&n("p",{style:{color:"red",fontSize:10},children:ge},void 0,!1,{fileName:t,lineNumber:2070,columnNumber:85},void 0)]},void 0,!0,{fileName:t,lineNumber:2050,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2074,columnNumber:37},void 0),pi!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2081,columnNumber:49},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ci},void 0,!1,{fileName:t,lineNumber:2082,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2080,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:Q,onChange:ki},void 0,!1,{fileName:t,lineNumber:2085,columnNumber:45},void 0),!Q&&qe&&n("p",{style:{color:"red",fontSize:10},children:qe},void 0,!1,{fileName:t,lineNumber:2094,columnNumber:86},void 0)]},void 0,!0,{fileName:t,lineNumber:2073,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2097,columnNumber:37},void 0),si!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2103,columnNumber:49},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:wi},void 0,!1,{fileName:t,lineNumber:2104,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2102,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:K,onChange:Si},void 0,!1,{fileName:t,lineNumber:2107,columnNumber:45},void 0),!K&&Ce&&n("p",{style:{color:"red",fontSize:10},children:Ce},void 0,!1,{fileName:t,lineNumber:2116,columnNumber:78},void 0)]},void 0,!0,{fileName:t,lineNumber:2096,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2119,columnNumber:37},void 0),Ee!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2125,columnNumber:49},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Pi},void 0,!1,{fileName:t,lineNumber:2126,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2124,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:te,onChange:Fi},void 0,!1,{fileName:t,lineNumber:2129,columnNumber:45},void 0),!Ee&&we&&n("p",{style:{color:"red",fontSize:10},children:we},void 0,!1,{fileName:t,lineNumber:2137,columnNumber:76},void 0)]},void 0,!0,{fileName:t,lineNumber:2118,columnNumber:33},void 0),n(F,{},void 0,!1),n("div",{children:[n(E,{label:"no of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2157,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Yi},void 0,!1,{fileName:t,lineNumber:2167,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2156,columnNumber:33},void 0),n(F,{},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1946,columnNumber:29},void 0),S>0&&n(F,{children:Array.from({length:S},(a,o)=>{var l,p,N,v,g,q,k,C,m,d;return n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[n("div",{children:[n(E,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((p=(l=e==null?void 0:e.chequeDetails)==null?void 0:l[o])==null?void 0:p.chequenumbe)||"",register:z,onChange:r=>zi(r,o)},void 0,!1,{fileName:t,lineNumber:2250,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ri[o]},void 0,!1,{fileName:t,lineNumber:2260,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2249,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"},void 0,!1,{fileName:t,lineNumber:2265,columnNumber:49},void 0),n(pe,{className:"form-control py-2",name:"chequedate",value:((v=(N=e==null?void 0:e.chequeDetails)==null?void 0:N[o])==null?void 0:v.chequedate)||"",onChange:r=>Ti(r,o),id:"default-picker",placeholder:"Select cheque date"},void 0,!1,{fileName:t,lineNumber:2268,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ji[o]},void 0,!1,{fileName:t,lineNumber:2277,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2264,columnNumber:45},void 0),n("div",{children:[n(E,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((q=(g=e==null?void 0:e.chequeDetails)==null?void 0:g[o])==null?void 0:q.totalamount)||"",register:z,onChange:r=>Ei(r,o)},void 0,!1,{fileName:t,lineNumber:2282,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Mi[o]},void 0,!1,{fileName:t,lineNumber:2292,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2281,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2297,columnNumber:49},void 0),((k=w==null?void 0:w[o])==null?void 0:k.chequeimage)!==""&&ae.pathname===`/update-tenantcontract/${j}`&&((C=w==null?void 0:w[o])==null?void 0:C.chequeimage)!==void 0?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai${(m=w==null?void 0:w[o])==null?void 0:m.chequeimage}`,children:decodeURIComponent((d=w==null?void 0:w[o])==null?void 0:d.chequeimage).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2303,columnNumber:61},void 0),n("img",{src:ee,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>ji(o)},void 0,!1,{fileName:t,lineNumber:2304,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:2302,columnNumber:57},void 0):n(B,{name:`chequeimage-${o}`,selectedFile:Ye[o],onChange:r=>Oi(r,o)},void 0,!1,{fileName:t,lineNumber:2307,columnNumber:57},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Hi[o]},void 0,!1,{fileName:t,lineNumber:2314,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2296,columnNumber:45},void 0),S>1&&o!==S-1&&n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:2320,columnNumber:53},void 0)},void 0,!1,{fileName:t,lineNumber:2319,columnNumber:49},void 0)]},o+1,!0,{fileName:t,lineNumber:2248,columnNumber:41},void 0)})},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1945,columnNumber:25},void 0),n("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[n("div",{className:`"ltr:text-right rtl:text-left " ${Z===!0?"cursor-not-allowed	":""}`,children:Z===!0?n("div",{className:` ${Z===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2332,columnNumber:41},void 0):n(hn,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2333,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2329,columnNumber:29},void 0),ae.pathname===`/update-tenantcontract/${j}`?n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${Z===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",type:"button",onClick:en,children:"Update"},void 0,!1,{fileName:t,lineNumber:2340,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2339,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2338,columnNumber:37},void 0):n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${Z===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",onClick:Di,type:"button",children:"Submit"},void 0,!1,{fileName:t,lineNumber:2345,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2344,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2343,columnNumber:37},void 0),Z===!0?n("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:n("div",{className:"loader-spiner"},void 0,!1,{fileName:t,lineNumber:2353,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2352,columnNumber:37},void 0):null]},void 0,!0,{fileName:t,lineNumber:2328,columnNumber:25},void 0)]},void 0,!0,{fileName:t,lineNumber:1629,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:1628,columnNumber:17},void 0)},void 0,!1,{fileName:t,lineNumber:1627,columnNumber:13},void 0)]},void 0,!0)};export{zn as default};
