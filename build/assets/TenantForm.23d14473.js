import{bs as Qi,A as Ki,ae as Yi,r as c,E as Wi,ci as Xi,cc as Zi,ck as Ii,cl as Di,v as en,x as M,y as nn,j as n,F as k,s as ln,e as tn,ao as re,ai as on,am as E,k as P,bN as ce,bO as H,aA as oe,L as an,z as dn,J as De,bI as me,bQ as pe,Q as Y,bP as W}from"./index.e9a6c056.js";var l="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\tenant-contract\\TenantForm.jsx";const se={option:(q,X)=>({...q,fontSize:"14px"})},yn=()=>{const{id:q}=Qi(),X=Ki(),Z=Yi(),[e,b]=c.exports.useState(""),[ue,fe]=c.exports.useState(""),[Ne,ve]=c.exports.useState(""),[be,he]=c.exports.useState(""),[ye,ge]=c.exports.useState(""),[rn,ei]=c.exports.useState(""),C=a=>{const{name:o,value:t}=a.target;b({...e,[o]:t})},I=new URLSearchParams(window.location.search),D=I.get("propertyid"),O=I.get("renew"),$=I.get("customerid"),ee=I.get("contractenddate");c.exports.useEffect(()=>{D!=null&&b(a=>({...a,propertyid:D}))},[D]),c.exports.useEffect(()=>{O!=null&&b(a=>({...a,contractupdation:O}))},[O]),c.exports.useEffect(()=>{$!=null&&(b(o=>({...o,customerid:$,customertype:"Existing Tenant"})),(async()=>{if($){const t=await(await fetch(`http://dev-rare.srp.ai/users/${$}`)).json();t&&(Te(t),b({...e,guestname:(t==null?void 0:t.firstname)+" "+(t==null?void 0:t.lastname),passportnumber:t==null?void 0:t.passportidno,email:t==null?void 0:t.email,nationality:t==null?void 0:t.passportno,mobilenumber:t==null?void 0:t.whatsappno,passportpdf:(t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""}),ne((t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""))}})())},[$]),c.exports.useEffect(()=>{if(ee!=null){const a=new Date(ee);a.setDate(a.getDate()+1);const o=a.toISOString();b(t=>({...t,contractstartdate:o}))}},[ee]);const G=Wi(),{data:ie}=Xi(),{data:N,isSuccess:xe}=Zi(q),[_e,cn]=c.exports.useState(!1),[ke,qe]=c.exports.useState(""),[ii,Ce]=c.exports.useState(""),[ni,Se]=c.exports.useState(""),[we,Fe]=c.exports.useState("");c.exports.useEffect(()=>{var a,o,t,m,d,r,v,g,p,u,y,s;q&&N&&xe&&(b(N==null?void 0:N.tenantContract),qe(((a=N==null?void 0:N.tenantContract)==null?void 0:a.ejari_certificate_doc)&&((o=N==null?void 0:N.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(t=N==null?void 0:N.tenantContract)==null?void 0:t.ejari_certificate_doc:""),Ce(((m=N==null?void 0:N.tenantContract)==null?void 0:m.tenancy_contract_doc)&&((d=N==null?void 0:N.tenantContract)==null?void 0:d.tenancy_contract_doc)!==void 0?(r=N==null?void 0:N.tenantContract)==null?void 0:r.tenancy_contract_doc:""),Se(((v=N==null?void 0:N.tenantContract)==null?void 0:v.addendum_doc)&&((g=N==null?void 0:N.tenantContract)==null?void 0:g.addendum_doc)!==void 0?(p=N==null?void 0:N.tenantContract)==null?void 0:p.addendum_doc:""),Fe(((u=N==null?void 0:N.tenantContract)==null?void 0:u.key_receipt_doc)&&((y=N==null?void 0:N.tenantContract)==null?void 0:y.key_receipt_doc)!==void 0?(s=N==null?void 0:N.tenantContract)==null?void 0:s.key_receipt_doc:""))},[q,N,xe]);const[Pe]=Ii(),[li]=Di(),[Ae,ti]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://dev-rare.srp.ai/property").then(a=>a.json()).then(a=>{const o=a==null?void 0:a.map(t=>({label:t.unitnumber+" | "+t.communityname+" | "+t.projectname+" | "+t.buildingname,value:t._id}));ti(o)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const t=await(await fetch(`http://dev-rare.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();t&&b({...e,unitnumber:t==null?void 0:t.unitnumber,buildingname:t==null?void 0:t.building_name,projectname:t==null?void 0:t.project_name,communityname:t==null?void 0:t.community_name})}})()},[e==null?void 0:e.propertyid]);const[T,oi]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://dev-rare.srp.ai/users/api/customers").then(o=>o.json()).then(o=>{var m;const t=(m=o==null?void 0:o.users)==null?void 0:m.map(d=>({label:d.firstname+" "+d.lastname+" | "+d.email+" | "+d.passportidno+" | "+d.whatsappno,value:d._id}));oi(t)})})()},[]);const[je,ne]=c.exports.useState(""),[i,Te]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const t=await(await fetch(`http://dev-rare.srp.ai/users/${e==null?void 0:e.customerid}`)).json();t&&(Te(t),b({...e,guestname:(t==null?void 0:t.firstname)+" "+(t==null?void 0:t.lastname),passportnumber:t==null?void 0:t.passportidno,email:t==null?void 0:t.email,nationality:t==null?void 0:t.passportno,mobilenumber:t==null?void 0:t.whatsappno,passportpdf:(t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""}),ne((t==null?void 0:t.passportpdf)&&(t==null?void 0:t.passportpdf)!==void 0?t==null?void 0:t.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[ze,ai]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const t=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return ai(t==null?void 0:t.users)})()},[]);const[mn,di]=c.exports.useState(e==null?void 0:e.customertype),ri=a=>{di(a.target.value),b({...e,customertype:a.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),ne("")},ci=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const o=ce.getAllCountries();let t=[];t=o==null?void 0:o.map(({isoCode:m,name:d})=>({isoCode:m,name:d}))}catch(o){console.log(o)}})()},[]);const[le,mi]=c.exports.useState(null),Ee=a=>{mi(a.target.files[0]),b({...e,passportpdf:a.target.files[0]})},pi=()=>{b({...e,passportpdf:""}),ne("")},[Q,Oe]=c.exports.useState(null),si=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Oe(o),b({...e,ejari_certificate_doc:o}),fe("")):(Oe(null),b({...e,ejari_certificate_doc:null}),fe("File size exceeds 10MB limit!"))},ui=()=>{b({...e,ejari_certificate_doc:""}),qe("")},[U,$e]=c.exports.useState(null),fi=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?($e(o),b({...e,tenancy_contract_doc:o}),ve("")):($e(null),b({...e,tenancy_contract_doc:null}),ve("File size exceeds 10MB limit!"))},Ni=()=>{b({...e,tenancy_contract_doc:""}),Ce("")},[V,Ge]=c.exports.useState(null),vi=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Ge(o),b({...e,addendum_doc:o}),he("")):(Ge(null),b({...e,addendum_doc:null}),he("File size exceeds 10MB limit!"))},bi=()=>{b({...e,addendum_doc:""}),Se("")},[K,Ue]=c.exports.useState(null),hi=a=>{const o=a.target.files[0],t=10*1024*1024;o&&o.size<=t?(Ue(o),b({...e,key_receipt_doc:o}),ge("")):(Ue(null),b({...e,key_receipt_doc:null}),ge("File size exceeds 10MB limit!"))},yi=()=>{b({...e,key_receipt_doc:""}),Fe("")};c.exports.useState(null);const[_,Ve]=c.exports.useState("");c.exports.useEffect(()=>{if(q&&(e==null?void 0:e.chequeDetails)&&Z.pathname===`/update-tenantcontract/${q}`){const a=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Ve(a)}},[q,e==null?void 0:e.chequeDetails]);const gi=a=>{Ve(o=>{const t=[...o];return t[a]={...t[a],chequeimage:""},t}),b(o=>{const t={...o},m=[...t.chequeDetails];return m[a]={...m[a],chequeimage:""},t.chequeDetails=m,t})},[x,Be]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Be(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Be(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[Le,xi]=c.exports.useState([]),_i=(a,o)=>{let t=[];a.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const m=t[o]||{};t[o]={...m,chequenumbe:a.target.value,chequedate:(m==null?void 0:m.chequedate)||"",totalamount:(m==null?void 0:m.totalamount)||""};const d={...e,chequeDetails:t};b(d)},ki=(a,o)=>{let t=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const m=t[o]||{};t[o]={...m,chequedate:a[0]||""};const d={...e,chequeDetails:t};b(d)},qi=(a,o)=>{let t=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(t=[...e.chequeDetails]);const m=t[o]||{};t[o]={...m,totalamount:a.target.value,chequenumbe:(m==null?void 0:m.chequenumbe)||"",chequedate:(m==null?void 0:m.chequedate)||"",chequeimage:(m==null?void 0:m.chequeimage)||""};const d={...e,chequeDetails:t};b(d)},Ci=(a,o)=>{const t=[...Le],m=o.target.files[0];t[a]=m,xi(t);let d=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(d=[...e.chequeDetails]);const r=d[a]||{};d[a]={...r,totalamount:(r==null?void 0:r.totalamount)||"",chequenumbe:(r==null?void 0:r.chequenumbe)||"",chequedate:(r==null?void 0:r.chequedate)||"",chequeimage:m};const v={...e,chequeDetails:d};b(v)},[Re,z]=c.exports.useState(""),[Si,pn]=c.exports.useState(""),[Je,wi]=c.exports.useState(""),[te,B]=c.exports.useState(""),[Me,Fi]=c.exports.useState(""),[He,sn]=c.exports.useState(""),[Qe,un]=c.exports.useState(""),[Pi,fn]=c.exports.useState(""),[Ai,L]=c.exports.useState(""),[ji,R]=c.exports.useState("");c.exports.useState("");const[Ti,Ke]=c.exports.useState(Array(x).fill("")),[zi,Ye]=c.exports.useState(Array(x).fill("")),[Ei,We]=c.exports.useState(Array(x).fill("")),[Oi,Xe]=c.exports.useState(Array(x).fill("")),[$i,Nn]=c.exports.useState(""),[Gi,vn]=c.exports.useState(""),[Ui,ae]=c.exports.useState("");c.exports.useState("");const[Ze,de]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&Z.pathname==="/add-tenantcontract"?ze.find(o=>o.email===e.email)?(B("Email is already in use. Please check existing tenants."),de(!0)):(B(""),de(!1)):e.customertype==="Existing Tenant"&&(B(""),de(!1))},[e.customertype,e.email,ze]);let Vi={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no. of cheque or installment",commission:"commission"};const Bi=en({propertyid:M().required(Re),customertype:M().required(Je),email:M().email(te).required(te),guestname:M().required(Me),mobilenumber:M().required(He),nationality:M().required(Qe)}).required(),{register:S,formState:{errors:bn}}=nn({resolver:dn(Bi)}),Ie=()=>{let a=!1,o={propertyid:z,customertype:wi,email:B,guestname:Fi};return o&&Object.keys(o).length&&Object.keys(o).map(t=>{o[t](""),e[t]||(o[t](Vi[t]+" is required"),a=!0)}),a},[A,j]=c.exports.useState(!1),Li=localStorage.getItem("isAuth"),w=JSON.parse(Li),[Ri,J]=c.exports.useState(!1);c.exports.useEffect(()=>{const a=o=>{const{_id:t,propertyid:m,contractstartdate:d,contractenddate:r}=o,{contractstartdate:v,contractenddate:g,propertyid:p}=e;return t!==(e==null?void 0:e._id)&&d&&r&&new Date(d).toISOString()<new Date(g).toISOString()&&new Date(r).toISOString()>new Date(v).toISOString()&&m===p?(J(!0),z("Property is already Listed"),L("Property is already Listed"),R("Property is already Listed"),!0):(J(!1),z(""),L(""),R(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid)&&e.softdelete===!1)for(let o=0;o<(ie==null?void 0:ie.length);o++){const t=ie[o];if(a(t)){J(!0),z("Property is already Listed"),L("Property is already Listed"),R("Property is already Listed");break}else{J(!1),z(""),L(""),R("");break}}else J(!1),z(""),L(""),R("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Ji=async()=>{Ke(Array(x).fill("")),Ye(Array(x).fill("")),We(Array(x).fill("")),Xe(Array(x).fill(""));let a=!1;try{if(!e.propertyid||!e.guestname||!e.email)a=Ie();else if(!(e!=null&&e.customerid)&&!De.isEmail(e.email))B("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&Ze===!1&&Ri===!1){let o;console.log("create"),j(!0);try{let t=[],m=await Promise.all(t);if(m.length){let d=[];for(let h=0;h<m.length;h++){let F=m[h].data.files;d.push(F)}let r=[];for(let h of d)for(let F of h){let Hi=F;r.push(Hi)}let v="",g="",p="",u="",y="";for(let h of r)h.includes("Passport")?v=h:h.includes("ejari_certificate_doc")?g=h:h.includes("tenancy_contract_doc")?p=h:h.includes("addendum_doc")?u=h:h.includes("key_receipt_doc")&&(y=h);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",h[0]),s.append("lastname",h[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),s.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),s.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),s.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),s.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),s.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),s.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),s.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),s.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),s.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),s.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),s.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),s.append("altemail",i.altemail===void 0?"":i.altemail),s.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),s.append("password",i.password===void 0?"":i.password),s.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),s.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),s.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),s.append("type","tenant"),i!=null&&i.employeeid&&s.append("employeeid",i==null?void 0:i.employeeid),v?s.append("passportpdf",v||""):s.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i.passportpdf),G(me(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("firstname",h[0]),s.append("lastname",h[1]?h[1]:" "),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("type","tenant"),v&&s.append("passportpdf",v),G(pe(s))}const f=new FormData;f.append("propertyid",e==null?void 0:e.propertyid),f.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&f.append("customerid",e==null?void 0:e.customerid),f.append("guestname",e==null?void 0:e.guestname),f.append("passportnumber",e==null?void 0:e.passportnumber),f.append("email",e==null?void 0:e.email),f.append("nationality",e==null?void 0:e.nationality),f.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),f.append("createdBy",w==null?void 0:w._id),O&&f.append("contractupdation",e==null?void 0:e.contractupdation),v?f.append("passportpdf",v||""):f.append("passportpdf",""),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?f.append("contractstartdate",e==null?void 0:e.contractstartdate):f.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?f.append("contractenddate",e==null?void 0:e.contractenddate):f.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?f.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):f.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?f.append("contractvalue",e==null?void 0:e.contractvalue):f.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?f.append("rentalamount",e==null?void 0:e.rentalamount):f.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?f.append("securitydepositamount",e==null?void 0:e.securitydepositamount):f.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?f.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):f.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?f.append("commission",e==null?void 0:e.commission):f.append("commission",""),g?f.append("ejari_certificate_doc",g):f.append("ejari_certificate_doc",""),p?f.append("tenancy_contract_doc",p):f.append("tenancy_contract_doc",""),u?f.append("addendum_doc",u):f.append("addendum_doc",""),y?f.append("key_receipt_doc",y):f.append("key_receipt_doc",""),e!=null&&e.chequeDetails&&e.chequeDetails.map((h,F)=>(f.append("chequeDetailsImages",h.chequeimage),h.chequeimage="",h)),f.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),await Pe(f),Y.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{X("/all-tenantcontract")},500)}else{const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),d.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),d.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),d.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),d.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),d.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),d.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),d.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),d.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),d.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),d.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),d.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),d.append("altemail",i.altemail===void 0?"":i.altemail),d.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),d.append("password",i.password===void 0?"":i.password),d.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),d.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),d.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),d.append("passportpdf",i==null?void 0:i.passportpdf),d.append("type","tenant"),i!=null&&i.employeeid&&d.append("employeeid",i==null?void 0:i.employeeid),G(me(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let v=e==null?void 0:e.guestname.split(" ");d.append("firstname",v[0]),d.append("lastname",v[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("type","tenant"),d.append("passportpdf",e==null?void 0:e.passportpdf),G(pe(d))}const r=new FormData;r.append("propertyid",e==null?void 0:e.propertyid),r.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&r.append("customerid",e==null?void 0:e.customerid),r.append("guestname",e==null?void 0:e.guestname),r.append("passportnumber",e==null?void 0:e.passportnumber),r.append("email",e==null?void 0:e.email),r.append("nationality",e==null?void 0:e.nationality),r.append("mobilenumber",e==null?void 0:e.mobilenumber),r.append("createdBy",w==null?void 0:w._id),r.append("passportpdf",""),O&&r.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?r.append("contractstartdate",e==null?void 0:e.contractstartdate):r.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?r.append("contractenddate",e==null?void 0:e.contractenddate):r.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?r.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):r.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?r.append("contractvalue",e==null?void 0:e.contractvalue):r.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?r.append("rentalamount",e==null?void 0:e.rentalamount):r.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?r.append("securitydepositamount",e==null?void 0:e.securitydepositamount):r.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?r.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):r.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?r.append("commission",e==null?void 0:e.commission):r.append("commission",""),r.append("ejari_certificate_doc",Q),r.append("tenancy_contract_doc",U),r.append("addendum_doc",V),r.append("key_receipt_doc",K),e!=null&&e.chequeDetails&&e.chequeDetails.map((v,g)=>(r.append("chequeDetailsImages",v.chequeimage),v.chequeimage="",v)),r.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),o=await Pe(r),o.data.status===!0?(Y.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{X("/all-tenantcontract")},500)):j(!1)}}catch(t){console.log(t,"error"),Y.error(`${o.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),j(!1)}}}catch(o){console.log("catch error create tenant",o),j(!1)}},Mi=async a=>{a.preventDefault(),Ke(Array(x).fill("")),Ye(Array(x).fill("")),We(Array(x).fill("")),Xe(Array(x).fill(""));let o=!1,t={error:"Failed to Update tenant contract"};try{if(!e.propertyid||!e.guestname||!e.email)o=Ie();else if(!(e!=null&&e.customerid)&&!De.isEmail(e.email))B("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&_e===!1&&Ze===!1){console.log("update"),j(!0);try{let m=e==null?void 0:e.passportpdf,d=e==null?void 0:e.ejari_certificate_doc,r=e==null?void 0:e.tenancy_contract_doc,v=e==null?void 0:e.addendum_doc,g=e==null?void 0:e.key_receipt_doc;le!==null&&(m=await W(le,"Passport"),m=m.data.files[0]),Q!==null&&(d=await W(Q,"ejari_certificate_doc"),d=d.data.files[0]),U!==null&&(r=await W(U,"tenancy_contract_doc"),r=r.data.files[0]),V!==null&&(v=await W(V,"addendum_doc"),v=v.data.files[0]),K!==null&&(g=await W(K,"key_receipt_doc"),g=g.data.files[0]);const p=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let y=e==null?void 0:e.guestname.split(" ");p.append("_id",e==null?void 0:e.customerid),p.append("firstname",y[0]),p.append("lastname",y[1]),p.append("email",e==null?void 0:e.email),p.append("whatsappno",e==null?void 0:e.mobilenumber),p.append("passportno",e==null?void 0:e.nationality),p.append("passportidno",e==null?void 0:e.passportnumber),p.append("contactno",(i==null?void 0:i.contactno)===void 0||(i==null?void 0:i.contactno)===null?"":i==null?void 0:i.contactno),p.append("datebirth",(i==null?void 0:i.datebirth)===void 0||(i==null?void 0:i.datebirth)===null?"":i==null?void 0:i.datebirth),p.append("countryofresidence",(i==null?void 0:i.countryofresidence)===void 0||(i==null?void 0:i.countryofresidence)===null?"":i==null?void 0:i.countryofresidence),p.append("memberid",(i==null?void 0:i.memberid)===void 0||(i==null?void 0:i.memberid)===null?"":i==null?void 0:i.memberid),p.append("nameonpassport",(i==null?void 0:i.nameonpassport)===void 0||(i==null?void 0:i.nameonpassport)===null?"":i==null?void 0:i.nameonpassport),p.append("nationalidexpiry",(i==null?void 0:i.nationalidexpiry)===void 0||(i==null?void 0:i.nationalidexpiry)===null?"":i==null?void 0:i.nationalidexpiry),p.append("nationalidissuedate",(i==null?void 0:i.nationalidissuedate)===void 0||(i==null?void 0:i.nationalidissuedate)===null?"":i==null?void 0:i.nationalidissuedate),p.append("nationalidno",(i==null?void 0:i.nationalidno)===void 0||(i==null?void 0:i.nationalidno)===null?"":i==null?void 0:i.nationalidno),p.append("passportexpiry",(i==null?void 0:i.passportexpiry)===void 0||(i==null?void 0:i.passportexpiry)===null?"":i==null?void 0:i.passportexpiry),p.append("passportissue",(i==null?void 0:i.passportissue)===void 0||(i==null?void 0:i.passportissue)===null?"":i==null?void 0:i.passportissue),p.append("postaladdress",(i==null?void 0:i.postaladdress)===void 0||(i==null?void 0:i.postaladdress)===null?"":i==null?void 0:i.postaladdress),p.append("primaryno",(i==null?void 0:i.primaryno)===void 0||(i==null?void 0:i.primaryno)===null?"":i==null?void 0:i.primaryno),p.append("altemail",(i==null?void 0:i.altemail)===void 0?"":i==null?void 0:i.altemail),p.append("altmobilenumber",(i==null?void 0:i.altmobilenumber)===void 0?"":i==null?void 0:i.altmobilenumber),p.append("password",(i==null?void 0:i.password)===void 0?"":i==null?void 0:i.password),p.append("confirmpass",(i==null?void 0:i.confirmpass)===void 0?"":i==null?void 0:i.confirmpass),p.append("residentstatus",(i==null?void 0:i.residentstatus)===void 0?"":i==null?void 0:i.residentstatus),p.append("nationalidpdf",(i==null?void 0:i.nationalidpdf)===void 0?"":i==null?void 0:i.nationalidpdf),p.append("type","tenant"),i!=null&&i.employeeid&&p.append("employeeid",i==null?void 0:i.employeeid),m?p.append("passportpdf",m):p.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i==null?void 0:i.passportpdf),G(me(p))}else if((e==null?void 0:e.customertype)==="New Tenant"){let y=e==null?void 0:e.guestname.split(" ");p.append("firstname",y[0]),p.append("lastname",y[1]),p.append("email",e==null?void 0:e.email),p.append("whatsappno",e==null?void 0:e.mobilenumber),p.append("passportno",e==null?void 0:e.nationality),p.append("passportidno",e==null?void 0:e.passportnumber),m&&p.append("passportpdf",m),p.append("type","tenant"),G(pe(p))}const u=new FormData;u.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&u.append("customerid",e==null?void 0:e.customerid),u.append("_id",e==null?void 0:e._id),u.append("propertyid",e==null?void 0:e.propertyid),u.append("guestname",e==null?void 0:e.guestname),u.append("passportnumber",e==null?void 0:e.passportnumber),u.append("email",e==null?void 0:e.email),u.append("nationality",e==null?void 0:e.nationality),u.append("mobilenumber",e==null?void 0:e.mobilenumber),u.append("updatedBy",w==null?void 0:w._id),e!=null&&e.contractupdation&&u.append("contractupdation",e==null?void 0:e.contractupdation),m&&u.append("passportpdf",m),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?u.append("contractstartdate",e==null?void 0:e.contractstartdate):u.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?u.append("contractenddate",e==null?void 0:e.contractenddate):u.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?u.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):u.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?u.append("contractvalue",e==null?void 0:e.contractvalue):u.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?u.append("rentalamount",e==null?void 0:e.rentalamount):u.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?u.append("securitydepositamount",e==null?void 0:e.securitydepositamount):u.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?u.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):u.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?u.append("commission",e==null?void 0:e.commission):u.append("commission",""),d&&u.append("ejari_certificate_doc",d||Q),r&&u.append("tenancy_contract_doc",r||U),v&&u.append("addendum_doc",v||V),g&&u.append("key_receipt_doc",g||K),e!=null&&e.chequeDetails&&(console.log("$$@@@@$$$$",e==null?void 0:e.chequeDetails),e.chequeDetails.map((y,s)=>(u.append("chequeDetailsImages",y.chequeimage[s]?y.chequeimage[s]:y.chequeimage),y))),u.append("chequeDetails",JSON.stringify(e.chequeDetails?e.chequeDetails:[])),t=await li(u),t.data.status===!0?(Y.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{X("/all-tenantcontract")},500)):j(!1)}catch(m){console.log(m,"error"),Y.error(`${t.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),j(!1)}}}catch(m){console.log("catch error update tenant",m),j(!1)}};return n(k,{children:[n(ln,{},void 0,!1,{fileName:l,lineNumber:1502,columnNumber:13},void 0),n(tn,{title:"tenant contract Form",children:n("div",{children:n("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"},void 0,!1,{fileName:l,lineNumber:1507,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1506,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"},void 0,!1,{fileName:l,lineNumber:1512,columnNumber:29},void 0),n(re,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ae,value:Ae.filter(function(a){return a.value===(e==null?void 0:e.propertyid)}),onChange:a=>{b({...e,propertyid:a==null?void 0:a.value})},styles:se,id:"hh",placeholder:"Select and Search property"},void 0,!1,{fileName:l,lineNumber:1515,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Re},void 0,!1,{fileName:l,lineNumber:1530,columnNumber:29},void 0)]},void 0,!0,{fileName:l,lineNumber:1511,columnNumber:25},void 0),n(k,{children:e!=null&&e.propertyid?n(k,{children:n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Unit number"},void 0,!1,{fileName:l,lineNumber:1542,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1544,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1545,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1543,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1541,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Community Name"},void 0,!1,{fileName:l,lineNumber:1549,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1551,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1552,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1550,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1548,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Project Name"},void 0,!1,{fileName:l,lineNumber:1556,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1558,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1559,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1557,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1555,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Building Name"},void 0,!1,{fileName:l,lineNumber:1563,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1565,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1566,columnNumber:57},void 0)]},void 0,!0,{fileName:l,lineNumber:1564,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1562,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1540,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:1539,columnNumber:41},void 0)},void 0,!1):null},void 0,!1),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:1575,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1574,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"},void 0,!1,{fileName:l,lineNumber:1578,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1577,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:ci.map(a=>n(on,{label:a.label,name:"color",value:a.value,checked:(e==null?void 0:e.customertype)===a.value,onChange:ri},void 0,!1,{fileName:l,lineNumber:1585,columnNumber:37},void 0))},void 0,!1,{fileName:l,lineNumber:1583,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Je},void 0,!1,{fileName:l,lineNumber:1594,columnNumber:29},void 0),n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?n(k,{children:[n("div",{className:"w-[100%] col-span-3",children:[n("div",{children:T!=null&&T.length?n(k,{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"},void 0,!1,{fileName:l,lineNumber:1606,columnNumber:65},void 0),n(re,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:T,value:T==null?void 0:T.filter(function(a){return a.value===(e==null?void 0:e.customerid)}),onChange:a=>{b({...e,customerid:a==null?void 0:a.value})},styles:se,id:"hh"},void 0,!1,{fileName:l,lineNumber:1609,columnNumber:65},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:te&&"Customer details are required"},void 0,!1,{fileName:l,lineNumber:1623,columnNumber:65},void 0)]},void 0,!0):null},void 0,!1,{fileName:l,lineNumber:1602,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Si},void 0,!1,{fileName:l,lineNumber:1629,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1601,columnNumber:45},void 0),n(k,{children:e!=null&&e.customerid?n(k,{children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Tenant Name"},void 0,!1,{fileName:l,lineNumber:1636,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"},void 0,!1,{fileName:l,lineNumber:1638,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1639,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1637,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1635,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Email"},void 0,!1,{fileName:l,lineNumber:1643,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"},void 0,!1,{fileName:l,lineNumber:1645,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1646,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1644,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1642,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Mobile Number"},void 0,!1,{fileName:l,lineNumber:1650,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1652,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1653,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1651,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1649,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport no"},void 0,!1,{fileName:l,lineNumber:1657,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"},void 0,!1,{fileName:l,lineNumber:1659,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1660,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1658,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1656,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Nationality"},void 0,!1,{fileName:l,lineNumber:1664,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"},void 0,!1,{fileName:l,lineNumber:1666,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:l,lineNumber:1667,columnNumber:69},void 0)]},void 0,!0,{fileName:l,lineNumber:1665,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1663,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1671,columnNumber:65},void 0),je!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1679,columnNumber:77},void 0)},void 0,!1,{fileName:l,lineNumber:1678,columnNumber:73},void 0):n(E,{name:"basic",selectedFile:le,onChange:Ee},void 0,!1,{fileName:l,lineNumber:1682,columnNumber:73},void 0)]},void 0,!0,{fileName:l,lineNumber:1670,columnNumber:61},void 0)]},void 0,!0):null},void 0,!1)]},void 0,!0):(e==null?void 0:e.customertype)==="New Tenant"?n(k,{children:[n("div",{children:[n(P,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1708,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Me},void 0,!1,{fileName:l,lineNumber:1718,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1707,columnNumber:49},void 0),n("div",{children:[n(P,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1723,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:te},void 0,!1,{fileName:l,lineNumber:1733,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1722,columnNumber:49},void 0),n("div",{children:[n(P,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1738,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:He},void 0,!1,{fileName:l,lineNumber:1748,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1737,columnNumber:49},void 0),n("div",{children:[n(P,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1753,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Pi},void 0,!1,{fileName:l,lineNumber:1763,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1752,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"},void 0,!1,{fileName:l,lineNumber:1768,columnNumber:53},void 0),n(re,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ce.getAllCountries().filter(function(a){return a.name===(e==null?void 0:e.nationality)}),options:ce.getAllCountries(),styles:se,id:"hh",getOptionLabel:a=>a.name,getOptionValue:a=>a.name,onChange:a=>{ei(a==null?void 0:a.name),C({target:{name:"nationality",value:a.name}})}},void 0,!1,{fileName:l,lineNumber:1771,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Qe},void 0,!1,{fileName:l,lineNumber:1792,columnNumber:53},void 0)]},void 0,!0,{fileName:l,lineNumber:1767,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1797,columnNumber:53},void 0),je!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1803,columnNumber:65},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:pi},void 0,!1,{fileName:l,lineNumber:1804,columnNumber:65},void 0)]},void 0,!0,{fileName:l,lineNumber:1802,columnNumber:61},void 0):n(E,{name:"basic",selectedFile:le,onChange:Ee},void 0,!1,{fileName:l,lineNumber:1807,columnNumber:61},void 0)]},void 0,!0,{fileName:l,lineNumber:1796,columnNumber:49},void 0)]},void 0,!0):null},void 0,!1,{fileName:l,lineNumber:1597,columnNumber:29},void 0)]},void 0,!0,{fileName:l,lineNumber:1582,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:1819,columnNumber:29},void 0)},void 0,!1,{fileName:l,lineNumber:1818,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"},void 0,!1,{fileName:l,lineNumber:1824,columnNumber:37},void 0),n(oe,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:a=>{C({target:{name:"contractexecutiondate",value:a[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"},void 0,!1,{fileName:l,lineNumber:1827,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1823,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"},void 0,!1,{fileName:l,lineNumber:1840,columnNumber:37},void 0),n(oe,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:a=>{C({target:{name:"contractstartdate",value:a[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"},void 0,!1,{fileName:l,lineNumber:1843,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ai},void 0,!1,{fileName:l,lineNumber:1855,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1839,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"},void 0,!1,{fileName:l,lineNumber:1860,columnNumber:37},void 0),n(oe,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:a=>{C({target:{name:"contractenddate",value:a[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"},void 0,!1,{fileName:l,lineNumber:1863,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:ji},void 0,!1,{fileName:l,lineNumber:1875,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1859,columnNumber:33},void 0),n(k,{},void 0,!1),n("div",{children:[n(P,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1897,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:$i},void 0,!1,{fileName:l,lineNumber:1907,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1896,columnNumber:33},void 0),n("div",{children:[n(P,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:S,onChange:C},void 0,!1,{fileName:l,lineNumber:1912,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gi},void 0,!1,{fileName:l,lineNumber:1922,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:1911,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1927,columnNumber:37},void 0),ke!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1934,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:ui},void 0,!1,{fileName:l,lineNumber:1935,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1933,columnNumber:45},void 0):n(E,{name:"basic",selectedFile:Q,onChange:si},void 0,!1,{fileName:l,lineNumber:1938,columnNumber:45},void 0),!ke&&ue&&n("p",{style:{color:"red",fontSize:10},children:ue},void 0,!1,{fileName:l,lineNumber:1946,columnNumber:85},void 0)]},void 0,!0,{fileName:l,lineNumber:1926,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1950,columnNumber:37},void 0),ii!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1957,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ni},void 0,!1,{fileName:l,lineNumber:1958,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1956,columnNumber:45},void 0):n(E,{name:"basic",selectedFile:U,onChange:fi},void 0,!1,{fileName:l,lineNumber:1961,columnNumber:45},void 0),!U&&Ne&&n("p",{style:{color:"red",fontSize:10},children:Ne},void 0,!1,{fileName:l,lineNumber:1970,columnNumber:86},void 0)]},void 0,!0,{fileName:l,lineNumber:1949,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1973,columnNumber:37},void 0),ni!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:1979,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:bi},void 0,!1,{fileName:l,lineNumber:1980,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:1978,columnNumber:45},void 0):n(E,{name:"basic",selectedFile:V,onChange:vi},void 0,!1,{fileName:l,lineNumber:1983,columnNumber:45},void 0),!V&&be&&n("p",{style:{color:"red",fontSize:10},children:be},void 0,!1,{fileName:l,lineNumber:1992,columnNumber:78},void 0)]},void 0,!0,{fileName:l,lineNumber:1972,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:1995,columnNumber:37},void 0),we!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()},void 0,!1,{fileName:l,lineNumber:2001,columnNumber:49},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:yi},void 0,!1,{fileName:l,lineNumber:2002,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2e3,columnNumber:45},void 0):n(E,{name:"basic",selectedFile:K,onChange:hi},void 0,!1,{fileName:l,lineNumber:2005,columnNumber:45},void 0),!we&&ye&&n("p",{style:{color:"red",fontSize:10},children:ye},void 0,!1,{fileName:l,lineNumber:2013,columnNumber:76},void 0)]},void 0,!0,{fileName:l,lineNumber:1994,columnNumber:33},void 0),n(k,{},void 0,!1),n("div",{children:[n(P,{label:"no. of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:S,onInput:a=>{a.target.value>15?(ae("No. of cheques must be less than 16"),setTimeout(()=>{ae("")},3e3),b({...e,noofchequeorinstallment:15})):(ae(""),b({...e,noofchequeorinstallment:a.target.value}))}},void 0,!1,{fileName:l,lineNumber:2033,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ui},void 0,!1,{fileName:l,lineNumber:2056,columnNumber:37},void 0)]},void 0,!0,{fileName:l,lineNumber:2032,columnNumber:33},void 0),n(k,{},void 0,!1)]},void 0,!0,{fileName:l,lineNumber:1822,columnNumber:29},void 0),x>0&&n(k,{children:Array.from({length:x},(a,o)=>{var t,m,d,r,v,g,p,u,y,s;return n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[n("div",{children:[n(P,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((m=(t=e==null?void 0:e.chequeDetails)==null?void 0:t[o])==null?void 0:m.chequenumbe)||"",register:S,onChange:f=>_i(f,o)},void 0,!1,{fileName:l,lineNumber:2139,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ti[o]},void 0,!1,{fileName:l,lineNumber:2149,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2138,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"},void 0,!1,{fileName:l,lineNumber:2154,columnNumber:49},void 0),n(oe,{className:"form-control py-2",name:"chequedate",value:((r=(d=e==null?void 0:e.chequeDetails)==null?void 0:d[o])==null?void 0:r.chequedate)||"",onChange:f=>ki(f,o),id:"default-picker",placeholder:"Select cheque date"},void 0,!1,{fileName:l,lineNumber:2157,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:zi[o]},void 0,!1,{fileName:l,lineNumber:2166,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2153,columnNumber:45},void 0),n("div",{children:[n(P,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((g=(v=e==null?void 0:e.chequeDetails)==null?void 0:v[o])==null?void 0:g.totalamount)||"",register:S,onChange:f=>qi(f,o)},void 0,!1,{fileName:l,lineNumber:2171,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ei[o]},void 0,!1,{fileName:l,lineNumber:2181,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2170,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"},void 0,!1,{fileName:l,lineNumber:2186,columnNumber:49},void 0),((p=_==null?void 0:_[o])==null?void 0:p.chequeimage)!==""&&Z.pathname===`/update-tenantcontract/${q}`&&((u=_==null?void 0:_[o])==null?void 0:u.chequeimage)!==void 0?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://dev-rare.srp.ai/${(y=_==null?void 0:_[o])==null?void 0:y.chequeimage}`,children:decodeURIComponent((s=_==null?void 0:_[o])==null?void 0:s.chequeimage).split("/").pop()},void 0,!1,{fileName:l,lineNumber:2192,columnNumber:61},void 0),n("img",{src:H,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>gi(o)},void 0,!1,{fileName:l,lineNumber:2193,columnNumber:61},void 0)]},void 0,!0,{fileName:l,lineNumber:2191,columnNumber:57},void 0):n(E,{name:`chequeimage-${o}`,selectedFile:Le[o],onChange:Ci.bind(null,[o])},void 0,!1,{fileName:l,lineNumber:2196,columnNumber:57},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Oi[o]},void 0,!1,{fileName:l,lineNumber:2203,columnNumber:49},void 0)]},void 0,!0,{fileName:l,lineNumber:2185,columnNumber:45},void 0),x>1&&o!==x-1&&n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:l,lineNumber:2209,columnNumber:53},void 0)},void 0,!1,{fileName:l,lineNumber:2208,columnNumber:49},void 0)]},o+1,!0,{fileName:l,lineNumber:2137,columnNumber:41},void 0)})},void 0,!1)]},void 0,!0,{fileName:l,lineNumber:1821,columnNumber:25},void 0),n("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[n("div",{className:`"ltr:text-right rtl:text-left " ${A===!0?"cursor-not-allowed	":""}`,children:A===!0?n("div",{className:` ${A===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"},void 0,!1,{fileName:l,lineNumber:2221,columnNumber:41},void 0):n(an,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"},void 0,!1,{fileName:l,lineNumber:2222,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2218,columnNumber:29},void 0),Z.pathname===`/update-tenantcontract/${q}`?n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${A?"opacity-[0.7]":""}`,children:n("button",{disabled:A,className:"btn btn-dark  text-center",onClick:Mi,type:"button",children:"Update"},void 0,!1,{fileName:l,lineNumber:2229,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:2228,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2227,columnNumber:37},void 0):n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${A?"opacity-[0.7]":""}`,children:n("button",{disabled:A,className:"btn btn-dark  text-center",onClick:Ji,type:"button",children:"Submit"},void 0,!1,{fileName:l,lineNumber:2234,columnNumber:45},void 0)},void 0,!1,{fileName:l,lineNumber:2233,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2232,columnNumber:37},void 0),A===!0?n("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:n("div",{className:"loader-spiner"},void 0,!1,{fileName:l,lineNumber:2242,columnNumber:41},void 0)},void 0,!1,{fileName:l,lineNumber:2241,columnNumber:37},void 0):null]},void 0,!0,{fileName:l,lineNumber:2217,columnNumber:25},void 0)]},void 0,!0,{fileName:l,lineNumber:1505,columnNumber:21},void 0)},void 0,!1,{fileName:l,lineNumber:1504,columnNumber:17},void 0)},void 0,!1,{fileName:l,lineNumber:1503,columnNumber:13},void 0)]},void 0,!0)};export{yn as default};
