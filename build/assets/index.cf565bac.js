import{w as Ba,x as ba,aP as _a,E as za,r as w,y as Ua,z as $a,j as S,c as P,L as Ja,bJ as Ka,bK as Qa,C as Da}from"./index.821ab456.js";import{c as De,D as Za,T as Ia,E as eo,p as to,a as no,b as so,d as ro,I as de,i as we,e as ao,f as me,g as xe,t as oo,h as Se,j as Ra,k as O,l as H,m as Ma,n as Na,o as ie,q as le,r as io,s as Aa,u as ka,v as wa,w as lo,x as C,y as ja,z as Pe,A as ve,B as co,C as ho,F as La,G as po,H as go,J as uo,K as fo,L as vo,M as Eo,N as So,O as yo,P as bo,Q as Do,W as wo,R as mo,S as xo,U as Po,V as Ha,X as Co,Y as ma,Z as ce,_ as y,$ as To,a0 as _o,a1 as Ce,a2 as Oa,a3 as Ro,a4 as Mo,a5 as No,a6 as Ao,a7 as ko,a8 as jo,a9 as Va,aa as Lo,ab as xa,ac as Ho,ad as Fa,ae as Oo,af as Vo,ag as Fo,ah as Ee,ai as Pa,aj as Yo,ak as Xo}from"./index.5e8615a1.js";import{M as Go}from"./Modal.3105d779.js";var Wo=De({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Za,dateProfileGeneratorClass:Ia},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Pe.touchMouseIgnoreWait=500;let ye=0,he=0,be=!1;class Ya{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&qo(e)&&this.tryStart(e)){let n=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let n=this.createEventFromMouse(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let n=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let s=e.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let n=this.createEventFromTouch(e);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=e=>{if(this.isDragging){let n=e.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,Bo()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let n=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:s,deltaX:n-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=t,this.emitter=new ja,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),zo()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Uo()}tryStart(t){let e=this.querySubjectEl(t),n=t.target;return e&&(!this.handleSelector||O(n,this.handleSelector))?(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){be=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?O(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ye||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(be=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,e){let n=0,s=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,s=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:s}}createEventFromTouch(t,e){let n=t.touches,s,o,r=0,a=0;return n&&n.length?(s=n[0].pageX,o=n[0].pageY):(s=t.pageX,o=t.pageY),e?(this.origPageX=s,this.origPageY=o):(r=s-this.origPageX,a=o-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:o,deltaX:r,deltaY:a}}}function qo(l){return l.button===0&&!l.ctrlKey}function Bo(){ye+=1,setTimeout(()=>{ye-=1},Pe.touchMouseIgnoreWait)}function zo(){he+=1,he===1&&window.addEventListener("touchmove",Xa,{passive:!1})}function Uo(){he-=1,he||window.removeEventListener("touchmove",Xa,{passive:!1})}function Xa(l){be&&l.preventDefault()}class $o{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,e,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,e){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,e){let n=()=>{this.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(t,e){let n=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();n.style.transition="top "+e+"ms,left "+e+"ms",ve(n,{left:s.left,top:s.top}),co(n,()=>{n.style.transition="",t()})}cleanup(){this.mirrorEl&&(ho(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ve(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.style.userSelect="none",e.style.webkitUserSelect="none",e.classList.add("fc-event-dragging"),ve(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e}}class Ga extends Po{constructor(t,e){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=e,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Wa extends Ga{constructor(t,e){super(new bo(t),e)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Do(this.scrollController.el)}}class Jo extends Ga{constructor(t){super(new wo,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ca=typeof performance=="function"?performance.now:Date.now;class Ko{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(t){let e=Ca();this.handleSide(t,(e-this.msSinceRequest)/1e3),this.requestAnimation(e)}else this.isAnimating=!1}}}start(t,e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))}handleMove(t,e){if(this.isEnabled){let n=t-window.pageXOffset,s=e-window.pageYOffset,o=this.pointerScreenY===null?0:s-this.pointerScreenY,r=this.pointerScreenX===null?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ca()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,e){let{scrollCache:n}=t,{edgeThreshold:s}=this,o=s-t.distance,r=o*o/(s*s)*this.maxVelocity*e,a=1;switch(t.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+r*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+r*a);break}}computeBestEdge(t,e){let{edgeThreshold:n}=this,s=null,o=this.scrollCaches||[];for(let r of o){let a=r.clientRect,i=t-a.left,h=a.right-t,g=e-a.top,u=a.bottom-e;i>=0&&h>=0&&g>=0&&u>=0&&(g<=n&&this.everMovedUp&&r.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:r,name:"top",distance:g}),u<=n&&this.everMovedDown&&r.canScrollDown()&&(!s||s.distance>u)&&(s={scrollCache:r,name:"bottom",distance:u}),i<=n&&this.everMovedLeft&&r.canScrollLeft()&&(!s||s.distance>i)&&(s={scrollCache:r,name:"left",distance:i}),h<=n&&this.everMovedRight&&r.canScrollRight()&&(!s||s.distance>h)&&(s={scrollCache:r,name:"right",distance:h}))}return s}buildCaches(t){return this.queryScrollEls(t).map(e=>e===window?new Jo(!1):new Wa(e,!1))}queryScrollEls(t){let e=[];for(let n of this.scrollQuery)typeof n=="object"?e.push(n):e.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(n)));return e}}class U extends eo{constructor(t,e){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,to(document.body),no(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let o=this.minDistance,r,{deltaX:a,deltaY:i}=s;r=a*a+i*i,r>=o*o&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,so(document.body),ro(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Ya(t);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),e&&(n.selector=e),this.mirror=new $o,this.autoScroller=new Ko}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class Qo{constructor(t){this.origRect=La(t),this.scrollCaches=mo(t).map(e=>new Wa(e,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let e of this.scrollCaches)t+=e.origScrollLeft-e.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let e of this.scrollCaches)t+=e.origScrollTop-e.getScrollTop();return t}isWithinClipping(t,e){let n={left:t,top:e};for(let s of this.scrollCaches)if(!Zo(s.getEventTarget())&&!xo(n,s.clientRect))return!1;return!0}}function Zo(l){let t=l.tagName;return t==="HTML"||t==="BODY"}class pe{constructor(t,e){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):s.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new ja}processFirstCoord(t){let e={left:t.pageX,top:t.pageY},n=e,s=t.subjectEl,o;s instanceof HTMLElement&&(o=La(s),n=po(n,o));let r=this.initialHit=this.queryHitForOffset(n.left,n.top);if(r){if(this.useSubjectCenter&&o){let a=go(o,r.rect);a&&(n=uo(a))}this.coordAdjust=fo(n,e)}else this.coordAdjust={left:0,top:0}}handleMove(t,e){let n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(e||!ge(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))}prepareHits(){this.offsetTrackers=vo(this.droppableStore,t=>(t.component.prepareHits(),new Qo(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(t,e){let{droppableStore:n,offsetTrackers:s}=this,o=null;for(let r in n){let a=n[r].component,i=s[r];if(i&&i.isWithinClipping(t,e)){let h=i.computeLeft(),g=i.computeTop(),u=t-h,f=e-g,{origRect:v}=i,D=v.right-v.left,d=v.bottom-v.top;if(u>=0&&u<D&&f>=0&&f<d){let E=a.queryHit(u,f,D,d);E&&Eo(E.dateProfile.activeRange,E.dateSpan.range)&&(!o||E.layer>o.layer)&&(E.componentId=r,E.context=a.context,E.rect.left+=h,E.rect.right+=h,E.rect.top+=g,E.rect.bottom+=g,o=E)}}}return o}}function ge(l,t){return!l&&!t?!0:Boolean(l)!==Boolean(t)?!1:So(l.dateSpan,t.dateSpan)}function qa(l,t){let e={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(e,n(l,t));return Object.assign(e,Io(l,t.dateEnv)),e}function Io(l,t){return{date:t.toDate(l.range.start),dateStr:t.formatIso(l.range.start,{omitTime:l.allDay}),allDay:l.allDay}}class ei extends de{constructor(t){super(t),this.handlePointerDown=n=>{let{dragging:s}=this,o=n.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=n=>{let{component:s}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:r,finalHit:a}=this.hitDragging;if(r&&a&&ge(r,a)){let{context:i}=s,h=Object.assign(Object.assign({},qa(r.dateSpan,i)),{dayEl:r.dayEl,jsEvent:n.origEvent,view:i.viewApi||i.calendarApi.view});i.emitter.trigger("dateClick",h)}}},this.dragging=new U(t.el),this.dragging.autoScroller.isEnabled=!1;let e=this.hitDragging=new pe(this.dragging,we(t));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class ti extends de{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=r=>{let{component:a,dragging:i}=this,{options:h}=a.context,g=h.selectable&&a.isValidDateDownEl(r.origEvent.target);i.setIgnoreMove(!g),i.delay=r.isTouch?ni(a):null},this.handleDragStart=r=>{this.component.context.calendarApi.unselect(r)},this.handleHitUpdate=(r,a)=>{let{context:i}=this.component,h=null,g=!1;if(r){let u=this.hitDragging.initialHit;r.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,r)||(h=si(u,r,i.pluginHooks.dateSelectionTransformers)),(!h||!ao(h,r.dateProfile,i))&&(g=!0,h=null)}h?i.dispatch({type:"SELECT_DATES",selection:h}):a||i.dispatch({type:"UNSELECT_DATES"}),g?xe():me(),a||(this.dragSelection=h)},this.handlePointerUp=r=>{this.dragSelection&&(oo(this.dragSelection,r,this.component.context),this.dragSelection=null)};let{component:e}=t,{options:n}=e.context,s=this.dragging=new U(t.el);s.touchScrollAllowed=!1,s.minDistance=n.selectMinDistance||0,s.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new pe(this.dragging,we(t));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function ni(l){let{options:t}=l.context,e=t.selectLongPressDelay;return e==null&&(e=t.longPressDelay),e}function si(l,t,e){let n=l.dateSpan,s=t.dateSpan,o=[n.range.start,n.range.end,s.range.start,s.range.end];o.sort(yo);let r={};for(let a of e){let i=a(l,t);if(i===!1)return null;i&&Object.assign(r,i)}return r.range={start:o[0],end:o[3]},r.allDay=n.allDay,r}class $ extends de{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let a=r.origEvent.target,{component:i,dragging:h}=this,{mirror:g}=h,{options:u}=i.context,f=i.context;this.subjectEl=r.subjectEl;let v=this.subjectSeg=Se(r.subjectEl),d=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=Ra(f.getCurrentData().eventStore,d),h.minDistance=r.isTouch?0:u.eventDragMinDistance,h.delay=r.isTouch&&d!==i.props.eventSelection?ai(i):null,u.fixedMirrorParent?g.parentNode=u.fixedMirrorParent:g.parentNode=O(a,".fc"),g.revertDuration=u.dragRevertDuration;let E=i.isValidSegDownEl(a)&&!O(a,".fc-event-resizer");h.setIgnoreMove(!E),this.isDragging=E&&r.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=r=>{let a=this.component.context,i=this.eventRange,h=i.instance.instanceId;r.isTouch?h!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(r),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new H(a,i.def,i.instance),jsEvent:r.origEvent,view:a.viewApi}))},this.handleHitUpdate=(r,a)=>{if(!this.isDragging)return;let i=this.relevantEvents,h=this.hitDragging.initialHit,g=this.component.context,u=null,f=null,v=null,D=!1,d={affectedEvents:i,mutatedEvents:ie(),isEvent:!0};if(r){u=r.context;let E=u.options;g===u||E.editable&&E.droppable?(f=ri(h,r,u.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(v=Ma(i,u.getCurrentData().eventUiBases,f,u),d.mutatedEvents=v,Na(d,r.dateProfile,u)||(D=!0,f=null,v=null,d.mutatedEvents=ie()))):u=null}this.displayDrag(u,d),D?xe():me(),a||(g===u&&ge(h,r)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!r||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=u,this.validMutation=f,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=r=>{if(this.isDragging){let a=this.component.context,i=a.viewApi,{receivingContext:h,validMutation:g}=this,u=this.eventRange.def,f=this.eventRange.instance,v=new H(a,u,f),D=this.relevantEvents,d=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:r.origEvent,view:i}),g){if(h===a){let T=new H(a,d.defs[u.defId],f?d.instances[f.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:d});let _={oldEvent:v,event:T,relatedEvents:le(d,a,f),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:D})}},R={};for(let A of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(R,A(g,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},_),R),{el:r.subjectEl,delta:g.datesDelta,jsEvent:r.origEvent,view:i})),a.emitter.trigger("eventChange",_)}else if(h){let T={event:v,relatedEvents:le(D,a,f),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:D})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},T),{draggedEl:r.subjectEl,view:i})),a.dispatch({type:"REMOVE_EVENTS",eventStore:D}),a.emitter.trigger("eventRemove",T);let _=d.defs[u.defId],R=d.instances[f.instanceId],A=new H(h,_,R);h.dispatch({type:"MERGE_EVENTS",eventStore:d});let L={event:A,relatedEvents:le(d,h,R),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:d})}};h.emitter.trigger("eventAdd",L),r.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},qa(E.dateSpan,h)),{draggedEl:r.subjectEl,jsEvent:r.origEvent,view:E.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},L),{draggedEl:r.subjectEl,view:E.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:e}=this,{options:n}=e.context,s=this.dragging=new U(t.el);s.pointer.selector=$.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.dragScroll;let o=this.hitDragging=new pe(this.dragging,io);o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,e){let n=this.component.context,s=this.receivingContext;s&&s!==t&&(s===n?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:e.affectedEvents,mutatedEvents:ie(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})}clearDrag(){let t=this.component.context,{receivingContext:e}=this;e&&e.dispatch({type:"UNSET_EVENT_DRAG"}),t!==e&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}$.SELECTOR=".fc-event-draggable, .fc-event-resizable";function ri(l,t,e){let n=l.dateSpan,s=t.dateSpan,o=n.range.start,r=s.range.start,a={};n.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=t.context.options.allDayMaintainDuration,s.allDay&&(o=Aa(o)));let i=ka(o,r,l.context.dateEnv,l.componentId===t.componentId?l.largeUnit:null);i.milliseconds&&(a.allDay=!1);let h={datesDelta:i,standardProps:a};for(let g of e)g(h,l,t);return h}function ai(l){let{options:t}=l.context,e=t.eventLongPressDelay;return e==null&&(e=t.longPressDelay),e}class oi extends de{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:r}=this,a=this.querySegEl(o),i=Se(a),h=this.eventRange=i.eventRange;this.dragging.minDistance=r.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=o=>{let{context:r}=this.component,a=this.eventRange;this.relevantEvents=Ra(r.getCurrentData().eventStore,this.eventRange.instance.instanceId);let i=this.querySegEl(o);this.draggingSegEl=i,this.draggingSeg=Se(i),r.calendarApi.unselect(),r.emitter.trigger("eventResizeStart",{el:i,event:new H(r,a.def,a.instance),jsEvent:o.origEvent,view:r.viewApi})},this.handleHitUpdate=(o,r,a)=>{let{context:i}=this.component,h=this.relevantEvents,g=this.hitDragging.initialHit,u=this.eventRange.instance,f=null,v=null,D=!1,d={affectedEvents:h,mutatedEvents:ie(),isEvent:!0};o&&(o.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,o)||(f=ii(g,o,a.subjectEl.classList.contains("fc-event-resizer-start"),u.range))),f&&(v=Ma(h,i.getCurrentData().eventUiBases,f,i),d.mutatedEvents=v,Na(d,o.dateProfile,i)||(D=!0,f=null,v=null,d.mutatedEvents=null)),v?i.dispatch({type:"SET_EVENT_RESIZE",state:d}):i.dispatch({type:"UNSET_EVENT_RESIZE"}),D?xe():me(),r||(f&&ge(g,o)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=v)},this.handleDragEnd=o=>{let{context:r}=this.component,a=this.eventRange.def,i=this.eventRange.instance,h=new H(r,a,i),g=this.relevantEvents,u=this.mutatedRelevantEvents;if(r.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:o.origEvent,view:r.viewApi}),this.validMutation){let f=new H(r,u.defs[a.defId],i?u.instances[i.instanceId]:null);r.dispatch({type:"MERGE_EVENTS",eventStore:u});let v={oldEvent:h,event:f,relatedEvents:le(u,r,i),revert(){r.dispatch({type:"MERGE_EVENTS",eventStore:g})}};r.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||wa(0),endDelta:this.validMutation.endDelta||wa(0),jsEvent:o.origEvent,view:r.viewApi})),r.emitter.trigger("eventChange",v)}else r.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:e}=t,n=this.dragging=new U(t.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=e.context.options.dragScroll;let s=this.hitDragging=new pe(this.dragging,we(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return O(t.subjectEl,".fc-event")}}function ii(l,t,e,n){let s=l.context.dateEnv,o=l.dateSpan.range.start,r=t.dateSpan.range.start,a=ka(o,r,s,l.largeUnit);if(e){if(s.add(n.start,a)<n.end)return{startDelta:a}}else if(s.add(n.end,a)>n.start)return{endDelta:a};return null}class li{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let s=this.context.options.unselectCancel,o=lo(n.origEvent);this.matchesCancel=!!O(o,s),this.matchesEvent=!!O(o,$.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:s}=this,{documentPointer:o}=this,r=s.getCurrentData();if(!o.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(n)}r.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let e=this.documentPointer=new Ya(document);e.shouldIgnoreMove=!0,e.shouldWatchScroll=!1,e.emitter.on("pointerdown",this.onDocumentPointerDown),e.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ci={fixedMirrorParent:C},hi={dateClick:C,eventDragStart:C,eventDragStop:C,eventDrop:C,eventResizeStart:C,eventResizeStop:C,eventResize:C,drop:C,eventReceive:C,eventLeave:C};Pe.dataAttrPrefix="";var di=De({name:"@fullcalendar/interaction",componentInteractions:[ei,ti,$,oi],calendarInteractions:[li],elementDraggingImpl:U,optionRefiners:ci,listenerRefiners:hi});class pi extends Va{constructor(){super(...arguments),this.state={textId:ce()}}render(){let{theme:t,dateEnv:e,options:n,viewApi:s}=this.context,{cellId:o,dayDate:r,todayRange:a}=this.props,{textId:i}=this.state,h=Lo(r,a),g=n.listDayFormat?e.format(r,n.listDayFormat):"",u=n.listDaySideFormat?e.format(r,n.listDaySideFormat):"",f=Object.assign({date:e.toDate(r),view:s,textId:i,text:g,sideText:u,navLinkAttrs:xa(this.context,r),sideNavLinkAttrs:xa(this.context,r,"day",!1)},h);return y(Ce,{elTag:"tr",elClasses:["fc-list-day",...Ho(h,t)],elAttrs:{"data-date":Oa(r)},renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:gi,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},v=>y("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":i},y(v,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function gi(l){return y(Fa,null,l.text&&y("a",Object.assign({id:l.textId,className:"fc-list-day-text"},l.navLinkAttrs),l.text),l.sideText&&y("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},l.sideNavLinkAttrs),l.sideText))}const ui=Ha({hour:"numeric",minute:"2-digit",meridiem:"short"});class fi extends Va{render(){let{props:t,context:e}=this,{options:n}=e,{seg:s,timeHeaderId:o,eventHeaderId:r,dateHeaderId:a}=t,i=n.eventTimeFormat||ui;return y(Oo,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>vi(s,e),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(h,g)=>y(Fa,null,Ei(s,i,e,o,a),y("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},y("span",{className:"fc-list-event-dot",style:{borderColor:g.borderColor||g.backgroundColor}})),y(h,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${r} ${a}`}})))}}function vi(l,t){let e=Vo(l,t);return y("a",Object.assign({},e),l.eventRange.def.title)}function Ei(l,t,e,n,s){let{options:o}=e;if(o.displayEventTime!==!1){let r=l.eventRange.def,a=l.eventRange.instance,i=!1,h;if(r.allDay?i=!0:Fo(l.eventRange.range)?l.isStart?h=Ee(l,t,e,null,null,a.range.start,l.end):l.isEnd?h=Ee(l,t,e,null,null,l.start,a.range.end):i=!0:h=Ee(l,t,e),i){let g={text:e.options.allDayText,view:e.viewApi};return y(Ce,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${s}`},renderProps:g,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:Si,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return y("td",{className:"fc-list-event-time"},h)}return null}function Si(l){return l.text}class yi extends Co{constructor(){super(...arguments),this.computeDateVars=ma(Di),this.eventStoreToSegs=ma(this._eventStoreToSegs),this.state={timeHeaderId:ce(),eventHeaderId:ce(),dateHeaderIdRoot:ce()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:e}=this,{dayDates:n,dayRanges:s}=this.computeDateVars(t.dateProfile),o=this.eventStoreToSegs(t.eventStore,t.eventUiBases,s);return y(_o,{elRef:this.setRootEl,elClasses:["fc-list",e.theme.getClass("table"),e.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:e.viewSpec},y(To,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:e}=this.context,n={text:t.noEventsText,view:e};return y(Ce,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:bi,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},s=>y(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,e){let{theme:n,options:s}=this.context,{timeHeaderId:o,eventHeaderId:r,dateHeaderIdRoot:a}=this.state,i=wi(t);return y(No,{unit:"day"},(h,g)=>{let u=[];for(let f=0;f<i.length;f+=1){let v=i[f];if(v){let D=Oa(e[f]),d=a+"-"+D;u.push(y(pi,{key:D,cellId:d,dayDate:e[f],todayRange:g})),v=Ro(v,s.eventOrder);for(let E of v)u.push(y(fi,Object.assign({key:D+":"+E.eventRange.instance.instanceId,seg:E,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:r,dateHeaderId:d},Mo(E,g,h))))}}return y("table",{className:"fc-list-table "+n.getClass("table")},y("thead",null,y("tr",null,y("th",{scope:"col",id:o},s.timeHint),y("th",{scope:"col","aria-hidden":!0}),y("th",{scope:"col",id:r},s.eventHint))),y("tbody",null,u))})}_eventStoreToSegs(t,e,n){return this.eventRangesToSegs(Ao(t,e,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(t,e){let n=[];for(let s of t)n.push(...this.eventRangeToSegs(s,e));return n}eventRangeToSegs(t,e){let{dateEnv:n}=this.context,{nextDayThreshold:s}=this.context.options,o=t.range,r=t.def.allDay,a,i,h,g=[];for(a=0;a<e.length;a+=1)if(i=ko(o,e[a]),i&&(h={component:this,eventRange:t,start:i.start,end:i.end,isStart:t.isStart&&i.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&i.end.valueOf()===o.end.valueOf(),dayIndex:a},g.push(h),!h.isEnd&&!r&&a+1<e.length&&o.end<n.add(e[a+1].start,s))){h.end=o.end,h.isEnd=!0;break}return g}}function bi(l){return l.text}function Di(l){let t=Aa(l.renderRange.start),e=l.renderRange.end,n=[],s=[];for(;t<e;)n.push(t),s.push({start:t,end:Pa(t,1)}),t=Pa(t,1);return{dayDates:n,dayRanges:s}}function wi(l){let t=[],e,n;for(e=0;e<l.length;e+=1)n=l[e],(t[n.dayIndex]||(t[n.dayIndex]=[])).push(n);return t}var mi=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';jo(mi);const xi={listDayFormat:Ta,listDaySideFormat:Ta,noEventsClassNames:C,noEventsContent:C,noEventsDidMount:C,noEventsWillUnmount:C};function Ta(l){return l===!1?null:Ha(l)}var Pi=De({name:"@fullcalendar/list",optionRefiners:xi,views:{list:{component:yi,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const Ci=Ba({title:ba().required("Event Name is required"),cata:ba().required("Category is required")}).required(),Ti=({editModal:l,onCloseEditModal:t,editItem:e})=>{var A,L,J,K,Q,Z,I,ue,ee,te,ne,se,re,ae,c,m,x,N,k,V,F,Y,Te,_e,Re,Me,Ne,Ae,ke,je,Le,He,Oe,Ve,Fe,Ye,Xe,Ge,We,qe,Be,ze,Ue,$e,Je;_a(oe=>oe.calendar);const n=za(),[s,o]=w.exports.useState(new Date),[r,a]=w.exports.useState(new Date);w.exports.useEffect(()=>{e&&(o(e.event.start),a(e.event.end)),g(e)},[l]);const{register:i,control:h,reset:g,formState:{errors:u},handleSubmit:f}=Ua({resolver:$a(Ci),mode:"all"}),[v,D]=w.exports.useState(""),[d,E]=w.exports.useState("");w.exports.useEffect(()=>{(async()=>{var X,G,W,q,B,z;if((W=(G=(X=e==null?void 0:e.event)==null?void 0:X._def)==null?void 0:G.extendedProps)!=null&&W.ownerid){const M=await(await fetch(`http://portals.rarehomesgroup.com/users/${(z=(B=(q=e==null?void 0:e.event)==null?void 0:q._def)==null?void 0:B.extendedProps)==null?void 0:z.ownerid}`)).json();M&&(D((M==null?void 0:M.firstname)+" "+(M==null?void 0:M.lastname)),E(M))}})()},[(J=(L=(A=e==null?void 0:e.event)==null?void 0:A._def)==null?void 0:L.extendedProps)==null?void 0:J.ownerid]);const[T,_]=w.exports.useState(!1),R=async oe=>{var X,G,W,q,B,z,fe,M,Ke,Qe,Ze,Ie,et,tt,nt,st,rt,at,ot,it,lt,ct,ht,dt,pt,gt,ut,ft,vt,Et,St,yt,bt,Dt,wt,mt,xt,Pt,Ct,Tt,_t,Rt,Mt,Nt,At,kt,jt,Lt,Ht,Ot,Vt,Ft,Yt,Xt,Gt,Wt,qt,Bt,zt,Ut,$t,Jt,Kt,Qt,Zt,It,en,tn,nn,sn,rn,an,on,ln,cn,hn,dn,pn,gn,un,fn,vn,En,Sn,yn,bn,Dn,wn,mn,xn,Pn,Cn,Tn,_n,Rn,Mn,Nn,An,kn,jn,Ln,Hn,On,Vn,Fn,Yn,Xn,Gn,Wn,qn,Bn,zn,Un,$n,Jn,Kn,Qn,Zn,In,es,ts,ns,ss,rs,as,os,is,ls,cs,hs,ds,ps,gs,us,fs,vs,Es,Ss,ys,bs,Ds,ws,ms,xs,Ps,Cs,Ts,_s,Rs,Ms,Ns,As,ks,js,Ls,Hs,Os,Vs,Fs,Ys,Xs,Gs,Ws,qs,Bs,zs,Us,$s,Js,Ks,Qs,Zs,Is,er,tr,nr,sr,rr,ar,or,ir,lr,cr,hr,dr,pr,gr,ur,fr,vr,Er,Sr,yr,br,Dr,wr,mr,xr,Pr,Cr,Tr,_r,Rr,Mr,Nr,Ar,kr,jr,Lr,Hr,Or,Vr,Fr,Yr,Xr,Gr,Wr,qr,Br,zr,Ur,$r,Jr,Kr,Qr,Zr,Ir,ea,ta,na,sa,ra,aa,oa,ia,la,ca,ha,da,pa,ga,ua,fa,va,Ea,Sa,ya;oe.preventDefault();try{if(_(!0),(W=(G=(X=e==null?void 0:e.event)==null?void 0:X._def)==null?void 0:G.extendedProps)!=null&&W.customerid){const b=new FormData;let j=(z=(B=(q=e==null?void 0:e.event)==null?void 0:q._def)==null?void 0:B.extendedProps)==null?void 0:z.guestname.split(" ");b.append("_id",(Ke=(M=(fe=e==null?void 0:e.event)==null?void 0:fe._def)==null?void 0:M.extendedProps)==null?void 0:Ke.customerid),b.append("firstname",j[0]),b.append("lastname",j[1]),b.append("email",(Ie=(Ze=(Qe=e==null?void 0:e.event)==null?void 0:Qe._def)==null?void 0:Ze.extendedProps)==null?void 0:Ie.email),(nt=(tt=(et=e==null?void 0:e.event)==null?void 0:et._def)==null?void 0:tt.extendedProps)!=null&&nt.mobilenumber&&b.append("whatsappno",(at=(rt=(st=e==null?void 0:e.event)==null?void 0:st._def)==null?void 0:rt.extendedProps)==null?void 0:at.mobilenumber),b.append("passportno",(lt=(it=(ot=e==null?void 0:e.event)==null?void 0:ot._def)==null?void 0:it.extendedProps)==null?void 0:lt.nationality),b.append("passportidno",(dt=(ht=(ct=e==null?void 0:e.event)==null?void 0:ct._def)==null?void 0:ht.extendedProps)==null?void 0:dt.passportnumber),b.append("type","customer"),b.append("passportpdf",d==null?void 0:d.passportpdf),d!=null&&d.contactno&&b.append("contactno",d==null?void 0:d.contactno),b.append("datebirth",d==null?void 0:d.datebirth),b.append("countryofresidence",d==null?void 0:d.countryofresidence),b.append("memberid",d==null?void 0:d.memberid),b.append("nameonpassport",d==null?void 0:d.nameonpassport),b.append("nationalidexpiry",d==null?void 0:d.nationalidexpiry),b.append("nationalidissuedate",d==null?void 0:d.nationalidissuedate),b.append("nationalidno",d==null?void 0:d.nationalidno),b.append("passportexpiry",d==null?void 0:d.passportexpiry),b.append("passportissue",d==null?void 0:d.passportissue),b.append("postaladdress",d==null?void 0:d.postaladdress),d!=null&&d.primaryno&&b.append("primaryno",d==null?void 0:d.primaryno),b.append("nationalidpdf",d==null?void 0:d.nationalidpdf),n(Ka(b))}const p=new FormData;if(p.append("_id",(ut=(gt=(pt=e==null?void 0:e.event)==null?void 0:pt._def)==null?void 0:gt.extendedProps)==null?void 0:ut._id),(Et=(vt=(ft=e==null?void 0:e.event)==null?void 0:ft._def)==null?void 0:vt.extendedProps)!=null&&Et.propertyid&&p.append("propertyid",(bt=(yt=(St=e==null?void 0:e.event)==null?void 0:St._def)==null?void 0:yt.extendedProps)==null?void 0:bt.propertyid),p.append("unitnumber",(mt=(wt=(Dt=e==null?void 0:e.event)==null?void 0:Dt._def)==null?void 0:wt.extendedProps)==null?void 0:mt.unitnumber),p.append("buildingname",(Ct=(Pt=(xt=e==null?void 0:e.event)==null?void 0:xt._def)==null?void 0:Pt.extendedProps)==null?void 0:Ct.buildingname),p.append("floor",(Rt=(_t=(Tt=e==null?void 0:e.event)==null?void 0:Tt._def)==null?void 0:_t.extendedProps)==null?void 0:Rt.floor),p.append("buildingnumber",(At=(Nt=(Mt=e==null?void 0:e.event)==null?void 0:Mt._def)==null?void 0:Nt.extendedProps)==null?void 0:At.buildingnumber),p.append("communityname",(Lt=(jt=(kt=e==null?void 0:e.event)==null?void 0:kt._def)==null?void 0:jt.extendedProps)==null?void 0:Lt.communityname),(Vt=(Ot=(Ht=e==null?void 0:e.event)==null?void 0:Ht._def)==null?void 0:Ot.extendedProps)!=null&&Vt.ownerid&&p.append("ownerid",(Xt=(Yt=(Ft=e==null?void 0:e.event)==null?void 0:Ft._def)==null?void 0:Yt.extendedProps)==null?void 0:Xt.ownerid),p.append("city",(qt=(Wt=(Gt=e==null?void 0:e.event)==null?void 0:Gt._def)==null?void 0:Wt.extendedProps)==null?void 0:qt.city),p.append("customertype",(Ut=(zt=(Bt=e==null?void 0:e.event)==null?void 0:Bt._def)==null?void 0:zt.extendedProps)==null?void 0:Ut.customertype),(Kt=(Jt=($t=e==null?void 0:e.event)==null?void 0:$t._def)==null?void 0:Jt.extendedProps)!=null&&Kt.customerid&&p.append("customerid",(It=(Zt=(Qt=e==null?void 0:e.event)==null?void 0:Qt._def)==null?void 0:Zt.extendedProps)==null?void 0:It.customerid),p.append("guestname",(nn=(tn=(en=e==null?void 0:e.event)==null?void 0:en._def)==null?void 0:tn.extendedProps)==null?void 0:nn.guestname),p.append("passportnumber",(an=(rn=(sn=e==null?void 0:e.event)==null?void 0:sn._def)==null?void 0:rn.extendedProps)==null?void 0:an.passportnumber),p.append("email",(cn=(ln=(on=e==null?void 0:e.event)==null?void 0:on._def)==null?void 0:ln.extendedProps)==null?void 0:cn.email),p.append("nationality",(pn=(dn=(hn=e==null?void 0:e.event)==null?void 0:hn._def)==null?void 0:dn.extendedProps)==null?void 0:pn.nationality),(fn=(un=(gn=e==null?void 0:e.event)==null?void 0:gn._def)==null?void 0:un.extendedProps)!=null&&fn.mobilenumber&&p.append("mobilenumber",(Sn=(En=(vn=e==null?void 0:e.event)==null?void 0:vn._def)==null?void 0:En.extendedProps)==null?void 0:Sn.mobilenumber),p.append("checkintype",(Dn=(bn=(yn=e==null?void 0:e.event)==null?void 0:yn._def)==null?void 0:bn.extendedProps)==null?void 0:Dn.checkintype),p.append("noadults",(xn=(mn=(wn=e==null?void 0:e.event)==null?void 0:wn._def)==null?void 0:mn.extendedProps)==null?void 0:xn.noadults),(Tn=(Cn=(Pn=e==null?void 0:e.event)==null?void 0:Pn._def)==null?void 0:Cn.extendedProps)!=null&&Tn.nochildern&&p.append("nochildern",(Mn=(Rn=(_n=e==null?void 0:e.event)==null?void 0:_n._def)==null?void 0:Rn.extendedProps)==null?void 0:Mn.nochildern),p.append("totaloccupants",(kn=(An=(Nn=e==null?void 0:e.event)==null?void 0:Nn._def)==null?void 0:An.extendedProps)==null?void 0:kn.totaloccupants),p.append("confirmationcode",(Hn=(Ln=(jn=e==null?void 0:e.event)==null?void 0:jn._def)==null?void 0:Ln.extendedProps)==null?void 0:Hn.confirmationcode),p.append("bookingagent",(Fn=(Vn=(On=e==null?void 0:e.event)==null?void 0:On._def)==null?void 0:Vn.extendedProps)==null?void 0:Fn.bookingagent),p.append("reservationdate",(Gn=(Xn=(Yn=e==null?void 0:e.event)==null?void 0:Yn._def)==null?void 0:Xn.extendedProps)==null?void 0:Gn.reservationdate),p.append("modepayment",(Bn=(qn=(Wn=e==null?void 0:e.event)==null?void 0:Wn._def)==null?void 0:qn.extendedProps)==null?void 0:Bn.modepayment),p.append("checkindate",($n=(Un=(zn=e==null?void 0:e.event)==null?void 0:zn._def)==null?void 0:Un.extendedProps)==null?void 0:$n.checkindate),p.append("checkoutdate",(Qn=(Kn=(Jn=e==null?void 0:e.event)==null?void 0:Jn._def)==null?void 0:Kn.extendedProps)==null?void 0:Qn.checkoutdate),p.append("nonight",(es=(In=(Zn=e==null?void 0:e.event)==null?void 0:Zn._def)==null?void 0:In.extendedProps)==null?void 0:es.nonight),p.append("tourismfee",(ss=(ns=(ts=e==null?void 0:e.event)==null?void 0:ts._def)==null?void 0:ns.extendedProps)==null?void 0:ss.tourismfee),p.append("securitydeposit",(os=(as=(rs=e==null?void 0:e.event)==null?void 0:rs._def)==null?void 0:as.extendedProps)==null?void 0:os.securitydeposit),p.append("totalpayout",(cs=(ls=(is=e==null?void 0:e.event)==null?void 0:is._def)==null?void 0:ls.extendedProps)==null?void 0:cs.totalpayout),(ps=(ds=(hs=e==null?void 0:e.event)==null?void 0:hs._def)==null?void 0:ds.extendedProps)!=null&&ps.hostservicefee&&p.append("hostservicefee",(fs=(us=(gs=e==null?void 0:e.event)==null?void 0:gs._def)==null?void 0:us.extendedProps)==null?void 0:fs.hostservicefee),p.append("totalcollectall",(Ss=(Es=(vs=e==null?void 0:e.event)==null?void 0:vs._def)==null?void 0:Es.extendedProps)==null?void 0:Ss.totalcollectall),p.append("cleaningfee",(Ds=(bs=(ys=e==null?void 0:e.event)==null?void 0:ys._def)==null?void 0:bs.extendedProps)==null?void 0:Ds.cleaningfee),(xs=(ms=(ws=e==null?void 0:e.event)==null?void 0:ws._def)==null?void 0:ms.extendedProps)!=null&&xs.tourismfeetillmonth&&p.append("tourismfeetillmonth",(Ts=(Cs=(Ps=e==null?void 0:e.event)==null?void 0:Ps._def)==null?void 0:Cs.extendedProps)==null?void 0:Ts.tourismfeetillmonth),p.append("tourismfeeacceleratedmonth",(Ms=(Rs=(_s=e==null?void 0:e.event)==null?void 0:_s._def)==null?void 0:Rs.extendedProps)==null?void 0:Ms.tourismfeeacceleratedmonth),p.append("hostmanagementfee",(ks=(As=(Ns=e==null?void 0:e.event)==null?void 0:Ns._def)==null?void 0:As.extendedProps)!=null&&ks.hostmanagementfee?(Hs=(Ls=(js=e==null?void 0:e.event)==null?void 0:js._def)==null?void 0:Ls.extendedProps)==null?void 0:Hs.hostmanagementfee:0),p.append("vatperhostmanagementfee",(Fs=(Vs=(Os=e==null?void 0:e.event)==null?void 0:Os._def)==null?void 0:Vs.extendedProps)==null?void 0:Fs.vatperhostmanagementfee),(Gs=(Xs=(Ys=e==null?void 0:e.event)==null?void 0:Ys._def)==null?void 0:Xs.extendedProps)!=null&&Gs.totaladditionalfee&&p.append("totaladditionalfee",(Bs=(qs=(Ws=e==null?void 0:e.event)==null?void 0:Ws._def)==null?void 0:qs.extendedProps)==null?void 0:Bs.totaladditionalfee),($s=(Us=(zs=e==null?void 0:e.event)==null?void 0:zs._def)==null?void 0:Us.extendedProps)!=null&&$s.totalroomrent&&p.append("totalroomrent",(Qs=(Ks=(Js=e==null?void 0:e.event)==null?void 0:Js._def)==null?void 0:Ks.extendedProps)==null?void 0:Qs.totalroomrent),(er=(Is=(Zs=e==null?void 0:e.event)==null?void 0:Zs._def)==null?void 0:Is.extendedProps)!=null&&er.bookingagent&&p.append("roomrentamount",(sr=(nr=(tr=e==null?void 0:e.event)==null?void 0:tr._def)==null?void 0:nr.extendedProps)==null?void 0:sr.roomrentamount),(or=(ar=(rr=e==null?void 0:e.event)==null?void 0:rr._def)==null?void 0:ar.extendedProps)!=null&&or.guestservicefee&&p.append("guestservicefee",(cr=(lr=(ir=e==null?void 0:e.event)==null?void 0:ir._def)==null?void 0:lr.extendedProps)==null?void 0:cr.guestservicefee),(pr=(dr=(hr=e==null?void 0:e.event)==null?void 0:hr._def)==null?void 0:dr.extendedProps)!=null&&pr.guestmanagementfee&&p.append("guestmanagementfee",(fr=(ur=(gr=e==null?void 0:e.event)==null?void 0:gr._def)==null?void 0:ur.extendedProps)==null?void 0:fr.guestmanagementfee),(Sr=(Er=(vr=e==null?void 0:e.event)==null?void 0:vr._def)==null?void 0:Er.extendedProps)!=null&&Sr.totalguestservices&&p.append("totalguestservices",(Dr=(br=(yr=e==null?void 0:e.event)==null?void 0:yr._def)==null?void 0:br.extendedProps)==null?void 0:Dr.totalguestservices),(xr=(mr=(wr=e==null?void 0:e.event)==null?void 0:wr._def)==null?void 0:mr.extendedProps)!=null&&xr.vatperbookingrent?p.append("vatperbookingrent",(Tr=(Cr=(Pr=e==null?void 0:e.event)==null?void 0:Pr._def)==null?void 0:Cr.extendedProps)==null?void 0:Tr.vatperbookingrent):p.append("vatperbookingrent",0),(Mr=(Rr=(_r=e==null?void 0:e.event)==null?void 0:_r._def)==null?void 0:Rr.extendedProps)!=null&&Mr.vatperservicefee?p.append("vatperservicefee",(kr=(Ar=(Nr=e==null?void 0:e.event)==null?void 0:Nr._def)==null?void 0:Ar.extendedProps)==null?void 0:kr.vatperservicefee):p.append("vatperservicefee",0),(Hr=(Lr=(jr=e==null?void 0:e.event)==null?void 0:jr._def)==null?void 0:Lr.extendedProps)!=null&&Hr.vatpercleaningfee?p.append("vatpercleaningfee",(Fr=(Vr=(Or=e==null?void 0:e.event)==null?void 0:Or._def)==null?void 0:Vr.extendedProps)==null?void 0:Fr.vatpercleaningfee):p.append("vatpercleaningfee",0),(Gr=(Xr=(Yr=e==null?void 0:e.event)==null?void 0:Yr._def)==null?void 0:Xr.extendedProps)!=null&&Gr.vatperguestmanagementfee?p.append("vatperguestmanagementfee",(Br=(qr=(Wr=e==null?void 0:e.event)==null?void 0:Wr._def)==null?void 0:qr.extendedProps)==null?void 0:Br.vatperguestmanagementfee):p.append("vatperguestmanagementfee",0),($r=(Ur=(zr=e==null?void 0:e.event)==null?void 0:zr._def)==null?void 0:Ur.extendedProps)!=null&&$r.totalvatper?p.append("totalvatper",(Qr=(Kr=(Jr=e==null?void 0:e.event)==null?void 0:Jr._def)==null?void 0:Kr.extendedProps)==null?void 0:Qr.totalvatper):p.append("totalvatper",0),p.append("passportpdf",(ea=(Ir=(Zr=e==null?void 0:e.event)==null?void 0:Zr._def)==null?void 0:Ir.extendedProps)==null?void 0:ea.passportpdf),((sa=(na=(ta=e==null?void 0:e.event)==null?void 0:ta._def)==null?void 0:na.extendedProps)==null?void 0:sa.cancelled)===!0?p.append("cancelled",!1):p.append("cancelled",!0),(ia=(oa=(aa=(ra=e==null?void 0:e.event)==null?void 0:ra._def)==null?void 0:aa.extendedProps)==null?void 0:oa.firstdays)!=null&&ia.length){const b=(da=(ha=(ca=(la=e==null?void 0:e.event)==null?void 0:la._def)==null?void 0:ca.extendedProps)==null?void 0:ha.firstdays)==null?void 0:da.map(j=>({month:j.month,nights:j.nights}));p.append("firstdays",JSON.stringify(b))}else p.append("firstdays",[]);if((fa=(ua=(ga=(pa=e==null?void 0:e.event)==null?void 0:pa._def)==null?void 0:ga.extendedProps)==null?void 0:ua.moremonths)!=null&&fa.length){const b=(ya=(Sa=(Ea=(va=e==null?void 0:e.event)==null?void 0:va._def)==null?void 0:Ea.extendedProps)==null?void 0:Sa.moremonths)==null?void 0:ya.map(j=>({month:j.month,nights:j.nights}));p.append("moremonths",JSON.stringify(b))}else p.append("moremonths",[]);n(Qa(p)),setTimeout(()=>{t(),_(!1)},1e3)}catch(p){console.log(p,"error")}};return S("div",{children:S(Go,{title:"View Booking",labelclassName:"btn-outline-dark",activeModal:l,onClose:t,children:P("form",{className:"space-y-4 ",children:[P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Unit number"}),S("p",{className:"  form-control py-2   ",children:(Z=(Q=(K=e==null?void 0:e.event)==null?void 0:K._def)==null?void 0:Q.extendedProps)!=null&&Z.unitnumber?(ee=(ue=(I=e==null?void 0:e.event)==null?void 0:I._def)==null?void 0:ue.extendedProps)==null?void 0:ee.unitnumber:"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Owner Name"}),S("p",{className:"  form-control py-2  capitalize ",children:v||"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Guest Name"}),S("p",{className:"  form-control py-2   capitalize",children:(se=(ne=(te=e==null?void 0:e.event)==null?void 0:te._def)==null?void 0:ne.extendedProps)!=null&&se.guestname?(c=(ae=(re=e==null?void 0:e.event)==null?void 0:re._def)==null?void 0:ae.extendedProps)==null?void 0:c.guestname:"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Check-In Date"}),S("p",{className:"  form-control py-2   ",children:(N=(x=(m=e==null?void 0:e.event)==null?void 0:m._def)==null?void 0:x.extendedProps)!=null&&N.checkindate?new Date((F=(V=(k=e==null?void 0:e.event)==null?void 0:k._def)==null?void 0:V.extendedProps)==null?void 0:F.checkindate).toDateString():"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Check-Out Date"}),S("p",{className:"  form-control py-2   ",children:(_e=(Te=(Y=e==null?void 0:e.event)==null?void 0:Y._def)==null?void 0:Te.extendedProps)!=null&&_e.checkoutdate?new Date((Ne=(Me=(Re=e==null?void 0:e.event)==null?void 0:Re._def)==null?void 0:Me.extendedProps)==null?void 0:Ne.checkoutdate).toDateString():"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"No. of Nights"}),S("p",{className:"  form-control py-2   ",children:(je=(ke=(Ae=e==null?void 0:e.event)==null?void 0:Ae._def)==null?void 0:ke.extendedProps)!=null&&je.nonight?(Oe=(He=(Le=e==null?void 0:e.event)==null?void 0:Le._def)==null?void 0:He.extendedProps)==null?void 0:Oe.nonight:"Not Available"})]}),P("div",{children:[S("label",{htmlFor:"default-picker",className:" form-label",children:"Room Rent Amount"}),S("p",{className:"  form-control py-2   ",children:(Ye=(Fe=(Ve=e==null?void 0:e.event)==null?void 0:Ve._def)==null?void 0:Fe.extendedProps)!=null&&Ye.roomrentamount?(We=(Ge=(Xe=e==null?void 0:e.event)==null?void 0:Xe._def)==null?void 0:Ge.extendedProps)==null?void 0:We.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"Not Available"})]}),P("div",{className:" flex justify-end ",children:[P("div",{className:"relative mr-[20px]",children:[((ze=(Be=(qe=e==null?void 0:e.event)==null?void 0:qe._def)==null?void 0:Be.extendedProps)==null?void 0:ze.cancelled)===!0?S("div",{className:`${T===!0?"opacity-[0.7]":""}`,children:S("button",{type:"button",className:"btn btn-success  text-center  bg-lime-700",onClick:R,children:"Approve"})}):S("div",{className:`${T===!0?"opacity-[0.7]":""}`,children:S("button",{type:"button",className:"btn btn-danger  text-center  bg-red-700",onClick:R,children:"Cancel Booking"})}),T===!0?S("div",{className:" absolute top-[0] right-[0] w-[100%] black-bg flex justify-center h-[100%] button-style items-center ",children:S("div",{className:"loader-spiner"})}):null]}),T===!0?S("div",{className:"btn btn-dark  text-center cursor-not-allowed opacity-[0.7] select-none",children:"Edit"}):S(Ja,{to:`/update-booking/${(Je=($e=(Ue=e==null?void 0:e.event)==null?void 0:Ue._def)==null?void 0:$e.extendedProps)==null?void 0:Je._id}`,className:"btn btn-dark  text-center",children:"Edit"})]})]})})})},Ni=()=>{_a(c=>c.calendar);const[l,t]=w.exports.useState(!1),[e,n]=w.exports.useState(null),[s,o]=w.exports.useState(null),[r,a]=w.exports.useState(!1),[i,h]=w.exports.useState([]),[g,u]=w.exports.useState([]),[f,v]=w.exports.useState([]),[D,d]=w.exports.useState([]),[E,T]=w.exports.useState([]),[_,R]=w.exports.useState("");w.exports.useEffect(()=>{if(i){const c=[...new Map(f.map(m=>[m.propertyid,m])).values()];T(c),d(c)}},[i]),w.exports.useEffect(()=>{(async()=>{const x=await(await fetch("http://portals.rarehomesgroup.com/booking")).json();return h(x),v(x),u(x)})()},[]);const[A,L]=w.exports.useState(""),J=c=>{var x;const m=(x=c.target.value)==null?void 0:x.toLowerCase();if(L(m),m==="")T(D);else{const N=E.filter(k=>{var V,F,Y;return((V=k.unitnumber)==null?void 0:V.toLowerCase().includes(m))||((F=k.project_name)==null?void 0:F.toLowerCase().includes(m))||((Y=k.community_name)==null?void 0:Y.toLowerCase().includes(m))});T(N)}},K=c=>{_===c?(R(""),h(g)):(R(c),(async()=>{const N=await(await fetch(`http://portals.rarehomesgroup.com/booking/api/property/${c}`)).json();return h(N)})())},Q=[{label:"Approved",value:"Approved",activeClass:"ring-primary-500 bg-primary-500"},{label:"Cancelled",value:"Cancelled",activeClass:"ring-danger-500 bg-danger-500"}],Z=i.map(c=>{const m=c.unitnumber,x=c.checkindate;let N;(c==null?void 0:c.cancelled)===!0?N="Cancelled":N="Approved";const k=c.checkoutdate;return{...c,title:m,date:x,calendar:N,end:k}}),[I,ue]=w.exports.useState(Q.map(c=>c.value)),ee=()=>{_?(a(!1),(async()=>{const x=await(await fetch(`http://portals.rarehomesgroup.com/booking/api/property/${_}`)).json();return h(x)})()):(a(!1),(async()=>{const x=await(await fetch("http://portals.rarehomesgroup.com/booking")).json();return h(x)})())},te=c=>{t(!0),n(c)},ne=c=>{a(!0),o(c)},se=c=>c.event.extendedProps.calendar==="Cancelled"?"danger":c.event.extendedProps.bookingagent==="Airbnb"?"airbnb-color":c.event.extendedProps.bookingagent==="Booking.com"||c.event.extendedProps.bookingagent==="booking.com"?"booking-color":"primary",re=Z.filter(c=>I.includes(c.calendar)),ae=c=>S("div",{className:"text-center w-[100%]",children:c.event.title});return P("div",{className:"dashcode-calender",children:[S("h4",{className:"font-medium lg:text-2xl text-xl capitalize text-slate-900 inline-block ltr:pr-4 rtl:pl-4 mb-6",children:"Calendar"}),P("div",{className:"grid grid-cols-12 gap-4",children:[P(Da,{className:"lg:col-span-3 col-span-12",children:[P("div",{className:"block py-4 text-slate-800 dark:text-slate-400 font-semibold text-xs uppercase mt-4 text-[20px]",children:[E==null?void 0:E.length," listings"]}),S("div",{className:"mt-[15px]",children:S("input",{type:"text",placeholder:"search...",min:"0",className:"form-control py-2 ",value:A,onChange:J})}),S("div",{className:"overflow-y-auto mt-[20px] max-h-[1000px] testscrool",children:E==null?void 0:E.map((c,m)=>P("div",{className:`"w-[100%] border-2 border-b-slate-400 border-l-transparent border-r-transparent border-t-transparent py-[5px] cursor-pointer hover:bg-black-200 pl-[5px]" ${_===(c==null?void 0:c.propertyid)?"bg-black-200":""}`,onClick:()=>K(c.propertyid),children:[S("div",{className:"font-semibold",children:((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).slice(0,40)+((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).length>40?"...":(c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)}),S("div",{className:"text-[15px]",children:((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)).slice(0,45)+((c==null?void 0:c.unitnumber)+" | "+(c==null?void 0:c.project_name)+" | "+(c==null?void 0:c.community_name)>45?"...":"")})]},m))})]}),S(Da,{className:"lg:col-span-9 col-span-12",children:S(Yo,{plugins:[Wo,Xo,di,Pi],headerToolbar:{left:"prev,next today",center:"title",right:""},events:re,eventContent:ae,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:4,weekends:!0,dateClick:te,eventClick:ne,eventClassNames:se,initialView:"dayGridMonth"})})]}),S(Ti,{editModal:r,onCloseEditModal:ee,editItem:s})]})};export{Ni as default};
