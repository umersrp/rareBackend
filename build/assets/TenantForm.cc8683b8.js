import{bT as on,y as an,ac as dn,r as c,A as cn,cy as rn,cv as mn,cA as pn,cB as sn,t as un,v as I,w as fn,j as n,F as A,q as Nn,C as vn,am as Ne,ag as bn,ak as B,T as O,cb as ve,ca as D,ay as pe,L as hn,x as yn,E as ri,cc as w,c6 as be,cd as he,Q as se}from"./index.baa22cf8.js";var t="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\tenant-contract\\TenantForm.jsx";const ye={option:(j,te)=>({...j,fontSize:"14px"})},Tn=()=>{const{id:j}=on(),te=an(),le=dn(),[e,b]=c.exports.useState(""),[ge,xe]=c.exports.useState(""),[_e,qe]=c.exports.useState(""),[ke,Ce]=c.exports.useState(""),[Se,we]=c.exports.useState(""),[gn,mi]=c.exports.useState(""),P=a=>{const{name:o,value:l}=a.target;b({...e,[o]:l})},oe=new URLSearchParams(window.location.search),ae=oe.get("propertyid"),L=oe.get("renew"),R=oe.get("customerid"),de=oe.get("contractenddate");c.exports.useEffect(()=>{ae!=null&&b(a=>({...a,propertyid:ae}))},[ae]),c.exports.useEffect(()=>{L!=null&&b(a=>({...a,contractupdation:L}))},[L]),c.exports.useEffect(()=>{R!=null&&(b(o=>({...o,customerid:R,customertype:"Existing Tenant"})),(async()=>{if(R){const l=await(await fetch(`http://stg.srp.ai/users/${R}`)).json();l&&(Ve(l),b({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),re((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})())},[R]),c.exports.useEffect(()=>{if(de!=null){const a=new Date(de);a.setDate(a.getDate()+1);const o=a.toISOString();b(l=>({...l,contractstartdate:o}))}},[de]);const J=cn(),{data:ce}=rn(),{data:f,isSuccess:Fe}=mn(j),[Ae,xn]=c.exports.useState(!1),[Pe,je]=c.exports.useState(""),[pi,Te]=c.exports.useState(""),[si,ze]=c.exports.useState(""),[Ee,Oe]=c.exports.useState("");c.exports.useEffect(()=>{var a,o,l,p,N,v,_,S,k,x,m,d;j&&f&&Fe&&(b(f==null?void 0:f.tenantContract),je(((a=f==null?void 0:f.tenantContract)==null?void 0:a.ejari_certificate_doc)&&((o=f==null?void 0:f.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(l=f==null?void 0:f.tenantContract)==null?void 0:l.ejari_certificate_doc:""),Te(((p=f==null?void 0:f.tenantContract)==null?void 0:p.tenancy_contract_doc)&&((N=f==null?void 0:f.tenantContract)==null?void 0:N.tenancy_contract_doc)!==void 0?(v=f==null?void 0:f.tenantContract)==null?void 0:v.tenancy_contract_doc:""),ze(((_=f==null?void 0:f.tenantContract)==null?void 0:_.addendum_doc)&&((S=f==null?void 0:f.tenantContract)==null?void 0:S.addendum_doc)!==void 0?(k=f==null?void 0:f.tenantContract)==null?void 0:k.addendum_doc:""),Oe(((x=f==null?void 0:f.tenantContract)==null?void 0:x.key_receipt_doc)&&((m=f==null?void 0:f.tenantContract)==null?void 0:m.key_receipt_doc)!==void 0?(d=f==null?void 0:f.tenantContract)==null?void 0:d.key_receipt_doc:""))},[j,f,Fe]);const[Ge]=pn(),[ui]=sn(),[$e,fi]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://stg.srp.ai/property").then(a=>a.json()).then(a=>{const o=a==null?void 0:a.map(l=>({label:l.unitnumber+" | "+l.communityname+" | "+l.projectname+" | "+l.buildingname,value:l._id}));fi(o)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const l=await(await fetch(`http://stg.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();l&&b({...e,unitnumber:l==null?void 0:l.unitnumber,buildingname:l==null?void 0:l.building_name,projectname:l==null?void 0:l.project_name,communityname:l==null?void 0:l.community_name})}})()},[e==null?void 0:e.propertyid]);const[G,Ni]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://stg.srp.ai/users/api/customers").then(o=>o.json()).then(o=>{var p;const l=(p=o==null?void 0:o.users)==null?void 0:p.map(N=>({label:N.firstname+" "+N.lastname+" | "+N.email+" | "+N.passportidno+" | "+N.whatsappno,value:N._id}));Ni(l)})})()},[]);const[Ue,re]=c.exports.useState(""),[i,Ve]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const l=await(await fetch(`http://stg.srp.ai/users/${e==null?void 0:e.customerid}`)).json();l&&(Ve(l),b({...e,guestname:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),passportnumber:l==null?void 0:l.passportidno,email:l==null?void 0:l.email,nationality:l==null?void 0:l.passportno,mobilenumber:l==null?void 0:l.whatsappno,passportpdf:(l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""}),re((l==null?void 0:l.passportpdf)&&(l==null?void 0:l.passportpdf)!==void 0?l==null?void 0:l.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Be,vi]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const l=await(await fetch("http://stg.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return vi(l==null?void 0:l.users)})()},[]);const[_n,bi]=c.exports.useState(e==null?void 0:e.customertype),hi=a=>{bi(a.target.value),b({...e,customertype:a.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),re("")},yi=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const o=ve.getAllCountries();let l=[];l=o==null?void 0:o.map(({isoCode:p,name:N})=>({isoCode:p,name:N}))}catch(o){console.log(o)}})()},[]);const[M,gi]=c.exports.useState(null),Le=a=>{gi(a.target.files[0]),b({...e,passportpdf:a.target.files[0]})},xi=()=>{b({...e,passportpdf:""}),re("")},[ee,Re]=c.exports.useState(null),_i=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Re(o),b({...e,ejari_certificate_doc:o}),xe("")):(Re(null),b({...e,ejari_certificate_doc:null}),xe("File size exceeds 10MB limit!"))},qi=()=>{b({...e,ejari_certificate_doc:""}),je("")},[H,Je]=c.exports.useState(null),ki=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Je(o),b({...e,tenancy_contract_doc:o}),qe("")):(Je(null),b({...e,tenancy_contract_doc:null}),qe("File size exceeds 10MB limit!"))},Ci=()=>{b({...e,tenancy_contract_doc:""}),Te("")},[Q,Me]=c.exports.useState(null),Si=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(Me(o),b({...e,addendum_doc:o}),Ce("")):(Me(null),b({...e,addendum_doc:null}),Ce("File size exceeds 10MB limit!"))},wi=()=>{b({...e,addendum_doc:""}),ze("")},[ie,He]=c.exports.useState(null),Fi=a=>{const o=a.target.files[0],l=10*1024*1024;o&&o.size<=l?(He(o),b({...e,key_receipt_doc:o}),we("")):(He(null),b({...e,key_receipt_doc:null}),we("File size exceeds 10MB limit!"))},Ai=()=>{b({...e,key_receipt_doc:""}),Oe("")};c.exports.useState(null);const[F,Qe]=c.exports.useState("");c.exports.useEffect(()=>{if(j&&(e==null?void 0:e.chequeDetails)&&le.pathname===`/update-tenantcontract/${j}`){const a=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Qe(a)}},[j,e==null?void 0:e.chequeDetails]);const Pi=a=>{Qe(o=>{const l=[...o];return l[a]={...l[a],chequeimage:""},l}),b(o=>{const l={...o},p=[...l.chequeDetails];return p[a]={...p[a],chequeimage:""},l.chequeDetails=p,l})},[C,Ke]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Ke(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Ke(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[Ye,ji]=c.exports.useState([]),Ti=(a,o)=>{let l=[];a.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,chequenumbe:a.target.value,chequedate:(p==null?void 0:p.chequedate)||"",totalamount:(p==null?void 0:p.totalamount)||""};const N={...e,chequeDetails:l};b(N)},zi=(a,o)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,chequedate:a[0]||""};const N={...e,chequeDetails:l};b(N)},Ei=(a,o)=>{let l=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(l=[...e.chequeDetails]);const p=l[o]||{};l[o]={...p,totalamount:a.target.value,chequenumbe:(p==null?void 0:p.chequenumbe)||"",chequedate:(p==null?void 0:p.chequedate)||"",chequeimage:(p==null?void 0:p.chequeimage)||""};const N={...e,chequeDetails:l};b(N)},Oi=(a,o)=>{const l=[...Ye],p=a.target.files[0];l[o]=p,ji(l);let N=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(N=[...e.chequeDetails]);const v=N[o]||{};N[o]={...v,totalamount:(v==null?void 0:v.totalamount)||"",chequenumbe:(v==null?void 0:v.chequenumbe)||"",chequedate:(v==null?void 0:v.chequedate)||"",chequeimage:p||""};const _={...e,chequeDetails:N};b(_)},[We,$]=c.exports.useState(""),[Gi,qn]=c.exports.useState(""),[Xe,$i]=c.exports.useState(""),[me,K]=c.exports.useState(""),[Ze,Ui]=c.exports.useState(""),[Ie,kn]=c.exports.useState(""),[De,Cn]=c.exports.useState(""),[Vi,Sn]=c.exports.useState(""),[Bi,Y]=c.exports.useState(""),[Li,W]=c.exports.useState("");c.exports.useState("");const[Ri,ei]=c.exports.useState(Array(C).fill("")),[Ji,ii]=c.exports.useState(Array(C).fill("")),[Mi,ni]=c.exports.useState(Array(C).fill("")),[Hi,ti]=c.exports.useState(Array(C).fill("")),[Qi,wn]=c.exports.useState(""),[Ki,Fn]=c.exports.useState(""),[Yi,An]=c.exports.useState("");c.exports.useState("");const[li,ue]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&le.pathname==="/add-tenantcontract"?Be.find(o=>o.email===e.email)?(K("Email is already in use. Please check existing tenants."),ue(!0)):(K(""),ue(!1)):e.customertype==="Existing Tenant"&&(K(""),ue(!1))},[e.customertype,e.email,Be]);let Wi={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no of cheque or installment",commission:"commission"};const Xi=un({propertyid:I().required(We),customertype:I().required(Xe),email:I().email(me).required(me),guestname:I().required(Ze),mobilenumber:I().required(Ie),nationality:I().required(De)}).required(),{register:z,formState:{errors:Pn}}=fn({resolver:yn(Xi)}),oi=()=>{let a=!1,o={propertyid:$,customertype:$i,email:K,guestname:Ui};return o&&Object.keys(o).length&&Object.keys(o).map(l=>{o[l](""),e[l]||(o[l](Wi[l]+" is required"),a=!0)}),a},[X,ne]=c.exports.useState(!1),Zi=localStorage.getItem("isAuth"),E=JSON.parse(Zi),[Ii,Z]=c.exports.useState(!1);c.exports.useEffect(()=>{const a=o=>{const{_id:l,propertyid:p,contractstartdate:N,contractenddate:v}=o,{contractstartdate:_,contractenddate:S,propertyid:k}=e;return l!==(e==null?void 0:e._id)&&N&&v&&new Date(N).toISOString()<new Date(S).toISOString()&&new Date(v).toISOString()>new Date(_).toISOString()&&p===k?(Z(!0),$("Property is already Listed"),Y("Property is already Listed"),W("Property is already Listed"),!0):(Z(!1),$(""),Y(""),W(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let o=0;o<(ce==null?void 0:ce.length);o++){const l=ce[o];if(a(l)){Z(!0),$("Property is already Listed"),Y("Property is already Listed"),W("Property is already Listed");break}else{Z(!1),$(""),Y(""),W("");break}}else Z(!1),$(""),Y(""),W("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Di=async()=>{var a,o,l,p,N,v,_,S;if(ei(Array(C).fill("")),ii(Array(C).fill("")),ni(Array(C).fill("")),ti(Array(C).fill("")),!e.propertyid||!e.guestname||!e.email)oi();else if(!(e!=null&&e.customerid)&&!ri.isEmail(e.email))K("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&Ae===!1&&li===!1&&Ii===!1){ne(!0);let k;try{let x=[];M&&x.push(w(M,"Passport")),ee&&x.push(w(ee,"ejari_certificate_doc")),H&&x.push(w(H,"tenancy_contract_doc")),Q&&x.push(w(Q,"addendum_doc")),ie&&x.push(w(ie,"key_receipt_doc"));let m=await Promise.all(x);if(m.length){let d=[];for(let h=0;h<m.length;h++){let g=m[h].data.files;d.push(g)}let r=[];for(let h of d)for(let g of h){let fe=g;r.push(fe)}let y="",q="",U="",V="",T="";for(let h of r)h.includes("Passport")?y=h:h.includes("ejari_certificate_doc")?q=h:h.includes("tenancy_contract_doc")?U=h:h.includes("addendum_doc")?V=h:h.includes("key_receipt_doc")&&(T=h);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",h[0]),s.append("lastname",h[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),s.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),s.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),s.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),s.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),s.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),s.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),s.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),s.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),s.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),s.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),s.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),s.append("altemail",i.altemail===void 0?"":i.altemail),s.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),s.append("password",i.password===void 0?"":i.password),s.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),s.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),s.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),s.append("type","tenant"),i!=null&&i.employeeid&&s.append("employeeid",i==null?void 0:i.employeeid),y?s.append("passportpdf",y):s.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i.passportpdf),J(be(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let h=e==null?void 0:e.guestname.split(" ");s.append("firstname",h[0]),s.append("lastname",h[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("type","tenant"),y&&s.append("passportpdf",y),J(he(s))}const u=new FormData;if(u.append("propertyid",e==null?void 0:e.propertyid),u.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&u.append("customerid",e==null?void 0:e.customerid),u.append("guestname",e==null?void 0:e.guestname),u.append("passportnumber",e==null?void 0:e.passportnumber),u.append("email",e==null?void 0:e.email),u.append("nationality",e==null?void 0:e.nationality),u.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),u.append("createdBy",E==null?void 0:E._id),L&&u.append("contractupdation",e==null?void 0:e.contractupdation),y&&u.append("passportpdf",y),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?u.append("contractstartdate",e==null?void 0:e.contractstartdate):u.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?u.append("contractenddate",e==null?void 0:e.contractenddate):u.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?u.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):u.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?u.append("contractvalue",e==null?void 0:e.contractvalue):u.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?u.append("rentalamount",e==null?void 0:e.rentalamount):u.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?u.append("securitydepositamount",e==null?void 0:e.securitydepositamount):u.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?u.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):u.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?u.append("commission",e==null?void 0:e.commission):u.append("commission",""),q?u.append("ejari_certificate_doc",q):u.append("ejari_certificate_doc",""),U?u.append("tenancy_contract_doc",U):u.append("tenancy_contract_doc",""),V?u.append("addendum_doc",V):u.append("addendum_doc",""),T?u.append("key_receipt_doc",T):u.append("key_receipt_doc",""),(e==null?void 0:e.chequeDetails)!==void 0){const h=[];for(const g of e.chequeDetails){const fe=(a=g==null?void 0:g.chequenumbe)!=null?a:"",nn=(o=g==null?void 0:g.chequedate)!=null?o:"",tn=(l=g==null?void 0:g.totalamount)!=null?l:"",ai=(p=g==null?void 0:g.chequeimage)!=null?p:"";let di;if(ai)try{di=(await w(ai,"chequeimage")).data.files[0]}catch(ci){console.log(ci,"in cheque image")}const ln={chequenumbe:fe,chequedate:nn,totalamount:tn,chequeimage:di||""};h.push(ln)}u.append("chequeDetails",JSON.stringify(h))}else u.append("chequeDetails",[]);await Ge(u),se.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{te("/all-tenantcontract")},1200)}else{const d=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let y=e==null?void 0:e.guestname.split(" ");d.append("_id",e==null?void 0:e.customerid),d.append("firstname",y[0]),d.append("lastname",y[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("contactno",i.contactno===void 0||i.contactno===null?"":i.contactno),d.append("datebirth",i.datebirth===void 0||i.datebirth===null?"":i.datebirth),d.append("countryofresidence",i.countryofresidence===void 0||i.countryofresidence===null?"":i.countryofresidence),d.append("memberid",i.memberid===void 0||i.memberid===null?"":i.memberid),d.append("nameonpassport",i.nameonpassport===void 0||i.nameonpassport===null?"":i.nameonpassport),d.append("nationalidexpiry",i.nationalidexpiry===void 0||i.nationalidexpiry===null?"":i.nationalidexpiry),d.append("nationalidissuedate",i.nationalidissuedate===void 0||i.nationalidissuedate===null?"":i.nationalidissuedate),d.append("nationalidno",i.nationalidno===void 0||i.nationalidno===null?"":i.nationalidno),d.append("passportexpiry",i.passportexpiry===void 0||i.passportexpiry===null?"":i.passportexpiry),d.append("passportissue",i.passportissue===void 0||i.passportissue===null?"":i.passportissue),d.append("postaladdress",i.postaladdress===void 0||i.postaladdress===null?"":i.postaladdress),d.append("primaryno",i.primaryno===void 0||i.primaryno===null?"":i.primaryno),d.append("altemail",i.altemail===void 0?"":i.altemail),d.append("altmobilenumber",i.altmobilenumber===void 0?"":i.altmobilenumber),d.append("password",i.password===void 0?"":i.password),d.append("confirmpass",i.confirmpass===void 0?"":i.confirmpass),d.append("residentstatus",i.residentstatus===void 0?"":i.residentstatus),d.append("nationalidpdf",i.nationalidpdf===void 0?"":i.nationalidpdf),d.append("passportpdf",i==null?void 0:i.passportpdf),d.append("type","tenant"),i!=null&&i.employeeid&&d.append("employeeid",i==null?void 0:i.employeeid),J(be(d))}else if((e==null?void 0:e.customertype)==="New Tenant"){let y=e==null?void 0:e.guestname.split(" ");d.append("firstname",y[0]),d.append("lastname",y[1]),d.append("email",e==null?void 0:e.email),d.append("whatsappno",e==null?void 0:e.mobilenumber),d.append("passportno",e==null?void 0:e.nationality),d.append("passportidno",e==null?void 0:e.passportnumber),d.append("type","tenant"),d.append("passportpdf",e==null?void 0:e.passportpdf),J(he(d))}const r=new FormData;if(r.append("propertyid",e==null?void 0:e.propertyid),r.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&r.append("customerid",e==null?void 0:e.customerid),r.append("guestname",e==null?void 0:e.guestname),r.append("passportnumber",e==null?void 0:e.passportnumber),r.append("email",e==null?void 0:e.email),r.append("nationality",e==null?void 0:e.nationality),r.append("mobilenumber",e==null?void 0:e.mobilenumber),r.append("createdBy",E==null?void 0:E._id),r.append("passportpdf",""),L&&r.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?r.append("contractstartdate",e==null?void 0:e.contractstartdate):r.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?r.append("contractenddate",e==null?void 0:e.contractenddate):r.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?r.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):r.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?r.append("contractvalue",e==null?void 0:e.contractvalue):r.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?r.append("rentalamount",e==null?void 0:e.rentalamount):r.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?r.append("securitydepositamount",e==null?void 0:e.securitydepositamount):r.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?r.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):r.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?r.append("commission",e==null?void 0:e.commission):r.append("commission",""),r.append("ejari_certificate_doc",""),r.append("tenancy_contract_doc",""),r.append("addendum_doc",""),r.append("key_receipt_doc",""),e!=null&&e.chequeDetails){const y=[];for(const q of e.chequeDetails){const U=(N=q==null?void 0:q.chequenumbe)!=null?N:"",V=(v=q==null?void 0:q.chequedate)!=null?v:"",T=(_=q==null?void 0:q.totalamount)!=null?_:"",s=(S=q==null?void 0:q.chequeimage)!=null?S:"";let u;if(s)try{u=(await w(s,"chequeimage")).data.files[0]}catch(g){console.log(g,"in cheque image")}const h={chequenumbe:U,chequedate:V,totalamount:T,chequeimage:u||""};y.push(h)}r.append("chequeDetails",JSON.stringify(y))}else r.append("chequeDetails",[]);if(k=await Ge(r),k.data.status===!0)return se.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{te("/all-tenantcontract")},1200);ne(!0)}}catch(x){console.log(x,"error"),se.error(`${k.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),ne(!1)}}},en=async a=>{var o,l,p,N;if(a.preventDefault(),ei(Array(C).fill("")),ii(Array(C).fill("")),ni(Array(C).fill("")),ti(Array(C).fill("")),!e.propertyid||!e.guestname||!e.email)oi();else if(!(e!=null&&e.customerid)&&!ri.isEmail(e.email))K("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&Ae===!1&&li===!1){ne(!0);try{let v=e==null?void 0:e.passportpdf,_=e==null?void 0:e.ejari_certificate_doc,S=e==null?void 0:e.tenancy_contract_doc,k=e==null?void 0:e.addendum_doc,x=e==null?void 0:e.key_receipt_doc;M!==null&&(v=await w(M,"Passport"),v=v.data.files[0]),ee!==null&&(_=await w(ee,"ejari_certificate_doc"),_=_.data.files[0]),H!==null&&(S=await w(H,"tenancy_contract_doc"),S=S.data.files[0]),Q!==null&&(k=await w(Q,"addendum_doc"),k=k.data.files[0]),ie!==null&&(x=await w(ie,"key_receipt_doc"),x=x.data.files[0]);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let r=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",r[0]),m.append("lastname",r[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",(i==null?void 0:i.contactno)===void 0||(i==null?void 0:i.contactno)===null?"":i==null?void 0:i.contactno),m.append("datebirth",(i==null?void 0:i.datebirth)===void 0||(i==null?void 0:i.datebirth)===null?"":i==null?void 0:i.datebirth),m.append("countryofresidence",(i==null?void 0:i.countryofresidence)===void 0||(i==null?void 0:i.countryofresidence)===null?"":i==null?void 0:i.countryofresidence),m.append("memberid",(i==null?void 0:i.memberid)===void 0||(i==null?void 0:i.memberid)===null?"":i==null?void 0:i.memberid),m.append("nameonpassport",(i==null?void 0:i.nameonpassport)===void 0||(i==null?void 0:i.nameonpassport)===null?"":i==null?void 0:i.nameonpassport),m.append("nationalidexpiry",(i==null?void 0:i.nationalidexpiry)===void 0||(i==null?void 0:i.nationalidexpiry)===null?"":i==null?void 0:i.nationalidexpiry),m.append("nationalidissuedate",(i==null?void 0:i.nationalidissuedate)===void 0||(i==null?void 0:i.nationalidissuedate)===null?"":i==null?void 0:i.nationalidissuedate),m.append("nationalidno",(i==null?void 0:i.nationalidno)===void 0||(i==null?void 0:i.nationalidno)===null?"":i==null?void 0:i.nationalidno),m.append("passportexpiry",(i==null?void 0:i.passportexpiry)===void 0||(i==null?void 0:i.passportexpiry)===null?"":i==null?void 0:i.passportexpiry),m.append("passportissue",(i==null?void 0:i.passportissue)===void 0||(i==null?void 0:i.passportissue)===null?"":i==null?void 0:i.passportissue),m.append("postaladdress",(i==null?void 0:i.postaladdress)===void 0||(i==null?void 0:i.postaladdress)===null?"":i==null?void 0:i.postaladdress),m.append("primaryno",(i==null?void 0:i.primaryno)===void 0||(i==null?void 0:i.primaryno)===null?"":i==null?void 0:i.primaryno),m.append("altemail",(i==null?void 0:i.altemail)===void 0?"":i==null?void 0:i.altemail),m.append("altmobilenumber",(i==null?void 0:i.altmobilenumber)===void 0?"":i==null?void 0:i.altmobilenumber),m.append("password",(i==null?void 0:i.password)===void 0?"":i==null?void 0:i.password),m.append("confirmpass",(i==null?void 0:i.confirmpass)===void 0?"":i==null?void 0:i.confirmpass),m.append("residentstatus",(i==null?void 0:i.residentstatus)===void 0?"":i==null?void 0:i.residentstatus),m.append("nationalidpdf",(i==null?void 0:i.nationalidpdf)===void 0?"":i==null?void 0:i.nationalidpdf),m.append("type","tenant"),i!=null&&i.employeeid&&m.append("employeeid",i==null?void 0:i.employeeid),v?m.append("passportpdf",v):m.append("passportpdf",(i==null?void 0:i.passportpdf)===void 0?"":i==null?void 0:i.passportpdf),J(be(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let r=e==null?void 0:e.guestname.split(" ");m.append("firstname",r[0]),m.append("lastname",r[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),v&&m.append("passportpdf",v),m.append("type","tenant"),J(he(m))}const d=new FormData;if(d.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&d.append("customerid",e==null?void 0:e.customerid),d.append("_id",e==null?void 0:e._id),d.append("propertyid",e==null?void 0:e.propertyid),d.append("guestname",e==null?void 0:e.guestname),d.append("passportnumber",e==null?void 0:e.passportnumber),d.append("email",e==null?void 0:e.email),d.append("nationality",e==null?void 0:e.nationality),d.append("mobilenumber",e==null?void 0:e.mobilenumber),d.append("updatedBy",E==null?void 0:E._id),e!=null&&e.contractupdation&&d.append("contractupdation",e==null?void 0:e.contractupdation),v&&d.append("passportpdf",v),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?d.append("contractstartdate",e==null?void 0:e.contractstartdate):d.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?d.append("contractenddate",e==null?void 0:e.contractenddate):d.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?d.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):d.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?d.append("contractvalue",e==null?void 0:e.contractvalue):d.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?d.append("rentalamount",e==null?void 0:e.rentalamount):d.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?d.append("securitydepositamount",e==null?void 0:e.securitydepositamount):d.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?d.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):d.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?d.append("commission",e==null?void 0:e.commission):d.append("commission",""),_&&d.append("ejari_certificate_doc",_),S&&d.append("tenancy_contract_doc",S),k&&d.append("addendum_doc",k),x&&d.append("key_receipt_doc",x),e!=null&&e.chequeDetails){const r=[];for(const y of e.chequeDetails){const q=(o=y==null?void 0:y.chequenumbe)!=null?o:"",U=(l=y==null?void 0:y.chequedate)!=null?l:"",V=(p=y==null?void 0:y.totalamount)!=null?p:"",T=(N=y==null?void 0:y.chequeimage)!=null?N:"";let s;if(T)if(typeof T!="string")try{s=(await w(T,"chequeimage")).data.files[0]}catch(h){console.log(h,"in cheque image")}else s=T;const u={chequenumbe:q,chequedate:U,totalamount:V,chequeimage:s||""};r.push(u)}d.append("chequeDetails",JSON.stringify(r))}else d.append("chequeDetails",[]);await ui(d),se.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{te("/all-tenantcontract")},1200)}catch(v){console.log(v,"error"),ne(!1)}}};return n(A,{children:[n(Nn,{},void 0,!1,{fileName:t,lineNumber:1622,columnNumber:13},void 0),n(vn,{title:"tenant contract Form",children:n("div",{children:n("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"},void 0,!1,{fileName:t,lineNumber:1627,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1626,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"},void 0,!1,{fileName:t,lineNumber:1632,columnNumber:29},void 0),n(Ne,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:$e,value:$e.filter(function(a){return a.value===(e==null?void 0:e.propertyid)}),onChange:a=>{b({...e,propertyid:a==null?void 0:a.value})},styles:ye,id:"hh",placeholder:"Select and Search property"},void 0,!1,{fileName:t,lineNumber:1635,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:We},void 0,!1,{fileName:t,lineNumber:1650,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1631,columnNumber:25},void 0),n(A,{children:e!=null&&e.propertyid?n(A,{children:n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Unit number"},void 0,!1,{fileName:t,lineNumber:1662,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1664,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1665,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1663,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1661,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Community Name"},void 0,!1,{fileName:t,lineNumber:1669,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1671,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1672,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1670,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1668,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Project Name"},void 0,!1,{fileName:t,lineNumber:1676,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1678,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1679,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1677,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1675,columnNumber:49},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Building Name"},void 0,!1,{fileName:t,lineNumber:1683,columnNumber:53},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1685,columnNumber:57},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1686,columnNumber:57},void 0)]},void 0,!0,{fileName:t,lineNumber:1684,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1682,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1660,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:1659,columnNumber:41},void 0)},void 0,!1):null},void 0,!1),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1695,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1694,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"},void 0,!1,{fileName:t,lineNumber:1698,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1697,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:yi.map(a=>n(bn,{label:a.label,name:"color",value:a.value,checked:(e==null?void 0:e.customertype)===a.value,onChange:hi},void 0,!1,{fileName:t,lineNumber:1705,columnNumber:37},void 0))},void 0,!1,{fileName:t,lineNumber:1703,columnNumber:29},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Xe},void 0,!1,{fileName:t,lineNumber:1714,columnNumber:29},void 0),n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?n(A,{children:[n("div",{className:"w-[100%] col-span-3",children:[n("div",{children:G!=null&&G.length?n(A,{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"},void 0,!1,{fileName:t,lineNumber:1726,columnNumber:65},void 0),n(Ne,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:G,value:G==null?void 0:G.filter(function(a){return a.value===(e==null?void 0:e.customerid)}),onChange:a=>{b({...e,customerid:a==null?void 0:a.value})},styles:ye,id:"hh"},void 0,!1,{fileName:t,lineNumber:1729,columnNumber:65},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me&&"Customer details are required"},void 0,!1,{fileName:t,lineNumber:1743,columnNumber:65},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1722,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gi},void 0,!1,{fileName:t,lineNumber:1749,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:1721,columnNumber:45},void 0),n(A,{children:e!=null&&e.customerid?n(A,{children:[n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Tenant Name"},void 0,!1,{fileName:t,lineNumber:1756,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"},void 0,!1,{fileName:t,lineNumber:1758,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1759,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1757,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1755,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Email"},void 0,!1,{fileName:t,lineNumber:1763,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"},void 0,!1,{fileName:t,lineNumber:1765,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1766,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1764,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1762,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Mobile Number"},void 0,!1,{fileName:t,lineNumber:1770,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1772,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1773,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1771,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1769,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport no"},void 0,!1,{fileName:t,lineNumber:1777,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"},void 0,!1,{fileName:t,lineNumber:1779,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1780,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1778,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1776,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1784,columnNumber:65},void 0),n("div",{className:"relative ",children:[n("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"},void 0,!1,{fileName:t,lineNumber:1786,columnNumber:69},void 0),n("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:t,lineNumber:1787,columnNumber:69},void 0)]},void 0,!0,{fileName:t,lineNumber:1785,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1783,columnNumber:61},void 0),n("div",{className:"fromGroup       ",children:[n("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1791,columnNumber:65},void 0),Ue!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1799,columnNumber:77},void 0)},void 0,!1,{fileName:t,lineNumber:1798,columnNumber:73},void 0):n(B,{name:"basic",selectedFile:M,onChange:Le},void 0,!1,{fileName:t,lineNumber:1802,columnNumber:73},void 0)]},void 0,!0,{fileName:t,lineNumber:1790,columnNumber:61},void 0)]},void 0,!0):null},void 0,!1)]},void 0,!0):(e==null?void 0:e.customertype)==="New Tenant"?n(A,{children:[n("div",{children:[n(O,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1828,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ze},void 0,!1,{fileName:t,lineNumber:1838,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1827,columnNumber:49},void 0),n("div",{children:[n(O,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1843,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:me},void 0,!1,{fileName:t,lineNumber:1853,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1842,columnNumber:49},void 0),n("div",{children:[n(O,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1858,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ie},void 0,!1,{fileName:t,lineNumber:1868,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1857,columnNumber:49},void 0),n("div",{children:[n(O,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:1873,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Vi},void 0,!1,{fileName:t,lineNumber:1883,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1872,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"},void 0,!1,{fileName:t,lineNumber:1888,columnNumber:53},void 0),n(Ne,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ve.getAllCountries().filter(function(a){return a.name===(e==null?void 0:e.nationality)}),options:ve.getAllCountries(),styles:ye,id:"hh",getOptionLabel:a=>a.name,getOptionValue:a=>a.name,onChange:a=>{mi(a==null?void 0:a.name),P({target:{name:"nationality",value:a.name}})}},void 0,!1,{fileName:t,lineNumber:1891,columnNumber:53},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:De},void 0,!1,{fileName:t,lineNumber:1912,columnNumber:53},void 0)]},void 0,!0,{fileName:t,lineNumber:1887,columnNumber:49},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:1917,columnNumber:53},void 0),Ue!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()},void 0,!1,{fileName:t,lineNumber:1923,columnNumber:65},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:xi},void 0,!1,{fileName:t,lineNumber:1924,columnNumber:65},void 0)]},void 0,!0,{fileName:t,lineNumber:1922,columnNumber:61},void 0):n(B,{name:"basic",selectedFile:M,onChange:Le},void 0,!1,{fileName:t,lineNumber:1927,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:1916,columnNumber:49},void 0)]},void 0,!0):null},void 0,!1,{fileName:t,lineNumber:1717,columnNumber:29},void 0)]},void 0,!0,{fileName:t,lineNumber:1702,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:1939,columnNumber:29},void 0)},void 0,!1,{fileName:t,lineNumber:1938,columnNumber:25},void 0),n("div",{className:"w-[100%] col-span-3",children:[n("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"},void 0,!1,{fileName:t,lineNumber:1944,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:a=>{P({target:{name:"contractexecutiondate",value:a[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"},void 0,!1,{fileName:t,lineNumber:1947,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1943,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"},void 0,!1,{fileName:t,lineNumber:1960,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:a=>{P({target:{name:"contractstartdate",value:a[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"},void 0,!1,{fileName:t,lineNumber:1963,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Bi},void 0,!1,{fileName:t,lineNumber:1975,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1959,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"},void 0,!1,{fileName:t,lineNumber:1980,columnNumber:37},void 0),n(pe,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:a=>{P({target:{name:"contractenddate",value:a[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"},void 0,!1,{fileName:t,lineNumber:1983,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Li},void 0,!1,{fileName:t,lineNumber:1995,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:1979,columnNumber:33},void 0),n(A,{},void 0,!1),n("div",{children:[n(O,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2017,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Qi},void 0,!1,{fileName:t,lineNumber:2027,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2016,columnNumber:33},void 0),n("div",{children:[n(O,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2032,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ki},void 0,!1,{fileName:t,lineNumber:2042,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2031,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2047,columnNumber:37},void 0),Pe!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2054,columnNumber:49},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:qi},void 0,!1,{fileName:t,lineNumber:2055,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2053,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:ee,onChange:_i},void 0,!1,{fileName:t,lineNumber:2058,columnNumber:45},void 0),!Pe&&ge&&n("p",{style:{color:"red",fontSize:10},children:ge},void 0,!1,{fileName:t,lineNumber:2066,columnNumber:85},void 0)]},void 0,!0,{fileName:t,lineNumber:2046,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2070,columnNumber:37},void 0),pi!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2077,columnNumber:49},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ci},void 0,!1,{fileName:t,lineNumber:2078,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2076,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:H,onChange:ki},void 0,!1,{fileName:t,lineNumber:2081,columnNumber:45},void 0),!H&&_e&&n("p",{style:{color:"red",fontSize:10},children:_e},void 0,!1,{fileName:t,lineNumber:2090,columnNumber:86},void 0)]},void 0,!0,{fileName:t,lineNumber:2069,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2093,columnNumber:37},void 0),si!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2099,columnNumber:49},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:wi},void 0,!1,{fileName:t,lineNumber:2100,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2098,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:Q,onChange:Si},void 0,!1,{fileName:t,lineNumber:2103,columnNumber:45},void 0),!Q&&ke&&n("p",{style:{color:"red",fontSize:10},children:ke},void 0,!1,{fileName:t,lineNumber:2112,columnNumber:78},void 0)]},void 0,!0,{fileName:t,lineNumber:2092,columnNumber:33},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2115,columnNumber:37},void 0),Ee!==""?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2121,columnNumber:49},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ai},void 0,!1,{fileName:t,lineNumber:2122,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2120,columnNumber:45},void 0):n(B,{name:"basic",selectedFile:ie,onChange:Fi},void 0,!1,{fileName:t,lineNumber:2125,columnNumber:45},void 0),!Ee&&Se&&n("p",{style:{color:"red",fontSize:10},children:Se},void 0,!1,{fileName:t,lineNumber:2133,columnNumber:76},void 0)]},void 0,!0,{fileName:t,lineNumber:2114,columnNumber:33},void 0),n(A,{},void 0,!1),n("div",{children:[n(O,{label:"no of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:z,onChange:P},void 0,!1,{fileName:t,lineNumber:2153,columnNumber:37},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Yi},void 0,!1,{fileName:t,lineNumber:2163,columnNumber:37},void 0)]},void 0,!0,{fileName:t,lineNumber:2152,columnNumber:33},void 0),n(A,{},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1942,columnNumber:29},void 0),C>0&&n(A,{children:Array.from({length:C},(a,o)=>{var l,p,N,v,_,S,k,x,m,d;return n("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[n("div",{children:[n(O,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((p=(l=e==null?void 0:e.chequeDetails)==null?void 0:l[o])==null?void 0:p.chequenumbe)||"",register:z,onChange:r=>Ti(r,o)},void 0,!1,{fileName:t,lineNumber:2246,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ri[o]},void 0,!1,{fileName:t,lineNumber:2256,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2245,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"},void 0,!1,{fileName:t,lineNumber:2261,columnNumber:49},void 0),n(pe,{className:"form-control py-2",name:"chequedate",value:((v=(N=e==null?void 0:e.chequeDetails)==null?void 0:N[o])==null?void 0:v.chequedate)||"",onChange:r=>zi(r,o),id:"default-picker",placeholder:"Select cheque date"},void 0,!1,{fileName:t,lineNumber:2264,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ji[o]},void 0,!1,{fileName:t,lineNumber:2273,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2260,columnNumber:45},void 0),n("div",{children:[n(O,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((S=(_=e==null?void 0:e.chequeDetails)==null?void 0:_[o])==null?void 0:S.totalamount)||"",register:z,onChange:r=>Ei(r,o)},void 0,!1,{fileName:t,lineNumber:2278,columnNumber:49},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Mi[o]},void 0,!1,{fileName:t,lineNumber:2288,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2277,columnNumber:45},void 0),n("div",{children:[n("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"},void 0,!1,{fileName:t,lineNumber:2293,columnNumber:49},void 0),((k=F==null?void 0:F[o])==null?void 0:k.chequeimage)!==""&&le.pathname===`/update-tenantcontract/${j}`&&((x=F==null?void 0:F[o])==null?void 0:x.chequeimage)!==void 0?n("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[n("a",{target:"_blank",href:`http://stg.srp.ai${(m=F==null?void 0:F[o])==null?void 0:m.chequeimage}`,children:decodeURIComponent((d=F==null?void 0:F[o])==null?void 0:d.chequeimage).split("/").pop()},void 0,!1,{fileName:t,lineNumber:2299,columnNumber:61},void 0),n("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>Pi(o)},void 0,!1,{fileName:t,lineNumber:2300,columnNumber:61},void 0)]},void 0,!0,{fileName:t,lineNumber:2298,columnNumber:57},void 0):n(B,{name:`chequeimage-${o}`,selectedFile:Ye[o],onChange:r=>Oi(r,o)},void 0,!1,{fileName:t,lineNumber:2303,columnNumber:57},void 0),n("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Hi[o]},void 0,!1,{fileName:t,lineNumber:2310,columnNumber:49},void 0)]},void 0,!0,{fileName:t,lineNumber:2292,columnNumber:45},void 0),C>1&&o!==C-1&&n("div",{className:"w-[100%] col-span-3",children:n("div",{className:"borderBottom"},void 0,!1,{fileName:t,lineNumber:2316,columnNumber:53},void 0)},void 0,!1,{fileName:t,lineNumber:2315,columnNumber:49},void 0)]},o+1,!0,{fileName:t,lineNumber:2244,columnNumber:41},void 0)})},void 0,!1)]},void 0,!0,{fileName:t,lineNumber:1941,columnNumber:25},void 0),n("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[n("div",{className:`"ltr:text-right rtl:text-left " ${X===!0?"cursor-not-allowed	":""}`,children:X===!0?n("div",{className:` ${X===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2328,columnNumber:41},void 0):n(hn,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"},void 0,!1,{fileName:t,lineNumber:2329,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2325,columnNumber:29},void 0),le.pathname===`/update-tenantcontract/${j}`?n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${X===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",type:"button",onClick:en,children:"Update"},void 0,!1,{fileName:t,lineNumber:2336,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2335,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2334,columnNumber:37},void 0):n("div",{className:"ltr:text-right rtl:text-left",children:n("div",{className:`${X===!0?"opacity-[0.7]":""}`,children:n("button",{className:"btn btn-dark  text-center",onClick:Di,type:"button",children:"Submit"},void 0,!1,{fileName:t,lineNumber:2341,columnNumber:45},void 0)},void 0,!1,{fileName:t,lineNumber:2340,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2339,columnNumber:37},void 0),X===!0?n("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:n("div",{className:"loader-spiner"},void 0,!1,{fileName:t,lineNumber:2349,columnNumber:41},void 0)},void 0,!1,{fileName:t,lineNumber:2348,columnNumber:37},void 0):null]},void 0,!0,{fileName:t,lineNumber:2324,columnNumber:25},void 0)]},void 0,!0,{fileName:t,lineNumber:1625,columnNumber:21},void 0)},void 0,!1,{fileName:t,lineNumber:1624,columnNumber:17},void 0)},void 0,!1,{fileName:t,lineNumber:1623,columnNumber:13},void 0)]},void 0,!0)};export{Tn as default};
