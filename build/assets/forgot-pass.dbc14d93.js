import{t as y,v,r as s,w,x as E,j as e,T as S,E as C,G as q,Q as u}from"./index.0d75234e.js";var a="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\auth\\common\\forgot-pass.jsx";const O=y({email:v().email("Invalid email").required("Email is Required"),password:v().required("Password is Required")}).required(),P=()=>{const[l,g]=s.exports.useState(""),N=t=>{const{name:o,value:r}=t.target;g({...l,[o]:r})},[f,m]=s.exports.useState(""),[d,i]=s.exports.useState(!1),[h,n]=s.exports.useState(""),[b,c]=s.exports.useState(""),{register:p,formState:{errors:x},handleSubmit:j}=w({resolver:E(O)}),k=async()=>{var t,o;if(!(l!=null&&l.email))m("Email is required");else if(!C.isEmail(l.email))m("Email is invalid");else{m("");try{i(!0);let r=await q.post("http://stg.srp.ai/users/forgetpassword",{email:l==null?void 0:l.email});((t=r==null?void 0:r.data)==null?void 0:t.message)==="Verified krwa le"?(u.success("Email Send success fully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n("Email Send success fully please check your mail"),c(""),i(!1)):((o=r==null?void 0:r.data)==null?void 0:o.message)==="user nhi mila"&&(u.error("Invalid email",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n(""),c("Invalid email"),i(!1))}catch{console.log("catch me araha hai?"),u.error("Something went wrong",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n(""),c("Something went wrong try later"),i(!1)}}};return e("form",{className:"space-y-4 ",children:[e(S,{name:"email",label:"email",type:"email",register:p,error:x.email,placeholder:"Enter your email",value:l.email||"",onChange:N},void 0,!1,{fileName:a,lineNumber:101,columnNumber:7},void 0),e("div",{className:" mt-2 text-danger-500 block text-sm",children:f},void 0,!1,{fileName:a,lineNumber:112,columnNumber:7},void 0),e("div",{className:"relative",children:[e("div",{className:"ltr:text-right rtl:text-left",children:e("div",{className:`${d===!0?"opacity-[0.7]":""}`,children:e("button",{type:"button",onClick:k,className:"btn btn-dark block w-full text-center",children:"Send recovery email"},void 0,!1,{fileName:a,lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:a,lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:a,lineNumber:116,columnNumber:9},void 0),d===!0?e("div",{className:" absolute top-[0] w-[100%] black-bg flex justify-center h-[47px] button-style items-center",children:e("div",{className:"loader-spiner"},void 0,!1,{fileName:a,lineNumber:126,columnNumber:15},void 0)},void 0,!1,{fileName:a,lineNumber:125,columnNumber:13},void 0):null]},void 0,!0,{fileName:a,lineNumber:115,columnNumber:7},void 0),e("div",{className:" mt-2 text-black-500 block text-[18px]",children:h},void 0,!1,{fileName:a,lineNumber:130,columnNumber:7},void 0),e("div",{className:" mt-2 text-danger-500 block text-[18px]",children:b},void 0,!1,{fileName:a,lineNumber:133,columnNumber:7},void 0)]},void 0,!0,{fileName:a,lineNumber:100,columnNumber:5},void 0)};export{P as F};
