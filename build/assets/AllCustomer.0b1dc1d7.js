import{R as He,j as l,F as _,c8 as Qe,r as u,C as Zl,L as G,I as P,am as T,ca as Pe,c9 as Xe,G as be}from"./index.baa22cf8.js";import{T as de}from"./Tooltip.b3b2bab5.js";import{r as oe}from"./index.4b93aa2c.js";import{G as Ol}from"./GlobalFilter.356989a9.js";import{D as pe}from"./DeleteParagraph.da03737e.js";/* empty css                     */var i="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\customer-management\\CustomerTable.jsx";const Ke=He.forwardRef(({indeterminate:k,...C},$)=>{const o=He.useRef(),A=$||o;return He.useEffect(()=>{A.current.indeterminate=k},[A,k]),l(_,{children:l("input",{type:"checkbox",ref:A,...C,className:"table-checkbox"},void 0,!1,{fileName:i,lineNumber:34,columnNumber:17},void 0)},void 0,!1)}),q={option:(k,C)=>({...k,fontSize:"14px"})},Rl=({showModal:k,handleClose:C,loaderModal:$,linkedData:o,handleDeleteData:A,dataId:t,moduleName:h,PropertyData:d,bookingData:r,tenantcontractData:f,propertyOwnerData:N,userName:p,dataRole:g})=>l("div",{className:"thumbnail-container",children:[k&&l("div",{className:"modal-overlay-property",children:l("div",{className:"modal-new w-[850px]",children:[l("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Delete this ${h}?`},void 0,!1,{fileName:i,lineNumber:59,columnNumber:29},void 0),l("img",{src:Pe,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:C},void 0,!1,{fileName:i,lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:58,columnNumber:25},void 0),$===!0?l(Xe,{},void 0,!1,{fileName:i,lineNumber:64,columnNumber:33},void 0):l(_,{children:[o!=null&&o.length?l("div",{className:"data-list-modal",children:l(_,{children:[l("h4",{className:"text-[16px] mb-[10px]",children:[l("span",{className:"font-bold",children:h},void 0,!1,{fileName:i,lineNumber:71,columnNumber:57},void 0)," ",p," is linked with the following modules:"]},void 0,!0,{fileName:i,lineNumber:70,columnNumber:53},void 0),d!=null&&d.length?l("ul",{className:" mb-[10px] text-start",children:l("li",{className:"list-disc ml-[30px]",children:l("div",{className:"flex items-center",children:[l("span",{className:"font-semibold mr-[5px]",children:"Property: "},void 0,!1,{fileName:i,lineNumber:78,columnNumber:73},void 0),(g==null?void 0:g.deletepropert)===!0?l(_,{children:d==null?void 0:d.map((m,v)=>l(G,{className:" mr-[5px] hover:underline",to:`/view-property/${m==null?void 0:m._id}?delete=true`,children:[m==null?void 0:m.unitnumber,v!==d.length-1?",":null]},v+1,!0,{fileName:i,lineNumber:84,columnNumber:93},void 0))},void 0,!1):l(pe,{moduleName:h,linkedName:"Property"},void 0,!1,{fileName:i,lineNumber:88,columnNumber:81},void 0)]},void 0,!0,{fileName:i,lineNumber:77,columnNumber:69},void 0)},void 0,!1,{fileName:i,lineNumber:76,columnNumber:65},void 0)},void 0,!1,{fileName:i,lineNumber:75,columnNumber:61},void 0):null,N!=null&&N.length?l("ul",{className:" mb-[10px] text-start",children:l("li",{className:"list-disc ml-[30px]",children:l("div",{className:"flex items-center",children:[l("span",{className:"font-semibold mr-[5px]",children:"Property as an Owner Representative: "},void 0,!1,{fileName:i,lineNumber:99,columnNumber:73},void 0),(g==null?void 0:g.deletepropert)===!0?l(_,{children:N==null?void 0:N.map((m,v)=>l(G,{className:" mr-[5px] hover:underline",to:`/view-property/${m==null?void 0:m._id}?delete=true`,children:[m==null?void 0:m.unitnumber,v!==N.length-1?",":null]},v+1,!0,{fileName:i,lineNumber:105,columnNumber:93},void 0))},void 0,!1):l(pe,{moduleName:h,linkedName:"Property"},void 0,!1,{fileName:i,lineNumber:109,columnNumber:81},void 0)]},void 0,!0,{fileName:i,lineNumber:98,columnNumber:69},void 0)},void 0,!1,{fileName:i,lineNumber:97,columnNumber:65},void 0)},void 0,!1,{fileName:i,lineNumber:96,columnNumber:61},void 0):null,r!=null&&r.length?l("ul",{className:" mb-[10px] text-start",children:l("li",{className:"list-disc ml-[30px]",children:l("div",{className:"flex items-center",children:[l("span",{className:"font-semibold mr-[5px]",children:"Booking: "},void 0,!1,{fileName:i,lineNumber:120,columnNumber:73},void 0),(g==null?void 0:g.deletebooking)===!0?l(_,{children:r==null?void 0:r.map((m,v)=>l(G,{className:" mr-[5px] hover:underline",to:`/view-booking/${m==null?void 0:m._id}?delete=true`,children:[m==null?void 0:m.bookingnumber,v!==r.length-1?",":null]},v+1,!0,{fileName:i,lineNumber:126,columnNumber:93},void 0))},void 0,!1):l(pe,{moduleName:h,linkedName:"Booking"},void 0,!1,{fileName:i,lineNumber:130,columnNumber:81},void 0)]},void 0,!0,{fileName:i,lineNumber:119,columnNumber:69},void 0)},void 0,!1,{fileName:i,lineNumber:118,columnNumber:65},void 0)},void 0,!1,{fileName:i,lineNumber:117,columnNumber:61},void 0):null,f!=null&&f.length?l("ul",{className:" mb-[10px] text-start",children:l("li",{className:"list-disc ml-[30px]",children:l("div",{className:"flex items-center",children:[l("span",{className:"font-semibold mr-[5px]",children:"Tenancy Contract: "},void 0,!1,{fileName:i,lineNumber:141,columnNumber:73},void 0),(g==null?void 0:g.deletetenant)===!0?l(_,{children:f==null?void 0:f.map((m,v)=>l(G,{className:" mr-[5px] hover:underline",to:`/view-tenantcontract/${m==null?void 0:m._id}?delete=true`,children:[m==null?void 0:m.unitnumber,v!==f.length-1?",":null]},v+1,!0,{fileName:i,lineNumber:147,columnNumber:93},void 0))},void 0,!1):l(pe,{moduleName:h,linkedName:"Tenancy Contract"},void 0,!1,{fileName:i,lineNumber:151,columnNumber:81},void 0)]},void 0,!0,{fileName:i,lineNumber:140,columnNumber:69},void 0)},void 0,!1,{fileName:i,lineNumber:139,columnNumber:65},void 0)},void 0,!1,{fileName:i,lineNumber:138,columnNumber:61},void 0):null]},void 0,!0)},void 0,!1,{fileName:i,lineNumber:68,columnNumber:45},void 0):null,l("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[(o==null?void 0:o.length)&&((d==null?void 0:d.length)||(N==null?void 0:N.length)||(r==null?void 0:r.length)||(f==null?void 0:f.length))?l("p",{className:" mt-[10px]",children:`This ${h} is already linked. Please first delete these entries which are linked it with`},void 0,!1,{fileName:i,lineNumber:163,columnNumber:49},void 0):null,!(o!=null&&o.length)&&!(d!=null&&d.length)&&!(N!=null&&N.length)&&!(r!=null&&r.length)&&!(f!=null&&f.length)?l("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>A(t),children:"Delete"},void 0,!1,{fileName:i,lineNumber:167,columnNumber:49},void 0):null]},void 0,!0,{fileName:i,lineNumber:160,columnNumber:37},void 0)]},void 0,!0)]},void 0,!0,{fileName:i,lineNumber:57,columnNumber:21},void 0)},void 0,!1,{fileName:i,lineNumber:56,columnNumber:17},void 0),l(_,{},void 0,!1)]},void 0,!0,{fileName:i,lineNumber:54,columnNumber:9},void 0),Fl=({assignModal:k,handleCloseAssignModal:C,moduleName:$,selectedCustomerId:o,employeeAgent:A,selectedAgent:t,setSelectedAgent:h,addAgentToCustomer:d})=>l("div",{className:"thumbnail-container",children:k&&l("div",{className:"modal-overlay-property",children:l("div",{className:"modal-new w-[850px]",children:[l("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:`${$}`},void 0,!1,{fileName:i,lineNumber:284,columnNumber:29},void 0),l("img",{src:Pe,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:C},void 0,!1,{fileName:i,lineNumber:285,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:283,columnNumber:25},void 0),l("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:[l("label",{htmlFor:" hh",className:"form-label text-start",children:"Select Agent:"},void 0,!1,{fileName:i,lineNumber:288,columnNumber:29},void 0),l("div",{className:"w-[100%]",children:l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A,value:A.filter(function(r){return r.value===t}),onChange:r=>{h(r==null?void 0:r.value)},styles:q,id:"hh"},void 0,!1,{fileName:i,lineNumber:292,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:291,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:287,columnNumber:25},void 0),l("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:t!==void 0&&t!==""?l("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:()=>d(o),children:"Add"},void 0,!1,{fileName:i,lineNumber:312,columnNumber:37},void 0):null},void 0,!1,{fileName:i,lineNumber:309,columnNumber:25},void 0)]},void 0,!0,{fileName:i,lineNumber:282,columnNumber:21},void 0)},void 0,!1,{fileName:i,lineNumber:281,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:279,columnNumber:9},void 0),Dl=({showNotesModal:k,handleCloseNoteModal:C,moduleName:$,allNotes:o,handleChangeData:A,notesData:t,handleAddNotesData:h})=>l("div",{className:"thumbnail-container",children:k&&l("div",{className:"modal-overlay-property",children:l("div",{className:"modal-new w-[850px] max-h-[700px] overflow-y-scroll",children:[l("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:`${$}`},void 0,!1,{fileName:i,lineNumber:426,columnNumber:29},void 0),l("img",{src:Pe,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:C},void 0,!1,{fileName:i,lineNumber:427,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:425,columnNumber:25},void 0),l("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:l("div",{className:"w-[100%] text-start",children:l("div",{class:"fromGroup       ",children:[l("div",{className:"flex gap-x-[15px] items-center",children:l("label",{for:"pn4",class:"block form-label  normal-case",children:"Type Your Note"},void 0,!1,{fileName:i,lineNumber:434,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:433,columnNumber:37},void 0),l("div",{class:"relative ",children:[l("textarea",{class:"  form-control py-2   ",placeholder:"Type Your Note Here...",id:"pn4",rows:"3",value:t,onChange:A},void 0,!1,{fileName:i,lineNumber:439,columnNumber:41},void 0),l("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:i,lineNumber:440,columnNumber:41},void 0)]},void 0,!0,{fileName:i,lineNumber:438,columnNumber:37},void 0)]},void 0,!0,{fileName:i,lineNumber:432,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:430,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:429,columnNumber:25},void 0),l("div",{className:"mb-[15px] max-h-[700px] flex justify-end",children:t!==""?l("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:h,children:"Send"},void 0,!1,{fileName:i,lineNumber:449,columnNumber:37},void 0):null},void 0,!1,{fileName:i,lineNumber:446,columnNumber:25},void 0),l(_,{children:o!=null&&o.length?l(_,{children:o==null?void 0:o.map((d,r)=>l("div",{class:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:l("div",{class:"w-[100%] text-start",children:l("div",{class:"fromGroup       ",children:[l("div",{className:"flex gap-x-[15px] items-center",children:l("label",{for:"pn4",class:"block form-label  normal-case",children:["Note by ",d==null?void 0:d.employee_email,l("span",{className:"ml-[10px]",children:"-"},void 0,!1,{fileName:i,lineNumber:465,columnNumber:73},void 0),l("span",{className:"ml-[10px]",children:"created at: "+new Date(d==null?void 0:d.createdAt).toDateString()},void 0,!1,{fileName:i,lineNumber:466,columnNumber:73},void 0)]},void 0,!0,{fileName:i,lineNumber:463,columnNumber:69},void 0)},void 0,!1,{fileName:i,lineNumber:462,columnNumber:65},void 0),l("div",{class:"relative ",children:[l("textarea",{class:"  form-control py-2   ",placeholder:"Textarea",id:"pn4",rows:"3",value:d==null?void 0:d.note_text,readOnly:!0},void 0,!1,{fileName:i,lineNumber:470,columnNumber:69},void 0),l("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"},void 0,!1,{fileName:i,lineNumber:471,columnNumber:69},void 0)]},void 0,!0,{fileName:i,lineNumber:469,columnNumber:65},void 0)]},void 0,!0,{fileName:i,lineNumber:461,columnNumber:61},void 0)},void 0,!1,{fileName:i,lineNumber:460,columnNumber:57},void 0)},r==null?void 0:r._id,!1,{fileName:i,lineNumber:459,columnNumber:53},void 0))},void 0,!1):null},void 0,!1)]},void 0,!0,{fileName:i,lineNumber:424,columnNumber:21},void 0)},void 0,!1,{fileName:i,lineNumber:423,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:421,columnNumber:9},void 0),wl=({title:k,linktitle:C,pagelink:$,allCustomers:o,onDataUpdate:A,forFilterData:t,handleFilterSearch:h,handleClearFilter:d})=>{const r=localStorage.getItem("isAuth"),f=JSON.parse(r),{data:N}=Qe(f==null?void 0:f.roleid),[p,g]=u.exports.useState(!1),[m,v]=u.exports.useState(!1),[Ze,Oe]=u.exports.useState(""),[Re,Fe]=u.exports.useState(""),[De,he]=u.exports.useState(""),[we,xe]=u.exports.useState(""),[el,ge]=u.exports.useState(""),[ll,ye]=u.exports.useState(""),[il,al]=u.exports.useState(""),[nl,Ce]=u.exports.useState(!1),[sl,Se]=u.exports.useState(""),[Ne,ml]=u.exports.useState(!1),[s,I]=u.exports.useState(""),U=e=>{const{name:a,value:n}=e.target;I({...s,[a]:n})},tl=async e=>{if(g(!0),v(!0),e)try{const a=`http://stg.srp.ai/booking/api/allbooking/forproperty?customerid=${e==null?void 0:e._id}`,n=`http://stg.srp.ai/property/api/advancesearch?customerid=${e==null?void 0:e._id}&softdelete=false`,c=`http://stg.srp.ai/tenantcontract/api/propertydelete?customerid=${e==null?void 0:e._id}`,b=`http://stg.srp.ai/property/api/advancesearch?owner_representative_id=${e==null?void 0:e._id}&softdelete=false`,S=await fetch(a);if(!S.ok&&S.status!==400)throw new Error(`API 1 failed with status: ${S.status}`);const B=S.status===400?[]:await S.json(),x=await fetch(n);if(!x.ok&&x.status!==400)throw new Error(`API 2 failed with status: ${x.status}`);const y=x.status===400?[]:await x.json(),H=await fetch(c);if(!H.ok&&H.status!==400)throw new Error(`API 3 failed with status: ${H.status}`);const E=H.status===400?[]:await H.json(),j=await fetch(b);if(!j.ok&&j.status!==400)throw new Error(`API 4 failed with status: ${j.status}`);const M=j.status===400?[]:await j.json(),L=[...B,...y,...E,...M];he(B),xe(y),ge(E),ye(M),Oe(L),Fe(e==null?void 0:e._id),al(e==null?void 0:e.email),v(!1)}catch(a){console.error("Error fetching data:",a),v(!1)}},cl=()=>{g(!1),he(""),xe(""),ge(""),ye("")},ul=async e=>{try{await be.patch("http://stg.srp.ai/users/api/specific/userupdate",{_id:e,softdelete:!0}),A(),he(""),xe(""),ge(""),ye("")}catch(a){console.log(a,"error")}},[ei,dl]=u.exports.useState([]),[ol,Be]=u.exports.useState([]),[Ie,re]=u.exports.useState(""),[Nl,Ee]=u.exports.useState(""),rl=e=>{Ce(!0),Se(e==null?void 0:e._id),e!=null&&e.employeeid&&Ee(e==null?void 0:e.employeeid),re(e==null?void 0:e.employeeid)},vl=()=>{Ce(!1),Se(""),re("")};u.exports.useEffect(()=>{(async()=>{const n=await(await fetch("http://stg.srp.ai/roles/api/search/Property Consultant")).json();dl(n==null?void 0:n.roles)})()},[]),u.exports.useEffect(()=>{(async()=>{var a;try{const n=await be.get("http://stg.srp.ai/employees/");if(Be(n.data),n!=null&&n.data){const c=(a=n.data)==null?void 0:a.map(b=>({label:b.firstname+" "+b.lastname+" | "+b.email,value:b._id}));Be(c)}}catch(n){console.error("Error fetching data:",n)}})()},[]);const fl=async e=>{try{await be.patch("http://stg.srp.ai/users/api/specific/userupdate",{_id:e,employeeid:Ie}),A(),re(""),Ce(!1),Se("")}catch(a){console.log(a,"error")}},[bl,Me]=u.exports.useState(!1),[Te,pl]=u.exports.useState(""),[hl,Ae]=u.exports.useState([]),[ke,_e]=u.exports.useState(""),xl=async e=>{if(Me(!0),pl(e==null?void 0:e._id),e)try{const a=`http://stg.srp.ai/note/api/search?module_id=${e==null?void 0:e._id}`,n=await fetch(a);if(!n.ok&&n.status!==400)throw new Error(`API 2 failed with status: ${n.status}`);const c=n.status===400?[]:await n.json();Ae(c)}catch(a){console.error("Error fetching data:",a)}},gl=()=>{Me(!1),Ae([]),_e("")},yl=e=>{_e(e.target.value)},Cl=async()=>{if(ke!==""&&await be.post("http://stg.srp.ai/note",{note_text:ke,module_id:Te,commentator_id:f==null?void 0:f._id}))try{const a=`http://stg.srp.ai/note/api/search?module_id=${Te}`,n=await fetch(a);if(!n.ok&&n.status!==400)throw new Error(`API 2 failed with status: ${n.status}`);const c=n.status===400?[]:await n.json();Ae(c),_e("")}catch(a){console.error("Error fetching data:",a)}},Sl=[{Header:"Id",accessor:"id",Cell:({row:e,flatRows:a})=>l("span",{children:a.indexOf(e)+1},void 0,!1,{fileName:i,lineNumber:764,columnNumber:24},void 0)},{Header:"Name",accessor:e=>`${e.firstname} ${e.lastname}`,Cell:e=>{var a;return l("span",{children:(a=e==null?void 0:e.cell)==null?void 0:a.value},void 0,!1,{fileName:i,lineNumber:771,columnNumber:24},void 0)}},{Header:"Email",accessor:"email",Cell:e=>{var a;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)==null?void 0:a.value},void 0,!1,{fileName:i,lineNumber:781,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:780,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:779,columnNumber:21},void 0)}},{Header:"Age",accessor:"user_age",Cell:e=>{var a,n,c;return l("span",{children:((a=e==null?void 0:e.cell)==null?void 0:a.value)||((n=e==null?void 0:e.cell)==null?void 0:n.value)===0?(c=e==null?void 0:e.cell)==null?void 0:c.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:793,columnNumber:24},void 0)}},{Header:"date of birth",accessor:"datebirth",Cell:e=>{var a,n;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:800,columnNumber:24},void 0)}},{Header:"status",accessor:"isCpmleted",Cell:e=>{var a,n,c;return l("span",{className:"block w-full",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((a=e==null?void 0:e.cell)==null?void 0:a.value)===!0?"text-success-500 bg-success-500":""} 
                ${((n=e==null?void 0:e.cell)==null?void 0:n.value)===!1?"text-danger-500 bg-danger-500":""}
                
                 `,children:((c=e==null?void 0:e.cell)==null?void 0:c.value)===!0?"Completed":"Not Completed"},void 0,!1,{fileName:i,lineNumber:809,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:808,columnNumber:21},void 0)}},{Header:"What'sApp no",accessor:"whatsappno",Cell:e=>{var a,n,c,b;return l("a",{href:`${(a=e==null?void 0:e.cell)!=null&&a.value?`https://wa.me/${(n=e==null?void 0:e.cell)==null?void 0:n.value}`:"#"}`,target:"_blank",rel:"noreferrer",children:(c=e==null?void 0:e.cell)!=null&&c.value?(b=e==null?void 0:e.cell)==null?void 0:b.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:831,columnNumber:24},void 0)}},{Header:"Password",accessor:"password",Cell:e=>{var b,S;const[a,n]=u.exports.useState(!1),c=()=>{n(!a)};return l("div",{children:(b=e==null?void 0:e.cell)!=null&&b.value?l("span",{className:"flex items-center justify-between",children:[l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:a===!0?(S=e==null?void 0:e.cell)==null?void 0:S.value:"........"},void 0,!1,{fileName:i,lineNumber:850,columnNumber:37},void 0),l("span",{className:"cursor-pointer text-secondary-500  select-none",onClick:c,children:a===!0?l(P,{icon:"heroicons-outline:eye"},void 0,!1,{fileName:i,lineNumber:859,columnNumber:49},void 0):l(P,{icon:"heroicons-outline:eye-off"},void 0,!1,{fileName:i,lineNumber:860,columnNumber:49},void 0)},void 0,!1,{fileName:i,lineNumber:853,columnNumber:37},void 0)]},void 0,!0,{fileName:i,lineNumber:849,columnNumber:33},void 0):l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Not Available"},void 0,!1,{fileName:i,lineNumber:865,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:864,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:846,columnNumber:21},void 0)}},{Header:"Phone Number",accessor:"contactno",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:882,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:881,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:880,columnNumber:21},void 0)}},{Header:"Assigned Agent",accessor:"employee_email",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:897,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:896,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:895,columnNumber:21},void 0)}},{Header:"Alt Email",accessor:"altemail",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:912,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:911,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:910,columnNumber:21},void 0)}},{Header:"Alt Number",accessor:"altmobilenumber",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:927,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:926,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:925,columnNumber:21},void 0)}},{Header:"Nationality",accessor:"passportno",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:942,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:941,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:940,columnNumber:21},void 0)}},{Header:"name on passport",accessor:"nameonpassport",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:957,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:956,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:955,columnNumber:21},void 0)}},{Header:"country of residence",accessor:"countryofresidence",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:972,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:971,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:970,columnNumber:21},void 0)}},{Header:"postal address",accessor:"postaladdress",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:987,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:986,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:985,columnNumber:21},void 0)}},{Header:"primary no",accessor:"primaryno",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1002,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1001,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1e3,columnNumber:21},void 0)}},{Header:"passport id no",accessor:"passportidno",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1017,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1016,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1015,columnNumber:21},void 0)}},{Header:"passport issue",accessor:"passportissue",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:1032,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1031,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1030,columnNumber:21},void 0)}},{Header:"passport expiry",accessor:"passportexpiry",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:1047,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1046,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1045,columnNumber:21},void 0)}},{Header:"national id no",accessor:"nationalidno",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1062,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1061,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1060,columnNumber:21},void 0)}},{Header:"national id issue date",accessor:"nationalidissuedate",Cell:e=>{var a,n;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:1074,columnNumber:24},void 0)}},{Header:"national id expiry",accessor:"nationalidexpiry",Cell:e=>{var a,n;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:1081,columnNumber:24},void 0)}},{Header:"resident status",accessor:"residentstatus",Cell:e=>{var a,n;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1088,columnNumber:24},void 0)}},{Header:"passport pdf",accessor:"passportpdf",Cell:e=>{var a,n,c,b,S,B,x,y,H,E,j,M,L,V,z,Y,J,W,Q,K,X,Z,O,R,F,D,w,ee,le,ie,ae,ne,se,me,te,ce,ue;return l("span",{className:"block w-full",children:((a=e==null?void 0:e.cell)==null?void 0:a.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==null&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!=="null"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!==""?l("a",{href:`${((x=e==null?void 0:e.cell)==null?void 0:x.value)&&((y=e==null?void 0:e.cell)==null?void 0:y.value)!==void 0&&((H=e==null?void 0:e.cell)==null?void 0:H.value)!==null&&((E=e==null?void 0:e.cell)==null?void 0:E.value)!=="undefined"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!=="null"&&((M=e==null?void 0:e.cell)==null?void 0:M.value)!==""?(L=e==null?void 0:e.cell)==null?void 0:L.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((V=e==null?void 0:e.cell)==null?void 0:V.value)&&((z=e==null?void 0:e.cell)==null?void 0:z.value)!==void 0&&((Y=e==null?void 0:e.cell)==null?void 0:Y.value)!==null&&((J=e==null?void 0:e.cell)==null?void 0:J.value)!=="undefined"&&((W=e==null?void 0:e.cell)==null?void 0:W.value)!=="null"&&((Q=e==null?void 0:e.cell)==null?void 0:Q.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((K=e==null?void 0:e.cell)==null?void 0:K.value)&&((X=e==null?void 0:e.cell)==null?void 0:X.value)!==void 0&&((Z=e==null?void 0:e.cell)==null?void 0:Z.value)!==null&&((O=e==null?void 0:e.cell)==null?void 0:O.value)!=="undefined"&&((R=e==null?void 0:e.cell)==null?void 0:R.value)!=="null"&&((F=e==null?void 0:e.cell)==null?void 0:F.value)!==""?"View":"Not Available"},void 0,!1,{fileName:i,lineNumber:1099,columnNumber:33},void 0):l("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="null"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ne=e==null?void 0:e.cell)==null?void 0:ne.value)&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!==void 0&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!==null&&((te=e==null?void 0:e.cell)==null?void 0:te.value)!=="undefined"&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"},void 0,!1,{fileName:i,lineNumber:1109,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:1096,columnNumber:21},void 0)}},{Header:"national id pdf",accessor:"nationalidpdf",Cell:e=>{var a,n,c,b,S,B,x,y,H,E,j,M,L,V,z,Y,J,W,Q,K,X,Z,O,R,F,D,w,ee,le,ie,ae,ne,se,me,te,ce,ue;return l("span",{className:"block w-full",children:((a=e==null?void 0:e.cell)==null?void 0:a.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)!==void 0&&((c=e==null?void 0:e.cell)==null?void 0:c.value)!==null&&((b=e==null?void 0:e.cell)==null?void 0:b.value)!=="undefined"&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!=="null"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!==""?l("a",{href:`${((x=e==null?void 0:e.cell)==null?void 0:x.value)&&((y=e==null?void 0:e.cell)==null?void 0:y.value)!==void 0&&((H=e==null?void 0:e.cell)==null?void 0:H.value)!==null&&((E=e==null?void 0:e.cell)==null?void 0:E.value)!=="undefined"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!=="null"&&((M=e==null?void 0:e.cell)==null?void 0:M.value)!==""?(L=e==null?void 0:e.cell)==null?void 0:L.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((V=e==null?void 0:e.cell)==null?void 0:V.value)&&((z=e==null?void 0:e.cell)==null?void 0:z.value)!==void 0&&((Y=e==null?void 0:e.cell)==null?void 0:Y.value)!==null&&((J=e==null?void 0:e.cell)==null?void 0:J.value)!=="undefined"&&((W=e==null?void 0:e.cell)==null?void 0:W.value)!=="null"&&((Q=e==null?void 0:e.cell)==null?void 0:Q.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((K=e==null?void 0:e.cell)==null?void 0:K.value)&&((X=e==null?void 0:e.cell)==null?void 0:X.value)!==void 0&&((Z=e==null?void 0:e.cell)==null?void 0:Z.value)!==null&&((O=e==null?void 0:e.cell)==null?void 0:O.value)!=="undefined"&&((R=e==null?void 0:e.cell)==null?void 0:R.value)!=="null"&&((F=e==null?void 0:e.cell)==null?void 0:F.value)!==""?"View":"Not Available"},void 0,!1,{fileName:i,lineNumber:1150,columnNumber:33},void 0):l("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="null"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ne=e==null?void 0:e.cell)==null?void 0:ne.value)&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!==void 0&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!==null&&((te=e==null?void 0:e.cell)==null?void 0:te.value)!=="undefined"&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"},void 0,!1,{fileName:i,lineNumber:1160,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:1147,columnNumber:21},void 0)}},{Header:"Created By",accessor:"employee_email_createdBy",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1181,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1180,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1179,columnNumber:21},void 0)}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var a;return l("span",{children:new Date((a=e==null?void 0:e.cell)==null?void 0:a.value).toDateString()},void 0,!1,{fileName:i,lineNumber:1193,columnNumber:24},void 0)}},{Header:"Updated By",accessor:"employee_email_updatedBy",Cell:e=>{var a,n;return l("div",{children:l("span",{className:"inline-flex items-center",children:l("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:i,lineNumber:1203,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1202,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1201,columnNumber:21},void 0)}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var a,n;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:i,lineNumber:1215,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{const a=localStorage.getItem("isAuth"),n=JSON.parse(a),{data:c}=Qe(n==null?void 0:n.roleid);if(!c)return null;const b=(c==null?void 0:c.readcustomer)===!0,S=(c==null?void 0:c.updatecustomer)===!0,B=(c==null?void 0:c.deletecustomer)===!0;return l("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[b&&l(de,{content:"assign to agent",placement:"top",arrow:!0,animation:"shift-away",children:l("button",{className:"action-btn",type:"button",onClick:()=>{var x,y;return rl((y=(x=e==null?void 0:e.cell)==null?void 0:x.row)==null?void 0:y.original)},children:l(P,{icon:"heroicons:user-plus"},void 0,!1,{fileName:i,lineNumber:1241,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:1240,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:1239,columnNumber:33},void 0),b&&l(de,{content:"notes",placement:"top",arrow:!0,animation:"shift-away",children:l("button",{className:"action-btn",type:"button",onClick:()=>{var x,y;return xl((y=(x=e==null?void 0:e.cell)==null?void 0:x.row)==null?void 0:y.original)},children:l(P,{icon:"heroicons:chat-bubble-left-right"},void 0,!1,{fileName:i,lineNumber:1250,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:1249,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:1248,columnNumber:33},void 0),b&&l(de,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:l(G,{to:`/view-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:l(P,{icon:"heroicons:eye"},void 0,!1,{fileName:i,lineNumber:1259,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:1258,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:1257,columnNumber:33},void 0),S&&l(de,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:l(G,{to:`/update-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:l(P,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:i,lineNumber:1268,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:1267,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:1266,columnNumber:33},void 0),B&&l(de,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:l("button",{className:"action-btn",type:"button",onClick:()=>{var x,y;return tl((y=(x=e==null?void 0:e.cell)==null?void 0:x.row)==null?void 0:y.original)},children:l(P,{icon:"heroicons:trash"},void 0,!1,{fileName:i,lineNumber:1283,columnNumber:41},void 0)},void 0,!1,{fileName:i,lineNumber:1282,columnNumber:37},void 0)},void 0,!1,{fileName:i,lineNumber:1275,columnNumber:33},void 0)]},void 0,!0,{fileName:i,lineNumber:1236,columnNumber:21},void 0)}}],Al=u.exports.useMemo(()=>Sl,[]),kl=u.exports.useMemo(()=>o),_l=oe.exports.useTable({columns:Al,data:kl,initialState:{pageIndex:0,pageSize:50}},oe.exports.useGlobalFilter,oe.exports.useSortBy,oe.exports.usePagination,oe.exports.useRowSelect,e=>{e.visibleColumns.push(a=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:n})=>l("div",{children:l(Ke,{...n()},void 0,!1,{fileName:i,lineNumber:1314,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1313,columnNumber:25},void 0),Cell:({row:n})=>l("div",{children:l(Ke,{...n.getToggleRowSelectedProps()},void 0,!1,{fileName:i,lineNumber:1319,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1318,columnNumber:25},void 0)},...a])}),{getTableProps:$l,getTableBodyProps:Hl,headerGroups:jl,footerGroups:li,page:Pl,nextPage:Bl,previousPage:Il,canNextPage:ve,canPreviousPage:fe,pageOptions:qe,state:El,gotoPage:$e,pageCount:Ml,setPageSize:Tl,setGlobalFilter:ql,prepareRow:Ul}=_l,{globalFilter:Ll,pageIndex:Ue,pageSize:Gl}=El,Vl=t==null?void 0:t.filter(e=>e.firstname!==void 0),Le=[...new Set(Vl.map(e=>e.firstname))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),zl=t==null?void 0:t.filter(e=>e.lastname!==void 0),Ge=[...new Set(zl.map(e=>e.lastname))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>{const a=t.find(n=>n.lastname===e);return a?{label:a.lastname,value:a.lastname}:null}).filter(Boolean),Yl=t==null?void 0:t.filter(e=>e.email!==void 0),Ve=[...new Set(Yl.map(e=>e.email))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>{const a=t.find(n=>n.email===e);return a?{label:a.email,value:a.email}:null}).filter(Boolean),Jl=t==null?void 0:t.filter(e=>e.contactno!==void 0),ze=[...new Set(Jl.map(e=>e.contactno))].map(e=>{const a=t.find(n=>n.contactno===e);return a?{label:a.contactno,value:a.contactno}:null}).filter(Boolean),Wl=t==null?void 0:t.filter(e=>e.passportidno!==void 0),Ye=[...new Set(Wl.map(e=>e.passportidno))].map(e=>{const a=t.find(n=>n.passportidno===e);return a?{label:a.passportidno,value:a.passportidno}:null}).filter(Boolean),Ql=t==null?void 0:t.filter(e=>e.nationalidno!==void 0),Je=[...new Set(Ql.map(e=>e.nationalidno))].map(e=>{const a=t.find(n=>n.nationalidno===e);return a?{label:a.nationalidno,value:a.nationalidno}:null}).filter(Boolean),Kl=t==null?void 0:t.filter(e=>e.employee_email!==void 0),We=[...new Set(Kl.map(e=>e.employee_email))].map(e=>{const a=t.find(n=>n.employee_email===e);return a?{label:a.employee_email,value:a.employee_email}:null}).filter(Boolean),Xl=()=>{d(),I("")};return l(_,{children:l(Zl,{children:[l("div",{className:"flex justify-between items-center mb-6",children:[l("h4",{className:"card-title",children:k},void 0,!1,{fileName:i,lineNumber:1481,columnNumber:21},void 0),(N==null?void 0:N.createcustomer)===!0&&l(G,{to:$,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:C},void 0,!1,{fileName:i,lineNumber:1484,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:1480,columnNumber:17},void 0),l("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[l("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>ml(!Ne),children:[Ne===!0?l(P,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:i,lineNumber:1492,columnNumber:33},void 0):l(P,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:i,lineNumber:1493,columnNumber:33},void 0),l("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:i,lineNumber:1495,columnNumber:25},void 0)]},void 0,!0,{fileName:i,lineNumber:1489,columnNumber:21},void 0),l(Ol,{filter:Ll,setFilter:ql},void 0,!1,{fileName:i,lineNumber:1497,columnNumber:21},void 0)]},void 0,!0,{fileName:i,lineNumber:1488,columnNumber:17},void 0),l("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${Ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"First Name"},void 0,!1,{fileName:i,lineNumber:1501,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Le,value:Le.filter(function(e){if((s==null?void 0:s.firstname)!=="")return e.value===(s==null?void 0:s.firstname)}),onChange:e=>{U({target:{name:"firstname",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1504,columnNumber:25},void 0),s!=null&&s.firstname?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,firstname:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1523,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1500,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Last Name"},void 0,!1,{fileName:i,lineNumber:1529,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ge,value:Ge.filter(function(e){if((s==null?void 0:s.lastname)!=="")return e.value===(s==null?void 0:s.lastname)}),onChange:e=>{U({target:{name:"lastname",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1532,columnNumber:25},void 0),s!=null&&s.lastname?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,lastname:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1551,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1528,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Email"},void 0,!1,{fileName:i,lineNumber:1557,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ve,value:Ve.filter(function(e){if((s==null?void 0:s.email)!=="")return e.value===(s==null?void 0:s.email)}),onChange:e=>{U({target:{name:"email",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1560,columnNumber:25},void 0),s!=null&&s.email?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,email:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1579,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1556,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Contact no"},void 0,!1,{fileName:i,lineNumber:1585,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ze,value:ze.filter(function(e){if((s==null?void 0:s.contactno)!=="")return e.value===(s==null?void 0:s.contactno)}),onChange:e=>{U({target:{name:"contactno",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1588,columnNumber:25},void 0),s!=null&&s.contactno?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,contactno:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1607,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1584,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Passport ID no"},void 0,!1,{fileName:i,lineNumber:1613,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ye,value:Ye.filter(function(e){if((s==null?void 0:s.passportidno)!=="")return e.value===(s==null?void 0:s.passportidno)}),onChange:e=>{U({target:{name:"passportidno",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1616,columnNumber:25},void 0),s!=null&&s.passportidno?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,passportidno:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1635,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1612,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"National ID no"},void 0,!1,{fileName:i,lineNumber:1641,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Je,value:Je.filter(function(e){if((s==null?void 0:s.nationalidno)!=="")return e.value===(s==null?void 0:s.nationalidno)}),onChange:e=>{U({target:{name:"nationalidno",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1644,columnNumber:25},void 0),s!=null&&s.nationalidno?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,nationalidno:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1663,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1640,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Assigned Agents"},void 0,!1,{fileName:i,lineNumber:1669,columnNumber:25},void 0),l(T,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:We,value:We.filter(function(e){if((s==null?void 0:s.employee_email)!=="")return e.value===(s==null?void 0:s.employee_email)}),onChange:e=>{U({target:{name:"employee_email",value:e.value}})},styles:q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:i,lineNumber:1672,columnNumber:25},void 0),s!=null&&s.employee_email?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>I({...s,employee_email:""}),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1691,columnNumber:33},void 0):null]},void 0,!0,{fileName:i,lineNumber:1668,columnNumber:21},void 0)]},void 0,!0,{fileName:i,lineNumber:1499,columnNumber:17},void 0),l("div",{className:`flex ${Ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[l("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>Xl(),children:"Clear filter"},void 0,!1,{fileName:i,lineNumber:1698,columnNumber:21},void 0),l("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>h(s),children:"Search"},void 0,!1,{fileName:i,lineNumber:1699,columnNumber:21},void 0)]},void 0,!0,{fileName:i,lineNumber:1697,columnNumber:17},void 0),l(Rl,{showModal:p,handleClose:cl,loaderModal:m,dataRole:N,linkedData:Ze,handleDeleteData:ul,dataId:Re,moduleName:"Customer",bookingData:De,PropertyData:we,tenantcontractData:el,propertyOwnerData:ll,userName:il},void 0,!1,{fileName:i,lineNumber:1701,columnNumber:17},void 0),l(Fl,{handleCloseAssignModal:vl,assignModal:nl,selectedCustomerId:sl,moduleName:"Assign an Agent",employeeAgent:ol,addAgentToCustomer:fl,selectedAgent:Ie,setSelectedAgent:re,employee_id:Nl,setEmployee_id:Ee},void 0,!1,{fileName:i,lineNumber:1702,columnNumber:17},void 0),l(Dl,{showNotesModal:bl,handleCloseNoteModal:gl,moduleName:"Notes",allNotes:hl,handleChangeData:yl,notesData:ke,handleAddNotesData:Cl},void 0,!1,{fileName:i,lineNumber:1703,columnNumber:17},void 0),l("div",{className:"overflow-x-auto -mx-6 mt-6",children:l("div",{className:"inline-block min-w-full align-middle",children:l("div",{className:" ",children:l("table",{className:"min-w-[140%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...$l,children:[l("thead",{className:"bg-slate-200 dark:bg-slate-700",children:jl.map(e=>l("tr",{...e.getHeaderGroupProps(),children:e.headers.map(a=>a.Header==="action"&&!((N==null?void 0:N.readcustomer)===!0||(N==null?void 0:N.updatecustomer)===!0||(N==null?void 0:N.deletecustomer)===!0)?l("th",{},void 0,!1,{fileName:i,lineNumber:1720,columnNumber:60},void 0):l("th",{...a.getHeaderProps(a.getSortByToggleProps()),scope:"col",className:"table-th",children:[a.render("Header"),l("span",{children:a.isSorted?a.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:i,lineNumber:1730,columnNumber:57},void 0)]},void 0,!0,{fileName:i,lineNumber:1724,columnNumber:53},void 0))},void 0,!1,{fileName:i,lineNumber:1713,columnNumber:41},void 0))},void 0,!1,{fileName:i,lineNumber:1711,columnNumber:33},void 0),l("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...Hl,children:Pl.map(e=>(Ul(e),l("tr",{...e.getRowProps(),children:e.cells.map(a=>l("td",{...a.getCellProps(),className:"table-td",children:a.render("Cell")},void 0,!1,{fileName:i,lineNumber:1749,columnNumber:57},void 0))},void 0,!1,{fileName:i,lineNumber:1746,columnNumber:45},void 0)))},void 0,!1,{fileName:i,lineNumber:1739,columnNumber:33},void 0)]},void 0,!0,{fileName:i,lineNumber:1707,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1706,columnNumber:25},void 0)},void 0,!1,{fileName:i,lineNumber:1705,columnNumber:21},void 0)},void 0,!1,{fileName:i,lineNumber:1704,columnNumber:17},void 0),l("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[l("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[l("select",{className:"form-control py-2 w-max",value:Gl,onChange:e=>Tl(Number(e.target.value)),children:[10,25,50].map(e=>l("option",{value:e,children:["Show ",e]},e,!0,{fileName:i,lineNumber:1770,columnNumber:33},void 0))},void 0,!1,{fileName:i,lineNumber:1764,columnNumber:25},void 0),l("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",l("span",{children:[Ue+1," of ",qe.length]},void 0,!0,{fileName:i,lineNumber:1777,columnNumber:29},void 0)]},void 0,!0,{fileName:i,lineNumber:1775,columnNumber:25},void 0)]},void 0,!0,{fileName:i,lineNumber:1763,columnNumber:21},void 0),l("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${fe?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>$e(0),disabled:!fe,children:l(P,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:i,lineNumber:1790,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:1784,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1783,columnNumber:25},void 0),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${fe?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Il(),disabled:!fe,children:"Prev"},void 0,!1,{fileName:i,lineNumber:1794,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1793,columnNumber:25},void 0),qe.map((e,a)=>l("li",{children:l("button",{href:"#","aria-current":"page",className:` ${a===Ue?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>$e(a),children:e+1},void 0,!1,{fileName:i,lineNumber:1805,columnNumber:33},void 0)},a,!1,{fileName:i,lineNumber:1804,columnNumber:29},void 0)),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${ve?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Bl(),disabled:!ve,children:"Next"},void 0,!1,{fileName:i,lineNumber:1819,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1818,columnNumber:25},void 0),l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{onClick:()=>$e(Ml-1),disabled:!ve,className:` ${ve?"":"opacity-50 cursor-not-allowed"}`,children:l(P,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:i,lineNumber:1835,columnNumber:33},void 0)},void 0,!1,{fileName:i,lineNumber:1829,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:1828,columnNumber:25},void 0)]},void 0,!0,{fileName:i,lineNumber:1782,columnNumber:21},void 0)]},void 0,!0,{fileName:i,lineNumber:1762,columnNumber:17},void 0)]},void 0,!0,{fileName:i,lineNumber:1479,columnNumber:13},void 0)},void 0,!1)};var je="D:\\Ahsan\\Rare\\Dev\\Rare_Frontend\\src\\pages\\customer-management\\AllCustomer.jsx";const fi=()=>{const[k,C]=u.exports.useState([]),[$,o]=u.exports.useState(!1),[A,t]=u.exports.useState(""),[h,d]=u.exports.useState("");u.exports.useEffect(()=>{o(!0),(async()=>{const m=await(await fetch("http://stg.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();C(m==null?void 0:m.users),t(m==null?void 0:m.users),d(m==null?void 0:m.users),o(!1)})()},[]);const r=()=>{o(!0),(async()=>{const m=await(await fetch("http://stg.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();C(m==null?void 0:m.users),t(m==null?void 0:m.users),d(m==null?void 0:m.users),o(!1)})()};function f(p){if(p){const g=h.filter(m=>{let v=!0;return p.firstname&&m.firstname!==p.firstname&&(v=!1),p.lastname&&m.lastname!==p.lastname&&(v=!1),p.email&&m.email!==p.email&&(v=!1),p.contactno&&m.contactno!==p.contactno&&(v=!1),p.passportidno&&m.passportidno!==p.passportidno&&(v=!1),p.nationalidno&&m.nationalidno!==p.nationalidno&&(v=!1),p.employee_email&&m.employee_email!==p.employee_email&&(v=!1),v});C(g),o(!1)}else C(h)}const N=async()=>{C(h),o(!1)};return l(_,{children:$===!1&&(h==null?void 0:h.length)?l("div",{className:" space-y-5",children:l(wl,{pagelink:"/add-customer",linktitle:"Add new Customer",title:"All Customer",allCustomers:k,forFilterData:A,onDataUpdate:r,handleFilterSearch:f,handleClearFilter:N},void 0,!1,{fileName:je,lineNumber:96,columnNumber:25},void 0)},void 0,!1,{fileName:je,lineNumber:95,columnNumber:21},void 0):l(Xe,{},void 0,!1,{fileName:je,lineNumber:97,columnNumber:30},void 0)},void 0,!1)};export{fi as default};
