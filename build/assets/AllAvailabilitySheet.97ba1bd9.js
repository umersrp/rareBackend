import{R as fe,j as l,F as g,bK as Ve,r as x,O as Ll,P as Bl,b as w,e as Qe,G as El,I as G,ap as V,bO as Ke,T as pe,L as Je,c1 as Ul,c2 as ue,bM as Ol}from"./index.44d7a5c5.js";import{G as Fl}from"./GlobalFilter.cd26253e.js";import{B as Tl}from"./Button.3c8dc06b.js";import{M as Xl}from"./Modal.439a9f5a.js";var n="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\property-management\\avaiblity-sheet\\AvailabilitySheetTable.jsx";const ql=fe.forwardRef(({indeterminate:M,...y},L)=>{const H=fe.useRef(),A=L||H;return fe.useEffect(()=>{A.current.indeterminate=M},[A,M]),l(g,{children:l("input",{type:"checkbox",ref:A,...y,className:"table-checkbox"},void 0,!1,{fileName:n,lineNumber:34,columnNumber:17},void 0)},void 0,!1)}),Q={option:(M,y)=>({...M,fontSize:"14px"})},Yl=({showModal:M,handleClose:y,handleDeleteData:L,dataIdHai:H,deleteLoader:A})=>(console.log(H,"dataIdHai"),l("div",{className:"thumbnail-container",children:M&&l("div",{className:"modal-overlay-property",children:l("div",{className:"modal-new w-[800px]",children:[l("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:"Are You Sure you Want to Delete this Availability Sheet?"},void 0,!1,{fileName:n,lineNumber:60,columnNumber:29},void 0),l("img",{src:Ke,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:y},void 0,!1,{fileName:n,lineNumber:61,columnNumber:29},void 0)]},void 0,!0,{fileName:n,lineNumber:59,columnNumber:25},void 0),l("div",{className:"mb-[15px] relative",children:[l("div",{className:`${A===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn inline-flex justify-center btn-danger",onClick:()=>L(H),children:"Delete"},void 0,!1,{fileName:n,lineNumber:65,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:64,columnNumber:29},void 0),A===!0?l("div",{className:" absolute top-[0] x-axis-center w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"},void 0,!1,{fileName:n,lineNumber:70,columnNumber:41},void 0)},void 0,!1,{fileName:n,lineNumber:69,columnNumber:37},void 0):null]},void 0,!0,{fileName:n,lineNumber:63,columnNumber:25},void 0)]},void 0,!0,{fileName:n,lineNumber:58,columnNumber:21},void 0)},void 0,!1,{fileName:n,lineNumber:57,columnNumber:17},void 0)},void 0,!1,{fileName:n,lineNumber:55,columnNumber:9},void 0)),zl=({showModal:M,handleClose:y,deleteLoader:L,multiModalHeading:H,handlepropertystatusChange:A})=>l("div",{className:"thumbnail-container",children:M&&l("div",{className:"modal-overlay-property",children:l("div",{className:"modal-new w-[800px]",children:[l("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[l("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Unlist ${H}`},void 0,!1,{fileName:n,lineNumber:88,columnNumber:29},void 0),l("img",{src:Ke,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:y},void 0,!1,{fileName:n,lineNumber:89,columnNumber:29},void 0)]},void 0,!0,{fileName:n,lineNumber:87,columnNumber:25},void 0),l("div",{className:"mb-[15px] relative",children:[l("div",{className:`${L===!0?"opacity-[0.7]":""}`,children:l("button",{className:"btn btn inline-flex justify-center btn-danger",onClick:A,children:"Yes"},void 0,!1,{fileName:n,lineNumber:93,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:92,columnNumber:29},void 0),L===!0?l("div",{className:" absolute top-[0] x-axis-center w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:l("div",{className:"loader-spiner"},void 0,!1,{fileName:n,lineNumber:98,columnNumber:41},void 0)},void 0,!1,{fileName:n,lineNumber:97,columnNumber:37},void 0):null]},void 0,!0,{fileName:n,lineNumber:91,columnNumber:25},void 0)]},void 0,!0,{fileName:n,lineNumber:86,columnNumber:21},void 0)},void 0,!1,{fileName:n,lineNumber:85,columnNumber:17},void 0)},void 0,!1,{fileName:n,lineNumber:83,columnNumber:9},void 0),Gl=({title:M,allCustomers:y,handleDataUpdate:L,AllProperty:H,ForRent:A,ForSale:$,ForShortTerm:B})=>{var Xe,qe,Ye;const ce=localStorage.getItem("isAuth"),W=JSON.parse(ce),{data:P}=Ve(W==null?void 0:W.roleid),[oe,J]=x.exports.useState(!1),[de,re]=x.exports.useState(!1),[me,K]=x.exports.useState(""),[Z,ee]=x.exports.useState(""),[ge,Y]=x.exports.useState(!1),[c,U]=x.exports.useState(""),[C,le]=x.exports.useState(""),[ye,ae]=x.exports.useState(!1),R=e=>{const{name:a,value:i}=e.target;U({...c,[a]:i})},[xe,E]=x.exports.useState(""),[ne,Re]=x.exports.useState(!1),We=async(e,a)=>{re(!0),K(e),ee(a),Y(!1)},[Ze]=Ll(),[ke]=Bl(),we=async e=>{try{Y(!0);const a=new FormData;a.append("_id",Z==null?void 0:Z.porpertyid),a.append("unlisted",!1),a.append("is_available",!1),a.append("available_for",""),a.append("available_id","000000000000000000000000"),await Ze(a),await ke({_id:e,softdelete:!0}),L(),re(!1),Y(!1)}catch(a){console.log(a,"error")}},[j,el]=x.exports.useState("Available Property"),[_e,I]=x.exports.useState([]),Se=[{value:"Available Property",label:"Available Property"},{value:"For Sale",label:"For Sale"},{value:"For Rent",label:"For Rent"},{value:"Short Term",label:"Short Term"},{value:"All Property",label:"All Property"}];x.exports.useEffect(()=>{j==="Available Property"?(I(y),E(y)):j==="For Sale"?(I($),E($)):j==="For Rent"?(I(A),E(A)):j==="Short Term"?(I(B),E(B)):j==="All Property"&&(I(H),E(H))},[j,y,$,A,H]);const[ll,be]=x.exports.useState(""),[Ae,Ne]=x.exports.useState(),al=(e,a,i,u)=>{be(e),J(!0),K(i),ee(a),Y(!1),Ne(u)},nl=async()=>{let e=[];C.multivaluation&&Array.isArray(C.multivaluation)&&(e=[...C.multivaluation]);const a=e[Ae]||{};e[Ae]={...a,unlisted:!0,unlist_date:new Date};const i={...C,multivaluation:e};try{Y(!0),await ke(i),L(),setTimeout(()=>{J(!1),Y(!1)},1500)}catch(u){console.log(u,"error")}},Ce=()=>{J(!1),be(""),K(""),ee(""),Ne(),le(""),ae(!1)},il=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:a})=>l("span",{children:a.indexOf(e)+1},void 0,!1,{fileName:n,lineNumber:277,columnNumber:24},void 0)},{Header:"Listed for",accessor:"propertystatus",Cell:e=>{var u,d,N,m,b,o,r,v,f,p,h,s,t,D,O,F,T,X,q;let a;((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)!=="Multiple"?a=(N=e==null?void 0:e.cell)==null?void 0:N.value:a="Not Available";const i=(k,_,S,z,se)=>{se===!1&&(be(k),J(!0),K(S),ee(_),le(_),Y(!1),Ne(z))};return l(g,{children:((r=(o=(b=(m=e==null?void 0:e.cell)==null?void 0:m.row)==null?void 0:b.original)==null?void 0:o.multivaluation)==null?void 0:r.length)&&((p=(f=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:f.original)==null?void 0:p.multi_propertyvaluation)&&((h=e==null?void 0:e.cell)==null?void 0:h.value)==="Multiple"?l(g,{children:(O=(D=(t=(s=e==null?void 0:e.cell)==null?void 0:s.row)==null?void 0:t.original)==null?void 0:D.multivaluation)==null?void 0:O.map((k,_)=>l("span",{className:`block w-full ${_!==0?"mt-[10px]":""} cursor-pointer`,children:l("span",{onClick:()=>{var S,z,se,ze,Ge;return i(k==null?void 0:k.propertystatus,(z=(S=e==null?void 0:e.cell)==null?void 0:S.row)==null?void 0:z.original,(Ge=(ze=(se=e==null?void 0:e.cell)==null?void 0:se.row)==null?void 0:ze.original)==null?void 0:Ge._id,_,k==null?void 0:k.unlisted)},className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(k==null?void 0:k.propertystatus)&&(k==null?void 0:k.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:"Listed for "+(k==null?void 0:k.propertystatus)},void 0,!1,{fileName:n,lineNumber:365,columnNumber:53},void 0)},_+1,!1,{fileName:n,lineNumber:364,columnNumber:49},void 0))},void 0,!1):l("span",{className:"block w-full",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((F=e==null?void 0:e.cell)==null?void 0:F.value)&&((q=(X=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:X.original)==null?void 0:q.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:a!=="Not Available"?"Listed for "+a:a},void 0,!1,{fileName:n,lineNumber:379,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:378,columnNumber:33},void 0)},void 0,!1)}},{Header:"listed / unlisted",accessor:"unlisted",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h,s;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((t,D)=>l(g,{children:(t==null?void 0:t.propertystatus)==="Rent"?l(g,{children:[(t==null?void 0:t.contract_enddate)&&new Date(t==null?void 0:t.contract_enddate)>new Date&&(t==null?void 0:t.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(t==null?void 0:t.unlisted)===!1?"bg-info-500 text-info-500":"text-danger-500 bg-danger-500"} 
                                                     ${(t==null?void 0:t.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"upcoming"},void 0,!1,{fileName:n,lineNumber:465,columnNumber:77},void 0)},D+1,!1,{fileName:n,lineNumber:464,columnNumber:73},void 0):null,(t==null?void 0:t.contract_enddate)&&new Date(t==null?void 0:t.contract_enddate)<=new Date&&(t==null?void 0:t.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(t==null?void 0:t.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(t==null?void 0:t.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"},void 0,!1,{fileName:n,lineNumber:478,columnNumber:77},void 0)},D+1,!1,{fileName:n,lineNumber:477,columnNumber:73},void 0):null,((t==null?void 0:t.contract_enddate)===""||!(t!=null&&t.contract_enddate))&&(t==null?void 0:t.unlisted)===!1?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(t==null?void 0:t.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(t==null?void 0:t.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"listed"},void 0,!1,{fileName:n,lineNumber:491,columnNumber:77},void 0)},D+1,!1,{fileName:n,lineNumber:490,columnNumber:73},void 0):null,(new Date(t==null?void 0:t.contract_enddate)<=new Date||new Date(t==null?void 0:t.contract_enddate)>new Date||(t==null?void 0:t.contract_enddate)===""||!(t!=null&&t.contract_enddate))&&(t==null?void 0:t.unlisted)===!0?l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(t==null?void 0:t.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(t==null?void 0:t.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:"unlisted"},void 0,!1,{fileName:n,lineNumber:504,columnNumber:77},void 0)},D+1,!1,{fileName:n,lineNumber:503,columnNumber:73},void 0):null]},void 0,!0):l("span",{className:`block w-full ${D!==0?"mt-[10px]":""} `,children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(t==null?void 0:t.unlisted)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                                     ${(t==null?void 0:t.unlisted)===!0?"text-danger-500 bg-danger-500":""}`,children:(t==null?void 0:t.unlisted)===!0?"Unlisted":"listed"},void 0,!1,{fileName:n,lineNumber:516,columnNumber:65},void 0)},D+1,!1,{fileName:n,lineNumber:515,columnNumber:61},void 0)},void 0,!1))},void 0,!1):l("span",{className:"block w-full",children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((p=e==null?void 0:e.cell)==null?void 0:p.value)===!1?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} 
                                     ${((h=e==null?void 0:e.cell)==null?void 0:h.value)===!0?"text-danger-500 bg-danger-500":""}`,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)===!0?"Unlisted":"listed"},void 0,!1,{fileName:n,lineNumber:532,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:531,columnNumber:33},void 0)},void 0,!1)}},{Header:"transaction status",accessor:"transaction_status",Cell:e=>{var a,i,u;return l("span",{className:"block w-full",children:l("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((a=e==null?void 0:e.cell)==null?void 0:a.value)==="successful"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:(i=e==null?void 0:e.cell)!=null&&i.value?(u=e==null?void 0:e.cell)==null?void 0:u.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:553,columnNumber:25},void 0)},void 0,!1,{fileName:n,lineNumber:552,columnNumber:21},void 0)}},{Header:"Property Unit No",accessor:"unitnumber",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:565,columnNumber:24},void 0)}},{Header:"property reference No",accessor:"property_reference",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:572,columnNumber:24},void 0)}},{Header:"Assigned Agent",accessor:"employee_email",Cell:e=>{var i,u,d,N,m,b,o,r,v,f,p,h,s,t,D,O,F,T,X,q,k;let a;return((d=(u=(i=e==null?void 0:e.cell)==null?void 0:i.row)==null?void 0:u.original)==null?void 0:d.multivaluation)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)!=="Multiple"&&((o=e==null?void 0:e.cell)==null?void 0:o.value)&&((r=e==null?void 0:e.cell)==null?void 0:r.value)!==void 0&&((v=e==null?void 0:e.cell)==null?void 0:v.value)!=="undefined"?a=(f=e==null?void 0:e.cell)==null?void 0:f.value:a="Not Assigned",l(g,{children:((t=(s=(h=(p=e==null?void 0:e.cell)==null?void 0:p.row)==null?void 0:h.original)==null?void 0:s.multivaluation)==null?void 0:t.length)&&((F=(O=(D=e==null?void 0:e.cell)==null?void 0:D.row)==null?void 0:O.original)==null?void 0:F.propertystatus)==="Multiple"?l(g,{children:(k=(q=(X=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:X.original)==null?void 0:q.multivaluation)==null?void 0:k.map((_,S)=>l("span",{className:`block w-full ${S!==0?"mt-[10px]":""} normal-case`,children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${(_==null?void 0:_.employee_email)!==""&&(_==null?void 0:_.employee_email)?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:_!=null&&_.employee_email?_==null?void 0:_.employee_email:"Not Assigned"},void 0,!1,{fileName:n,lineNumber:595,columnNumber:53},void 0)},S+1,!1,{fileName:n,lineNumber:594,columnNumber:49},void 0))},void 0,!1):l("span",{className:"block w-full normal-case",children:l("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${a&&a!=="Not Assigned"?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:a},void 0,!1,{fileName:n,lineNumber:609,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:608,columnNumber:33},void 0)},void 0,!1)}},{Header:"project name",accessor:"project_name",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:627,columnNumber:24},void 0)}},{Header:"building name",accessor:"building_name",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:634,columnNumber:24},void 0)}},{Header:"community name",accessor:"community_name",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:641,columnNumber:24},void 0)}},{Header:"subtype name",accessor:"subtype_name",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:648,columnNumber:24},void 0)}},{Header:"balcony",accessor:"balcony",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:655,columnNumber:24},void 0)}},{Header:"floor",accessor:"floor",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:662,columnNumber:24},void 0)}},{Header:"furnished",accessor:"furnished",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:669,columnNumber:24},void 0)}},{Header:"halfbath room",accessor:"halfbathroom",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:676,columnNumber:24},void 0)}},{Header:"fullbath room",accessor:"nobathroom",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:683,columnNumber:24},void 0)}},{Header:"plot size",accessor:"plotsize",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:690,columnNumber:24},void 0)}},{Header:"kitchen",accessor:"kitchen",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:697,columnNumber:24},void 0)}},{Header:"no. of parking",accessor:"noparking",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:704,columnNumber:24},void 0)}},{Header:"property type",accessor:"propertytype",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:711,columnNumber:24},void 0)}},{Header:"build up area",accessor:"builduparea",Cell:e=>{var a,i,u,d,N,m,b,o,r;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?((i=e==null?void 0:e.cell)==null?void 0:i.value)+" "+(((u=e==null?void 0:e.cell)==null?void 0:u.value)&&((m=(N=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:N.original)==null?void 0:m.measure_units)?(r=(o=(b=e==null?void 0:e.cell)==null?void 0:b.row)==null?void 0:o.original)==null?void 0:r.measure_units:""):"Not Available"},void 0,!1,{fileName:n,lineNumber:719,columnNumber:24},void 0)}},{Header:"Tenancy Contract Start Date",accessor:"contract_startdate",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.contract_startdate?new Date(s==null?void 0:s.contract_startdate).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:736,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:735,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?new Date((h=e==null?void 0:e.cell)==null?void 0:h.value).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:742,columnNumber:33},void 0)},void 0,!1)}},{Header:"Tenancy Contract End Date",accessor:"contract_enddate",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.contract_enddate?new Date(s==null?void 0:s.contract_enddate).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:762,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:761,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?new Date((h=e==null?void 0:e.cell)==null?void 0:h.value).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:768,columnNumber:33},void 0)},void 0,!1)}},{Header:"Tenancy Rental Amount",accessor:"rental_amount",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:(s==null?void 0:s.rental_amount)&&(s==null?void 0:s.rental_amount)!==""?l("span",{children:typeof(s==null?void 0:s.rental_amount)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof(s==null?void 0:s.rental_amount)=="string"?parseFloat(s==null?void 0:s.rental_amount.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"},void 0,!1,{fileName:n,lineNumber:790,columnNumber:61},void 0):l("span",{children:"Not Available"},void 0,!1,{fileName:n,lineNumber:800,columnNumber:61},void 0)},t+1,!1,{fileName:n,lineNumber:787,columnNumber:49},void 0))},void 0,!1):l("span",{children:typeof((p=e==null?void 0:e.cell)==null?void 0:p.value)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof((h=e==null?void 0:e.cell)==null?void 0:h.value)=="string"?parseFloat(e.cell.value.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"},void 0,!1,{fileName:n,lineNumber:807,columnNumber:33},void 0)},void 0,!1)}},{Header:"tenant name",accessor:"tenant_name",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_name?s==null?void 0:s.tenant_name:"Not Available"},void 0,!1,{fileName:n,lineNumber:836,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:835,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?(h=e==null?void 0:e.cell)==null?void 0:h.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:842,columnNumber:33},void 0)},void 0,!1)}},{Header:"tenant email",accessor:"tenat_email",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""} normal-case`,children:l("span",{children:s!=null&&s.tenat_email?s==null?void 0:s.tenat_email:"Not Available"},void 0,!1,{fileName:n,lineNumber:861,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:860,columnNumber:49},void 0))},void 0,!1):l("span",{className:"normal-case",children:(p=e==null?void 0:e.cell)!=null&&p.value?(h=e==null?void 0:e.cell)==null?void 0:h.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:867,columnNumber:33},void 0)},void 0,!1)}},{Header:"tenant passport no",accessor:"tenant_passport",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_passport?s==null?void 0:s.tenant_passport:"Not Available"},void 0,!1,{fileName:n,lineNumber:886,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:885,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?(h=e==null?void 0:e.cell)==null?void 0:h.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:892,columnNumber:33},void 0)},void 0,!1)}},{Header:"tenant nationality",accessor:"tenant_nationality",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_nationality?s==null?void 0:s.tenant_nationality:"Not Available"},void 0,!1,{fileName:n,lineNumber:911,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:910,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?(h=e==null?void 0:e.cell)==null?void 0:h.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:917,columnNumber:33},void 0)},void 0,!1)}},{Header:"tenant phone number",accessor:"tenant_mobilenumber",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h;return l(g,{children:((d=(u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)==null?void 0:d.length)&&((b=(m=(N=e==null?void 0:e.cell)==null?void 0:N.row)==null?void 0:m.original)==null?void 0:b.propertystatus)==="Multiple"?l(g,{children:(f=(v=(r=(o=e==null?void 0:e.cell)==null?void 0:o.row)==null?void 0:r.original)==null?void 0:v.multivaluation)==null?void 0:f.map((s,t)=>l("span",{className:`block w-full ${t!==0?"mt-[10px]":""}`,children:l("span",{children:s!=null&&s.tenant_mobilenumber?s==null?void 0:s.tenant_mobilenumber:"Not Available"},void 0,!1,{fileName:n,lineNumber:936,columnNumber:53},void 0)},t+1,!1,{fileName:n,lineNumber:935,columnNumber:49},void 0))},void 0,!1):l("span",{children:(p=e==null?void 0:e.cell)!=null&&p.value?(h=e==null?void 0:e.cell)==null?void 0:h.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:942,columnNumber:33},void 0)},void 0,!1)}},{Header:"Rent / Sold amount",accessor:"propertyvaluation",Cell:e=>{var a,i,u,d,N,m,b,o,r,v,f,p,h,s,t,D,O,F,T,X,q,k,_;return((u=(i=(a=e==null?void 0:e.cell)==null?void 0:a.row)==null?void 0:i.original)==null?void 0:u.multivaluation)&&((m=(N=(d=e==null?void 0:e.cell)==null?void 0:d.row)==null?void 0:N.original)==null?void 0:m.propertystatus)!=="Multiple"&&((b=e==null?void 0:e.cell)==null?void 0:b.value)&&((o=e==null?void 0:e.cell)==null?void 0:o.value)!==void 0&&((r=e==null?void 0:e.cell)==null?void 0:r.value)!=="undefined"&&((v=e==null?void 0:e.cell)==null||v.value),l(g,{children:((s=(h=(p=(f=e==null?void 0:e.cell)==null?void 0:f.row)==null?void 0:p.original)==null?void 0:h.multivaluation)==null?void 0:s.length)&&((O=(D=(t=e==null?void 0:e.cell)==null?void 0:t.row)==null?void 0:D.original)==null?void 0:O.propertystatus)==="Multiple"?l(g,{children:(q=(X=(T=(F=e==null?void 0:e.cell)==null?void 0:F.row)==null?void 0:T.original)==null?void 0:X.multivaluation)==null?void 0:q.map((S,z)=>l("span",{className:`block w-full ${z!==0?"mt-[10px]":""} normal-case`,children:l("span",{children:typeof(S==null?void 0:S.propertyvaluation)=="number"?(S==null?void 0:S.propertyvaluation.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":typeof(S==null?void 0:S.propertyvaluation)=="string"?parseFloat(S==null?void 0:S.propertyvaluation.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"},void 0,!1,{fileName:n,lineNumber:968,columnNumber:53},void 0)},z+1,!1,{fileName:n,lineNumber:967,columnNumber:49},void 0))},void 0,!1):l("span",{children:typeof((k=e==null?void 0:e.cell)==null?void 0:k.value)=="number"?e.cell.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":typeof((_=e==null?void 0:e.cell)==null?void 0:_.value)=="string"?parseFloat(e.cell.value.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"Not Available"},void 0,!1,{fileName:n,lineNumber:985,columnNumber:33},void 0)},void 0,!1)}},{Header:"listing source",accessor:"listingsource",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1005,columnNumber:24},void 0)}},{Header:"listing type",accessor:"listingtype",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1012,columnNumber:24},void 0)}},{Header:"maintenance done",accessor:"maintenance",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1019,columnNumber:24},void 0)}},{Header:"no. of keys",accessor:"noof_key",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1026,columnNumber:24},void 0)}},{Header:"Key Location",accessor:"key_location",Cell:e=>{var a,i,u,d;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?((u=(i=e==null?void 0:e.cell)==null?void 0:i.value)==null?void 0:u.slice(0,25))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>25?"...":""):"Not Available"},void 0,!1,{fileName:n,lineNumber:1033,columnNumber:24},void 0)}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var a,i;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1040,columnNumber:24},void 0)}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((i=e==null?void 0:e.cell)==null?void 0:i.value).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:1047,columnNumber:24},void 0)}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var a,i;return l("span",{className:"normal-case",children:(a=e==null?void 0:e.cell)!=null&&a.value?(i=e==null?void 0:e.cell)==null?void 0:i.value:"Not Available"},void 0,!1,{fileName:n,lineNumber:1054,columnNumber:24},void 0)}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var a,i;return l("span",{children:(a=e==null?void 0:e.cell)!=null&&a.value?new Date((i=e==null?void 0:e.cell)==null?void 0:i.value).toDateString():"Not Available"},void 0,!1,{fileName:n,lineNumber:1061,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var b,o,r;const a=localStorage.getItem("isAuth"),i=JSON.parse(a),{data:u}=Ve(i==null?void 0:i.roleid);if(!u)return null;const d=(u==null?void 0:u.readavailability)===!0,N=(u==null?void 0:u.updateavailability)===!0,m=(u==null?void 0:u.deleteavailability)===!0;return l("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[d&&l(pe,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:l(Je,{className:"action-btn",to:`/view-availability-sheet/${e==null?void 0:e.cell.value}`,type:"button",children:l(G,{icon:"heroicons:eye"},void 0,!1,{fileName:n,lineNumber:1088,columnNumber:41},void 0)},void 0,!1,{fileName:n,lineNumber:1087,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:1086,columnNumber:33},void 0),((r=(o=(b=e==null?void 0:e.cell)==null?void 0:b.row)==null?void 0:o.original)==null?void 0:r.unlisted)===!1&&N&&l(pe,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:l(Je,{to:`/update-availability-sheet/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:l(G,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:n,lineNumber:1097,columnNumber:41},void 0)},void 0,!1,{fileName:n,lineNumber:1096,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:1095,columnNumber:33},void 0),m&&l(pe,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:l("button",{className:"action-btn",type:"button",onClick:()=>{var v,f;return We(e==null?void 0:e.cell.value,(f=(v=e==null?void 0:e.cell)==null?void 0:v.row)==null?void 0:f.original)},children:l(G,{icon:"heroicons:trash"},void 0,!1,{fileName:n,lineNumber:1112,columnNumber:41},void 0)},void 0,!1,{fileName:n,lineNumber:1111,columnNumber:37},void 0)},void 0,!1,{fileName:n,lineNumber:1104,columnNumber:33},void 0)]},void 0,!0,{fileName:n,lineNumber:1083,columnNumber:21},void 0)}}],tl=x.exports.useMemo(()=>il,[]),sl=x.exports.useMemo(()=>_e);function ul(e){if(e){const a=xe.filter(i=>{let u=!0;return e.buildingid&&i.buildingid!==e.buildingid&&(u=!1),e.communityid&&i.communityid!==e.communityid&&(u=!1),e.customerid&&i.customerid!==e.customerid&&(u=!1),e.projectnameid&&i.projectnameid!==e.projectnameid&&(u=!1),e.unitnumber&&i.unitnumber!==e.unitnumber&&(u=!1),e.employeeid&&i.employeeid!==e.employeeid&&(u=!1),e.property_owner_id&&i.property_owner_id!==e.property_owner_id&&(u=!1),u});I(a)}else I(xe)}const cl=async()=>{j==="Available Property"?(I(y),E(y)):j==="For Sale"?(I($),E($)):j==="For Rent"?(I(A),E(A)):j==="Short Term"?(I(B),E(B)):j==="All Property"&&(I(H),E(H)),U("")},[De,He]=x.exports.useState(!1);x.exports.useEffect(()=>{ae(!1),le(""),He(!1)},[_e]);const ol=w.exports.useTable({columns:tl,data:sl,initialState:{pageIndex:0,pageSize:50}},w.exports.useGlobalFilter,w.exports.useSortBy,w.exports.usePagination,w.exports.useRowSelect,e=>{e.visibleColumns.push(a=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:i})=>l("div",{children:l(ql,{...i()},void 0,!1,{fileName:n,lineNumber:1218,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:1217,columnNumber:25},void 0),Cell:({row:i})=>{var b;const[u,d]=x.exports.useState(""),N=o=>{o!=null&&o._id?ae(!0):ae(!1),d(r=>r===o?"":o),le(r=>r===o?"":o)};let m;return x.exports.useEffect(()=>{var o;He(((o=i==null?void 0:i.original)==null?void 0:o._id)===(u==null?void 0:u._id)),De===!0?m=!0:De===!1&&(m=!1)},[(b=i==null?void 0:i.original)==null?void 0:b._id,u==null?void 0:u._id]),l("div",{children:l("input",{type:"checkbox",...i.getToggleRowSelectedProps(),checked:m,onChange:()=>N(i.original),className:"table-checkbox"},void 0,!1,{fileName:n,lineNumber:1257,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:1256,columnNumber:29},void 0)}},...a])}),{getTableProps:dl,getTableBodyProps:rl,headerGroups:ml,footerGroups:Vl,page:bl,nextPage:Nl,previousPage:vl,canNextPage:ie,canPreviousPage:te,pageOptions:Pe,state:fl,gotoPage:ve,pageCount:pl,setPageSize:hl,setGlobalFilter:gl,prepareRow:yl}=ol,{globalFilter:xl,pageIndex:$e,pageSize:kl}=fl,_l={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Sl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Al={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#5743BE"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Cl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},je=A==null?void 0:A.length,Ie=$==null?void 0:$.length,Me=B==null?void 0:B.length,Le=y.filter(e=>(e==null?void 0:e.unlisted)===!1).length,Dl=[{name:_l,title:"Total Property Available",count:Le||0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:Sl,title:"Property Available for Rent",count:je||0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"},{name:Al,title:"Property Available for Sale",count:Ie||0,bg:"bg-[#EAE5FF] dark:bg-slate-900	"},{name:Cl,title:"Total Property Short Term",count:Me||0,bg:"bg-[#E5F9FF] dark:bg-slate-900	"}],Hl=y.filter(e=>e.unitnumber!==void 0),Be=[...new Set(Hl.map(e=>e.unitnumber))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Pl=y.filter(e=>e.community_name!==void 0),Ee=[...[...new Set(Pl.map(e=>e.communityid))].map(e=>{const a=y.find(i=>i.communityid===e);return a?{label:a.community_name,value:a.communityid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),$l=y.filter(e=>e.project_name!==void 0),Ue=[...[...new Set($l.map(e=>e.projectnameid))].map(e=>{const a=y.find(i=>i.projectnameid===e);return a?{label:a.project_name,value:a.projectnameid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),jl=y.filter(e=>e.building_name!==void 0),Oe=[...[...new Set(jl.map(e=>e.buildingid))].map(e=>{const a=y.find(i=>i.buildingid===e);return a?{label:a.building_name,value:a.buildingid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),Il=y.filter(e=>e.employee_email!==void 0),Fe=[...[...new Set(Il.map(e=>e.employeeid))].map(e=>{const a=y.find(i=>i.employeeid===e);return a?{label:a.employee_email,value:a.employeeid}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label)),Ml=y==null?void 0:y.filter(e=>(e==null?void 0:e.property_owner_name)!==void 0),Te=[...[...new Set(Ml.map(e=>e==null?void 0:e.property_owner_id))].sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})).map(e=>{const a=y.find(i=>i.property_owner_id===e);return a?{label:a==null?void 0:a.property_owner_name,value:a==null?void 0:a.property_owner_id}:null}).filter(Boolean)].sort((e,a)=>e.label.localeCompare(a.label));return l(g,{children:l(Qe,{children:[l("div",{className:"flex justify-between items-center mb-6",children:l("h4",{className:"card-title",children:M},void 0,!1,{fileName:n,lineNumber:1701,columnNumber:21},void 0)},void 0,!1,{fileName:n,lineNumber:1700,columnNumber:17},void 0),l("div",{className:"grid grid-cols-12 gap-5 mb-5",children:l("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:l(Qe,{bodyClass:"p-4",children:l("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 col-span-1 gap-4",children:l(El,{statistics:Dl},void 0,!1,{fileName:n,lineNumber:1712,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:1711,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:1710,columnNumber:25},void 0)},void 0,!1,{fileName:n,lineNumber:1709,columnNumber:21},void 0)},void 0,!1,{fileName:n,lineNumber:1708,columnNumber:17},void 0),l("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[(P==null?void 0:P.updateavailability)===!0?l(g,{children:[C&&(C==null?void 0:C.unlisted)===!1&&ye===!0&&!((Xe=C==null?void 0:C.multivaluation)!=null&&Xe.length)?l(g,{children:l(Xl,{title:"Do you want to Unlist this property?",label:"Unlist",labelClass:"btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,footerContent:l(Tl,{text:"Accept",className:"btn-dark ",onClick:()=>{alert("use Control Modal")}},void 0,!1,{fileName:n,lineNumber:1730,columnNumber:53},void 0),alldata:C,onDataUpdate:L,unlisted:!0,children:l("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:n,lineNumber:1742,columnNumber:49},void 0)},void 0,!1,{fileName:n,lineNumber:1724,columnNumber:45},void 0)},void 0,!1):null,C&&ye===!0&&((qe=C==null?void 0:C.multivaluation)==null?void 0:qe.length)?l(g,{children:(Ye=C==null?void 0:C.multivaluation)==null?void 0:Ye.map((e,a)=>l(g,{children:(e==null?void 0:e.unlisted)===!1?l("button",{type:"button",class:"btn btn-dark py-[8px] px-[24px] rounded-[5px]",onClick:()=>al(e==null?void 0:e.propertystatus,e,e==null?void 0:e._id,a),children:["Unlist ",e==null?void 0:e.propertystatus]},a+1,!0,{fileName:n,lineNumber:1757,columnNumber:69},void 0):null},void 0,!1))},void 0,!1):null,l(g,{},void 0,!1)]},void 0,!0):null,l("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>Re(!ne),children:[ne===!0?l(G,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:n,lineNumber:1800,columnNumber:33},void 0):l(G,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:n,lineNumber:1801,columnNumber:33},void 0),l("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:n,lineNumber:1803,columnNumber:25},void 0)]},void 0,!0,{fileName:n,lineNumber:1796,columnNumber:21},void 0),l("div",{className:"w-[180px]",children:l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Se,value:Se.filter(function(e){return e.value===j}),onChange:e=>{el(e==null?void 0:e.value)},styles:Q,id:"hh"},void 0,!1,{fileName:n,lineNumber:1806,columnNumber:25},void 0)},void 0,!1,{fileName:n,lineNumber:1805,columnNumber:21},void 0),l(Fl,{filter:xl,setFilter:gl},void 0,!1,{fileName:n,lineNumber:1821,columnNumber:21},void 0)]},void 0,!0,{fileName:n,lineNumber:1717,columnNumber:17},void 0),l("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."},void 0,!1,{fileName:n,lineNumber:1825,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Be,value:Be.filter(function(e){if((c==null?void 0:c.unitnumber)!=="")return e.value===(c==null?void 0:c.unitnumber)}),onChange:e=>{R({target:{name:"unitnumber",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1828,columnNumber:25},void 0),c!=null&&c.unitnumber?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,unitnumber:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1847,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1824,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"},void 0,!1,{fileName:n,lineNumber:1853,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ee,value:Ee.filter(function(e){if((c==null?void 0:c.communityid)!=="")return e.value===(c==null?void 0:c.communityid)}),onChange:e=>{R({target:{name:"communityid",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1856,columnNumber:25},void 0),c!=null&&c.communityid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,communityid:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1875,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1852,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"},void 0,!1,{fileName:n,lineNumber:1881,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Ue,value:Ue.filter(function(e){if((c==null?void 0:c.projectnameid)!=="")return e.value===(c==null?void 0:c.projectnameid)}),onChange:e=>{R({target:{name:"projectnameid",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1884,columnNumber:25},void 0),c!=null&&c.projectnameid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,projectnameid:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1903,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1880,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"},void 0,!1,{fileName:n,lineNumber:1909,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Oe,value:Oe.filter(function(e){if((c==null?void 0:c.buildingid)!=="")return e.value===(c==null?void 0:c.buildingid)}),onChange:e=>{R({target:{name:"buildingid",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1912,columnNumber:25},void 0),c!=null&&c.buildingid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,buildingid:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1931,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1908,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Assign Agent Email"},void 0,!1,{fileName:n,lineNumber:1937,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Fe,value:Fe.filter(function(e){if((c==null?void 0:c.employeeid)!=="")return e.value===(c==null?void 0:c.employeeid)}),onChange:e=>{R({target:{name:"employeeid",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1940,columnNumber:25},void 0),c!=null&&c.employeeid?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,employeeid:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1959,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1936,columnNumber:21},void 0),l("div",{children:[l("label",{htmlFor:" hh",className:"form-label ",children:"Property Owner"},void 0,!1,{fileName:n,lineNumber:1965,columnNumber:25},void 0),l(V,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:Te,value:Te.filter(function(e){if((c==null?void 0:c.property_owner_id)!=="")return e.value===(c==null?void 0:c.property_owner_id)}),onChange:e=>{R({target:{name:"property_owner_id",value:e.value}})},styles:Q,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:n,lineNumber:1968,columnNumber:25},void 0),c!=null&&c.property_owner_id?l("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>U({...c,property_owner_id:""}),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1987,columnNumber:33},void 0):null]},void 0,!0,{fileName:n,lineNumber:1964,columnNumber:21},void 0)]},void 0,!0,{fileName:n,lineNumber:1823,columnNumber:17},void 0),l("div",{className:`flex ${ne===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[l("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>cl(),children:"Clear filter"},void 0,!1,{fileName:n,lineNumber:1994,columnNumber:21},void 0),l("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>ul(c),children:"Search"},void 0,!1,{fileName:n,lineNumber:1995,columnNumber:21},void 0)]},void 0,!0,{fileName:n,lineNumber:1993,columnNumber:17},void 0),l(Yl,{showModal:de,handleClose:Ce,handleDeleteData:we,dataIdHai:me,deleteLoader:ge},void 0,!1,{fileName:n,lineNumber:1997,columnNumber:17},void 0),l(zl,{showModal:oe,handleClose:Ce,dataIdHai:me,deleteLoader:ge,multiModalHeading:ll,handlepropertystatusChange:nl},void 0,!1,{fileName:n,lineNumber:1998,columnNumber:17},void 0),l("div",{className:"overflow-x-auto -mx-6 mt-6",children:l("div",{className:"inline-block min-w-full align-middle",children:l("div",{className:" ",children:l("table",{className:"min-w-[150%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...dl,children:[l("thead",{className:"bg-slate-200 dark:bg-slate-700",children:ml.map(e=>l("tr",{...e.getHeaderGroupProps(),children:e.headers.map(a=>a.Header==="action"&&!((P==null?void 0:P.readavailability)===!0||(P==null?void 0:P.updateavailability)===!0||(P==null?void 0:P.deleteavailability)===!0)?l("th",{},void 0,!1,{fileName:n,lineNumber:2015,columnNumber:60},void 0):l("th",{...a.getHeaderProps(a.getSortByToggleProps()),scope:"col",className:"table-th",children:[a.render("Header"),l("span",{children:a.isSorted?a.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:n,lineNumber:2025,columnNumber:57},void 0)]},void 0,!0,{fileName:n,lineNumber:2019,columnNumber:53},void 0))},void 0,!1,{fileName:n,lineNumber:2008,columnNumber:41},void 0))},void 0,!1,{fileName:n,lineNumber:2006,columnNumber:33},void 0),l("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...rl,children:bl.map(e=>(yl(e),l("tr",{...e.getRowProps(),children:e.cells.map(a=>l("td",{...a.getCellProps(),className:"table-td",children:a.render("Cell")},void 0,!1,{fileName:n,lineNumber:2044,columnNumber:57},void 0))},void 0,!1,{fileName:n,lineNumber:2041,columnNumber:45},void 0)))},void 0,!1,{fileName:n,lineNumber:2034,columnNumber:33},void 0)]},void 0,!0,{fileName:n,lineNumber:2002,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:2001,columnNumber:25},void 0)},void 0,!1,{fileName:n,lineNumber:2e3,columnNumber:21},void 0)},void 0,!1,{fileName:n,lineNumber:1999,columnNumber:17},void 0),l("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[l("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[l("select",{className:"form-control py-2 w-max",value:kl,onChange:e=>hl(Number(e.target.value)),children:[10,25,50].map(e=>l("option",{value:e,children:["Show ",e]},e,!0,{fileName:n,lineNumber:2065,columnNumber:33},void 0))},void 0,!1,{fileName:n,lineNumber:2059,columnNumber:25},void 0),l("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",l("span",{children:[$e+1," of ",Pe.length]},void 0,!0,{fileName:n,lineNumber:2072,columnNumber:29},void 0)]},void 0,!0,{fileName:n,lineNumber:2070,columnNumber:25},void 0)]},void 0,!0,{fileName:n,lineNumber:2058,columnNumber:21},void 0),l("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ve(0),disabled:!te,children:l(G,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:n,lineNumber:2085,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:2079,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:2078,columnNumber:25},void 0),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>vl(),disabled:!te,children:"Prev"},void 0,!1,{fileName:n,lineNumber:2089,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:2088,columnNumber:25},void 0),Pe.map((e,a)=>l("li",{children:l("button",{href:"#","aria-current":"page",className:` ${a===$e?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>ve(a),children:e+1},void 0,!1,{fileName:n,lineNumber:2100,columnNumber:33},void 0)},a,!1,{fileName:n,lineNumber:2099,columnNumber:29},void 0)),l("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{className:` ${ie?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Nl(),disabled:!ie,children:"Next"},void 0,!1,{fileName:n,lineNumber:2114,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:2113,columnNumber:25},void 0),l("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:l("button",{onClick:()=>ve(pl-1),disabled:!ie,className:` ${ie?"":"opacity-50 cursor-not-allowed"}`,children:l(G,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:n,lineNumber:2130,columnNumber:33},void 0)},void 0,!1,{fileName:n,lineNumber:2124,columnNumber:29},void 0)},void 0,!1,{fileName:n,lineNumber:2123,columnNumber:25},void 0)]},void 0,!0,{fileName:n,lineNumber:2077,columnNumber:21},void 0)]},void 0,!0,{fileName:n,lineNumber:2057,columnNumber:17},void 0)]},void 0,!0,{fileName:n,lineNumber:1699,columnNumber:13},void 0)},void 0,!1)};var he="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\property-management\\avaiblity-sheet\\AllAvailabilitySheet.jsx";const ca=()=>{const[M,y]=x.exports.useState(!1),[L,H]=x.exports.useState(!1),[A,$]=x.exports.useState(!1),{data:B}=Ul(),{data:ce,isSuccess:W,refetch:P}=ue("?unlisted=false"),{data:oe}=ue("?propertystatus=Rent&unlisted=false"),{data:J}=ue("?propertystatus=Sale&unlisted=false"),{data:de}=ue("?propertystatus=Short Term&unlisted=false");return l(g,{children:A===!1&&W&&B?l("div",{className:" space-y-5",children:l(Gl,{AllProperty:B,ForRent:oe,ForSale:J,ForShortTerm:de,pagelink:"/add-availability-sheet",linktitle:"Add new Availability Sheet",title:"All Availability Sheet",allCustomers:ce,handleDataUpdate:async()=>{$(!0),y(!0);try{await P(),$(!1)}catch{H(!0)}y(!1)},handleDataAgain:async()=>{$(!0),y(!0);const Z=await(await fetch("http://dev-rare.srp.ai/rentpurchase")).json();setFetchData(Z),y(!1),$(!1)}},void 0,!1,{fileName:he,lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:he,lineNumber:48,columnNumber:11},void 0):l(Ol,{},void 0,!1,{fileName:he,lineNumber:50,columnNumber:20},void 0)},void 0,!1)};export{ca as default};
