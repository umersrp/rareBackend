import{bt as k,B as N,af as j,r as l,x as O,y as q,z as F,c as r,F as S,j as t,t as $,f as w,l as g,A as E,M as f,Q as v}from"./index.8a3fa8e4.js";const L=()=>{const{id:n}=k(),c=N(),m=j(),[e,d]=l.exports.useState(""),u=i=>{const{name:s,value:a}=i.target;d({...e,[s]:a})};l.exports.useEffect(()=>{(async()=>{if(n){const a=await(await fetch(`http://portals.rarehomesgroup.com/amenities/${n}`)).json();a&&d(a)}})()},[n]);const[o,b]=l.exports.useState("");let x={amenitiesname:"Amenities Name"};const y=O({amenitiesname:q().required(o)}).required(),{register:h,formState:{errors:B}}=F({resolver:E(y)}),p=()=>{let i=!1,s={amenitiesname:b};return s&&Object.keys(s).length&&Object.keys(s).map(a=>{s[a](""),e[a]||(s[a](x[a]+" is required"),i=!0)}),i},A=async()=>{e.amenitiesname?(await f.post("http://portals.rarehomesgroup.com/amenities",e),v.success(`${e.amenitiesname} created successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{c("/all-amenities")},1500)):p()},C=async i=>{i.preventDefault(),e.amenitiesname?(await f.patch("http://portals.rarehomesgroup.com/amenities",e),v.success(`${e.amenitiesname} updated successfully`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{c("/all-amenities")},1500)):p()};return r(S,{children:[t($,{}),t(w,{title:"Amenities Form",children:t("div",{children:r("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[r("div",{children:[t(g,{name:"amenitiesname",label:"Amenities name",type:"text",placeholder:"Enter Amenities name",register:h,error:o,value:e.amenitiesname||"",onChange:u}),t("div",{className:" mt-2 text-danger-500 block text-sm",children:o})]}),t(g,{name:"amenitiescode",label:"Amenities code",type:"text",register:h,placeholder:"Enter Amenities code",value:e.amenitiescode||"",onChange:u}),r("div",{className:"lg:col-span-2 col-span-1",children:[m.pathname===`/update-amenities/${n}`?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:C,type:"button",children:"Update"})}):null,m.pathname==="/add-amenities"?t("div",{className:"ltr:text-right rtl:text-left",children:t("button",{className:"btn btn-dark  text-center",onClick:A,type:"button",children:"Submit"})}):null]})]})})})]})};export{L as default};
