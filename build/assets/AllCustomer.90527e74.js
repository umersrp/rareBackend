import{R as ll,j as a,F as H,bL as hl,r as d,b as Ce,c as u,C as as,L as z,I as W,aq as Y,bP as al,bN as ol,K as Ee,T as _e}from"./index.75075c2e.js";import{G as ss}from"./GlobalFilter.472d6507.js";import{D as Pe}from"./DeleteParagraph.abfc3428.js";const fl=ll.forwardRef(({indeterminate:$,...T},E)=>{const r=ll.useRef(),A=E||r;return ll.useEffect(()=>{A.current.indeterminate=$},[A,$]),a(H,{children:a("input",{type:"checkbox",ref:A,...T,className:"table-checkbox"})})}),J={option:($,T)=>({...$,fontSize:"14px"})},ts=({showModal:$,handleClose:T,loaderModal:E,linkedData:r,handleDeleteData:A,dataId:i,moduleName:y,PropertyData:p,bookingData:f,tenantcontractData:b,propertyOwnerData:h,userName:x,dataRole:C})=>u("div",{className:"thumbnail-container",children:[$&&a("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px]",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[a("h5",{className:" text-[18px] capitalize",children:`Are You Sure you Want to Delete this ${y}?`}),a("img",{src:al,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),E===!0?a(ol,{}):u(H,{children:[r!=null&&r.length?a("div",{className:"data-list-modal",children:u(H,{children:[u("h4",{className:"text-[16px] mb-[10px]",children:[a("span",{className:"font-bold",children:y})," ",x," is linked with the following modules:"]}),p!=null&&p.length?a("ul",{className:" mb-[10px] text-start",children:a("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[a("span",{className:"font-semibold mr-[5px]",children:"Property: "}),(C==null?void 0:C.deletepropert)===!0?a(H,{children:p==null?void 0:p.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-property/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==p.length-1?",":null]},v+1))}):a(Pe,{moduleName:y,linkedName:"Property"})]})})}):null,h!=null&&h.length?a("ul",{className:" mb-[10px] text-start",children:a("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[a("span",{className:"font-semibold mr-[5px]",children:"Property as an Owner Representative: "}),(C==null?void 0:C.deletepropert)===!0?a(H,{children:h==null?void 0:h.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-property/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==h.length-1?",":null]},v+1))}):a(Pe,{moduleName:y,linkedName:"Property"})]})})}):null,f!=null&&f.length?a("ul",{className:" mb-[10px] text-start",children:a("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[a("span",{className:"font-semibold mr-[5px]",children:"Booking: "}),(C==null?void 0:C.deletebooking)===!0?a(H,{children:f==null?void 0:f.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-booking/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.bookingnumber,v!==f.length-1?",":null]},v+1))}):a(Pe,{moduleName:y,linkedName:"Booking"})]})})}):null,b!=null&&b.length?a("ul",{className:" mb-[10px] text-start",children:a("li",{className:"list-disc ml-[30px]",children:u("div",{className:"flex items-center",children:[a("span",{className:"font-semibold mr-[5px]",children:"Tenancy Contract: "}),(C==null?void 0:C.deletetenant)===!0?a(H,{children:b==null?void 0:b.map((c,v)=>u(z,{className:" mr-[5px] hover:underline",to:`/view-tenantcontract/${c==null?void 0:c._id}?delete=true`,children:[c==null?void 0:c.unitnumber,v!==b.length-1?",":null]},v+1))}):a(Pe,{moduleName:y,linkedName:"Tenancy Contract"})]})})}):null]})}):null,u("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:[(r==null?void 0:r.length)&&((p==null?void 0:p.length)||(h==null?void 0:h.length)||(f==null?void 0:f.length)||(b==null?void 0:b.length))?a("p",{className:" mt-[10px]",children:`This ${y} is already linked. Please first delete these entries which are linked it with`}):null,!(r!=null&&r.length)&&!(p!=null&&p.length)&&!(h!=null&&h.length)&&!(f!=null&&f.length)&&!(b!=null&&b.length)?a("button",{className:"btn btn inline-flex justify-center btn-danger ",onClick:()=>A(i),children:"Delete"}):null]})]})]})}),a(H,{})]}),ns=({assignModal:$,handleCloseAssignModal:T,moduleName:E,selectedCustomerId:r,employeeAgent:A,selectedAgent:i,setSelectedAgent:y,addAgentToCustomer:p})=>a("div",{className:"thumbnail-container",children:$&&a("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px]",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[a("h5",{className:" text-[18px] capitalize",children:`${E}`}),a("img",{src:al,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),u("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:[a("label",{htmlFor:" hh",className:"form-label text-start",children:"Select Agent:"}),a("div",{className:"w-[100%]",children:a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A,value:A.filter(function(f){return f.value===i}),onChange:f=>{y(f==null?void 0:f.value)},styles:J,id:"hh"})})]}),a("div",{className:"mb-[15px] max-h-[700px] pr-[15px]",children:i!==void 0&&i!==""?a("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:()=>p(r),children:"Add"}):null})]})})}),cs=({showNotesModal:$,handleCloseNoteModal:T,moduleName:E,allNotes:r,handleChangeData:A,notesData:i,handleAddNotesData:y})=>a("div",{className:"thumbnail-container",children:$&&a("div",{className:"modal-overlay-property",children:u("div",{className:"modal-new w-[850px] max-h-[700px] overflow-y-scroll",children:[u("div",{className:"flex items-center justify-between mb-[20px] pb-[7px] modal-border-bottom",children:[a("h5",{className:" text-[18px] capitalize",children:`${E}`}),a("img",{src:al,alt:"cancelIcon",className:"w-[20px] cursor-pointer h-[20px]",onClick:T})]}),a("div",{className:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:a("div",{className:"w-[100%] text-start",children:u("div",{class:"fromGroup       ",children:[a("div",{className:"flex gap-x-[15px] items-center",children:a("label",{for:"pn4",class:"block form-label  normal-case",children:"Type Your Note"})}),u("div",{class:"relative ",children:[a("textarea",{class:"  form-control py-2   ",placeholder:"Type Your Note Here...",id:"pn4",rows:"3",value:i,onChange:A}),a("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})})}),a("div",{className:"mb-[15px] max-h-[700px] flex justify-end",children:i!==""?a("button",{className:"btn btn inline-flex justify-center btn-dark ",onClick:y,children:"Send"}):null}),a(H,{children:r!=null&&r.length?a(H,{children:r==null?void 0:r.map((p,f)=>a("div",{class:"w-[100%] col-span-3 flex flex-col items-start mb-[20px]",children:a("div",{class:"w-[100%] text-start",children:u("div",{class:"fromGroup       ",children:[a("div",{className:"flex gap-x-[15px] items-center",children:u("label",{for:"pn4",class:"block form-label  normal-case",children:["Note by ",p==null?void 0:p.employee_email,a("span",{className:"ml-[10px]",children:"-"}),a("span",{className:"ml-[10px]",children:"created at: "+new Date(p==null?void 0:p.createdAt).toDateString()})]})}),u("div",{class:"relative ",children:[a("textarea",{class:"  form-control py-2   ",placeholder:"Textarea",id:"pn4",rows:"3",value:p==null?void 0:p.note_text,readOnly:!0}),a("div",{class:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})})},f==null?void 0:f._id))}):null})]})})}),is=({title:$,linktitle:T,pagelink:E,allCustomers:r,onDataUpdate:A,forFilterData:i,handleFilterSearch:y,handleClearFilter:p})=>{const f=localStorage.getItem("isAuth"),b=JSON.parse(f),{data:h}=hl(b==null?void 0:b.roleid),[x,C]=d.exports.useState(!1),[c,v]=d.exports.useState(!1),[vl,bl]=d.exports.useState(""),[xl,yl]=d.exports.useState(""),[Nl,Be]=d.exports.useState(""),[gl,We]=d.exports.useState(""),[Cl,Ie]=d.exports.useState(""),[_l,Me]=d.exports.useState(""),[Sl,Tl]=d.exports.useState(""),[kl,qe]=d.exports.useState(!1),[Al,Ue]=d.exports.useState(""),[Se,$l]=d.exports.useState(!1),[t,_]=d.exports.useState({firstname:"",lastname:"",email:"",subType:"",agent:""}),[n,sl]=d.exports.useState({firstname:"",lastname:"",email:"",subType:"",agent:""}),[M,Te]=d.exports.useState(""),[U,K]=d.exports.useState(""),[q,Q]=d.exports.useState(""),[L,X]=d.exports.useState(""),[ms,Hl]=d.exports.useState(""),Z=e=>{const{name:l,value:s}=e.target;_(m=>({...m,[l]:s})),sl(m=>({...m,[l]:s}))};d.exports.useEffect(()=>(n.firstname&&(K(n.firstname),Q(n.firstname),X(n.firstname)),n.lastname&&(Te(n.lastname),Q(n.lastname),X(n.lastname)),n.email&&(K(n.email),Te(n.email),X(n.email)),n.subType&&(K(n.subType),Te(n.subType),Q(n.subType)),()=>{Te(""),K(""),Q(""),X("")}),[n]);const R=e=>{const{name:l,value:s}=e.target;n.firstname&&_({...t,[l]:s}),n.lastname&&_({...t,[l]:s}),n.email&&_({...t,[l]:s}),n.subType&&_({...t,[l]:s})},Le=e=>{const{name:l,value:s}=e.target;n.firstname&&_({...t,[l]:s}),n.lastname&&_({...t,[l]:s}),n.email&&_({...t,[l]:s}),n.subType&&_({...t,[l]:s})},tl=e=>{const{name:l,value:s}=e.target;n.firstname&&_({...t,[l]:s}),n.lastname&&_({...t,[l]:s}),n.email&&_({...t,[l]:s}),n.subType&&_({...t,[l]:s})},El=async e=>{if(C(!0),v(!0),e)try{const l=`http://dev-rare.srp.ai/booking/api/allbooking/forproperty?customerid=${e==null?void 0:e._id}`,s=`http://dev-rare.srp.ai/property/api/advancesearch?customerid=${e==null?void 0:e._id}&softdelete=false`,m=`http://dev-rare.srp.ai/tenantcontract/api/propertydelete?customerid=${e==null?void 0:e._id}`,o=`http://dev-rare.srp.ai/property/api/advancesearch?owner_representative_id=${e==null?void 0:e._id}&softdelete=false`,k=await fetch(l);if(!k.ok&&k.status!==400)throw new Error(`API 1 failed with status: ${k.status}`);const I=k.status===400?[]:await k.json(),g=await fetch(s);if(!g.ok&&g.status!==400)throw new Error(`API 2 failed with status: ${g.status}`);const S=g.status===400?[]:await g.json(),P=await fetch(m);if(!P.ok&&P.status!==400)throw new Error(`API 3 failed with status: ${P.status}`);const G=P.status===400?[]:await P.json(),B=await fetch(o);if(!B.ok&&B.status!==400)throw new Error(`API 4 failed with status: ${B.status}`);const j=B.status===400?[]:await B.json(),V=[...I,...S,...G,...j];Be(I),We(S),Ie(G),Me(j),bl(V),yl(e==null?void 0:e._id),Tl(e==null?void 0:e.email),v(!1)}catch(l){console.error("Error fetching data:",l),v(!1)}},Pl=()=>{C(!1),Be(""),We(""),Ie(""),Me("")},Bl=async e=>{try{await Ee.patch("http://dev-rare.srp.ai/users/api/specific/userupdate",{_id:e,softdelete:!0}),A(),Be(""),We(""),Ie(""),Me("")}catch(l){console.log(l,"error")}},[us,Wl]=d.exports.useState([]),[Il,nl]=d.exports.useState([]),[cl,ke]=d.exports.useState(""),[Ml,il]=d.exports.useState(""),ql=e=>{qe(!0),Ue(e==null?void 0:e._id),e!=null&&e.employeeid&&il(e==null?void 0:e.employeeid),ke(e==null?void 0:e.employeeid)},Ul=()=>{qe(!1),Ue(""),ke("")};d.exports.useEffect(()=>{(async()=>{const s=await(await fetch("http://dev-rare.srp.ai/roles/api/search/Property Consultant")).json();Wl(s==null?void 0:s.roles)})()},[]),d.exports.useEffect(()=>{(async()=>{var l;try{const s=await Ee.get("http://dev-rare.srp.ai/employees/");if(nl(s.data),s!=null&&s.data){const m=(l=s.data)==null?void 0:l.map(o=>({label:o.firstname+" "+o.lastname+" | "+o.email,value:o._id}));nl(m)}}catch(s){console.error("Error fetching data:",s)}})()},[]);const Ll=async e=>{try{await Ee.patch("http://dev-rare.srp.ai/users/api/specific/userupdate",{_id:e,employeeid:cl}),A(),ke(""),qe(!1),Ue("")}catch(l){console.log(l,"error")}},[Gl,ml]=d.exports.useState(!1),[ul,jl]=d.exports.useState(""),[Vl,Ge]=d.exports.useState([]),[je,Ve]=d.exports.useState(""),zl=async e=>{if(ml(!0),jl(e==null?void 0:e._id),e)try{const l=`http://dev-rare.srp.ai/note/api/search?module_id=${e==null?void 0:e._id}`,s=await fetch(l);if(!s.ok&&s.status!==400)throw new Error(`API 2 failed with status: ${s.status}`);const m=s.status===400?[]:await s.json();Ge(m)}catch(l){console.error("Error fetching data:",l)}},Yl=()=>{ml(!1),Ge([]),Ve("")},Jl=e=>{Ve(e.target.value)},Kl=async()=>{if(je!==""&&await Ee.post("http://dev-rare.srp.ai/note",{note_text:je,module_id:ul,commentator_id:b==null?void 0:b._id}))try{const l=`http://dev-rare.srp.ai/note/api/search?module_id=${ul}`,s=await fetch(l);if(!s.ok&&s.status!==400)throw new Error(`API 2 failed with status: ${s.status}`);const m=s.status===400?[]:await s.json();Ge(m),Ve("")}catch(l){console.error("Error fetching data:",l)}};function N(e){const l={},s=[];for(const m of e){const o=`${m==null?void 0:m.label}|${m==null?void 0:m.value}`;l[o]||(s.push(m),l[o]=!0)}return s}const Ql=[{Header:"Id",accessor:"id",Cell:({row:e,flatRows:l})=>a("span",{children:l.indexOf(e)+1})},{Header:"Customer_type",accessor:"subType",Cell:e=>{const{original:l}=e==null?void 0:e.row,{subType:s}=l;return a("span",{className:"block w-full",children:a("span",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${s==="owner"?"text-green-500 bg-green-500":s==="tenant"?"text-blue-500 bg-blue-500":s==="guest"?"text-purple-500 bg-purple-500":"text-red-500 bg-red-500"}`,children:s||"customer"})})}},{Header:"Name",accessor:e=>`${e.firstname} ${e.lastname}`,Cell:e=>{var l;return a("span",{children:(l=e==null?void 0:e.cell)==null?void 0:l.value})}},{Header:"Email",accessor:"email",Cell:e=>{var l;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)==null?void 0:l.value})})})}},{Header:"Age",accessor:"user_age",Cell:e=>{var l,s,m;return a("span",{children:((l=e==null?void 0:e.cell)==null?void 0:l.value)||((s=e==null?void 0:e.cell)==null?void 0:s.value)===0?(m=e==null?void 0:e.cell)==null?void 0:m.value:"Not Available"})}},{Header:"date of birth",accessor:"datebirth",Cell:e=>{var l,s;return a("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})}},{Header:"status",accessor:"isCpmleted",Cell:e=>{var l,s,m;return a("span",{className:"block w-full",children:a("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)===!0?"text-success-500 bg-success-500":""} 
                ${((s=e==null?void 0:e.cell)==null?void 0:s.value)===!1?"text-danger-500 bg-danger-500":""}
                
                 `,children:((m=e==null?void 0:e.cell)==null?void 0:m.value)===!0?"Completed":"Not Completed"})})}},{Header:"What'sApp no",accessor:"whatsappno",Cell:e=>{var l,s,m,o;return a("a",{href:`${(l=e==null?void 0:e.cell)!=null&&l.value?`https://wa.me/${(s=e==null?void 0:e.cell)==null?void 0:s.value}`:"#"}`,target:"_blank",rel:"noreferrer",children:(m=e==null?void 0:e.cell)!=null&&m.value?(o=e==null?void 0:e.cell)==null?void 0:o.value:"Not Available"})}},{Header:"Password",accessor:"password",Cell:e=>{var o,k;const[l,s]=d.exports.useState(!1),m=()=>{s(!l)};return a("div",{children:(o=e==null?void 0:e.cell)!=null&&o.value?u("span",{className:"flex items-center justify-between",children:[a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:l===!0?(k=e==null?void 0:e.cell)==null?void 0:k.value:"........"}),a("span",{className:"cursor-pointer text-secondary-500  select-none",onClick:m,children:l===!0?a(W,{icon:"heroicons-outline:eye"}):a(W,{icon:"heroicons-outline:eye-off"})})]}):a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Not Available"})})})}},{Header:"Phone Number",accessor:"contactno",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"Assigned Agent",accessor:"employee_email",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"Alt Email",accessor:"altemail",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"Alt Number",accessor:"altmobilenumber",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"Nationality",accessor:"passportno",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"name on passport",accessor:"nameonpassport",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"country of residence",accessor:"countryofresidence",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"postal address",accessor:"postaladdress",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"primary no",accessor:"primaryno",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"passport id no",accessor:"passportidno",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"passport issue",accessor:"passportissue",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})})})}},{Header:"passport expiry",accessor:"passportexpiry",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})})})}},{Header:"national id no",accessor:"nationalidno",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"national id issue date",accessor:"nationalidissuedate",Cell:e=>{var l,s;return a("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})}},{Header:"national id expiry",accessor:"nationalidexpiry",Cell:e=>{var l,s;return a("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})}},{Header:"resident status",accessor:"residentstatus",Cell:e=>{var l,s;return a("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})}},{Header:"passport pdf",accessor:"passportpdf",Cell:e=>{var l,s,m,o,k,I,g,S,P,G,B,j,V,D,w,ee,le,ae,se,te,ne,ce,ie,me,ue,de,pe,re,he,fe,oe,ve,be,xe,ye,Ne,ge;return a("span",{className:"block w-full",children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((s=e==null?void 0:e.cell)==null?void 0:s.value)!==void 0&&((m=e==null?void 0:e.cell)==null?void 0:m.value)!==null&&((o=e==null?void 0:e.cell)==null?void 0:o.value)!=="undefined"&&((k=e==null?void 0:e.cell)==null?void 0:k.value)!=="null"&&((I=e==null?void 0:e.cell)==null?void 0:I.value)!==""?a("a",{href:`${((g=e==null?void 0:e.cell)==null?void 0:g.value)&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!==void 0&&((P=e==null?void 0:e.cell)==null?void 0:P.value)!==null&&((G=e==null?void 0:e.cell)==null?void 0:G.value)!=="undefined"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!=="null"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!==""?(V=e==null?void 0:e.cell)==null?void 0:V.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!=="null"&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((te=e==null?void 0:e.cell)==null?void 0:te.value)&&((ne=e==null?void 0:e.cell)==null?void 0:ne.value)!==void 0&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!==null&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="undefined"&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"}):a("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((de=e==null?void 0:e.cell)==null?void 0:de.value)&&((pe=e==null?void 0:e.cell)==null?void 0:pe.value)!==void 0&&((re=e==null?void 0:e.cell)==null?void 0:re.value)!==null&&((he=e==null?void 0:e.cell)==null?void 0:he.value)!=="undefined"&&((fe=e==null?void 0:e.cell)==null?void 0:fe.value)!=="null"&&((oe=e==null?void 0:e.cell)==null?void 0:oe.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ve=e==null?void 0:e.cell)==null?void 0:ve.value)&&((be=e==null?void 0:e.cell)==null?void 0:be.value)!==void 0&&((xe=e==null?void 0:e.cell)==null?void 0:xe.value)!==null&&((ye=e==null?void 0:e.cell)==null?void 0:ye.value)!=="undefined"&&((Ne=e==null?void 0:e.cell)==null?void 0:Ne.value)!=="null"&&((ge=e==null?void 0:e.cell)==null?void 0:ge.value)!==""?"View":"Not Available"})})}},{Header:"national id pdf",accessor:"nationalidpdf",Cell:e=>{var l,s,m,o,k,I,g,S,P,G,B,j,V,D,w,ee,le,ae,se,te,ne,ce,ie,me,ue,de,pe,re,he,fe,oe,ve,be,xe,ye,Ne,ge;return a("span",{className:"block w-full",children:((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((s=e==null?void 0:e.cell)==null?void 0:s.value)!==void 0&&((m=e==null?void 0:e.cell)==null?void 0:m.value)!==null&&((o=e==null?void 0:e.cell)==null?void 0:o.value)!=="undefined"&&((k=e==null?void 0:e.cell)==null?void 0:k.value)!=="null"&&((I=e==null?void 0:e.cell)==null?void 0:I.value)!==""?a("a",{href:`${((g=e==null?void 0:e.cell)==null?void 0:g.value)&&((S=e==null?void 0:e.cell)==null?void 0:S.value)!==void 0&&((P=e==null?void 0:e.cell)==null?void 0:P.value)!==null&&((G=e==null?void 0:e.cell)==null?void 0:G.value)!=="undefined"&&((B=e==null?void 0:e.cell)==null?void 0:B.value)!=="null"&&((j=e==null?void 0:e.cell)==null?void 0:j.value)!==""?(V=e==null?void 0:e.cell)==null?void 0:V.value:"#"}`,target:"_blank",className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((D=e==null?void 0:e.cell)==null?void 0:D.value)&&((w=e==null?void 0:e.cell)==null?void 0:w.value)!==void 0&&((ee=e==null?void 0:e.cell)==null?void 0:ee.value)!==null&&((le=e==null?void 0:e.cell)==null?void 0:le.value)!=="undefined"&&((ae=e==null?void 0:e.cell)==null?void 0:ae.value)!=="null"&&((se=e==null?void 0:e.cell)==null?void 0:se.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((te=e==null?void 0:e.cell)==null?void 0:te.value)&&((ne=e==null?void 0:e.cell)==null?void 0:ne.value)!==void 0&&((ce=e==null?void 0:e.cell)==null?void 0:ce.value)!==null&&((ie=e==null?void 0:e.cell)==null?void 0:ie.value)!=="undefined"&&((me=e==null?void 0:e.cell)==null?void 0:me.value)!=="null"&&((ue=e==null?void 0:e.cell)==null?void 0:ue.value)!==""?"View":"Not Available"}):a("p",{className:`inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((de=e==null?void 0:e.cell)==null?void 0:de.value)&&((pe=e==null?void 0:e.cell)==null?void 0:pe.value)!==void 0&&((re=e==null?void 0:e.cell)==null?void 0:re.value)!==null&&((he=e==null?void 0:e.cell)==null?void 0:he.value)!=="undefined"&&((fe=e==null?void 0:e.cell)==null?void 0:fe.value)!=="null"&&((oe=e==null?void 0:e.cell)==null?void 0:oe.value)!==""?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"}`,children:((ve=e==null?void 0:e.cell)==null?void 0:ve.value)&&((be=e==null?void 0:e.cell)==null?void 0:be.value)!==void 0&&((xe=e==null?void 0:e.cell)==null?void 0:xe.value)!==null&&((ye=e==null?void 0:e.cell)==null?void 0:ye.value)!=="undefined"&&((Ne=e==null?void 0:e.cell)==null?void 0:Ne.value)!=="null"&&((ge=e==null?void 0:e.cell)==null?void 0:ge.value)!==""?"View":"Not Available"})})}},{Header:"Created By",accessor:"employee_email_createdBy",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"created-on",accessor:"createdAt",Cell:e=>{var l;return a("span",{children:new Date((l=e==null?void 0:e.cell)==null?void 0:l.value).toDateString()})}},{Header:"Updated By",accessor:"employee_email_updatedBy",Cell:e=>{var l,s;return a("div",{children:a("span",{className:"inline-flex items-center",children:a("span",{className:"text-sm text-slate-600 dark:text-slate-300 normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(s=e==null?void 0:e.cell)==null?void 0:s.value:"Not Available"})})})}},{Header:"updated-on",accessor:"updatedAt",Cell:e=>{var l,s;return a("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((s=e==null?void 0:e.cell)==null?void 0:s.value).toDateString():"Not Available"})}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{const l=localStorage.getItem("isAuth"),s=JSON.parse(l),{data:m}=hl(s==null?void 0:s.roleid);if(!m)return null;const o=(m==null?void 0:m.readcustomer)===!0,k=(m==null?void 0:m.updatecustomer)===!0,I=(m==null?void 0:m.deletecustomer)===!0;return u("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[o&&a(_e,{content:"assign to agent",placement:"top",arrow:!0,animation:"shift-away",children:a("button",{className:"action-btn",type:"button",onClick:()=>{var g,S;return ql((S=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:S.original)},children:a(W,{icon:"heroicons:user-plus"})})}),o&&a(_e,{content:"notes",placement:"top",arrow:!0,animation:"shift-away",children:a("button",{className:"action-btn",type:"button",onClick:()=>{var g,S;return zl((S=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:S.original)},children:a(W,{icon:"heroicons:chat-bubble-left-right"})})}),o&&a(_e,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:a(z,{to:`/view-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:a(W,{icon:"heroicons:eye"})})}),k&&a(_e,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:a(z,{to:`/update-customer/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:a(W,{icon:"heroicons:pencil-square"})})}),I&&a(_e,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:a("button",{className:"action-btn",type:"button",onClick:()=>{var g,S;return El((S=(g=e==null?void 0:e.cell)==null?void 0:g.row)==null?void 0:S.original)},children:a(W,{icon:"heroicons:trash"})})})]})}}],Xl=d.exports.useMemo(()=>Ql,[]),Zl=d.exports.useMemo(()=>r),Rl=Ce.exports.useTable({columns:Xl,data:Zl,initialState:{pageIndex:0,pageSize:50}},Ce.exports.useGlobalFilter,Ce.exports.useSortBy,Ce.exports.usePagination,Ce.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:s})=>a("div",{children:a(fl,{...s()})}),Cell:({row:s})=>a("div",{children:a(fl,{...s.getToggleRowSelectedProps()})})},...l])}),{getTableProps:Ol,getTableBodyProps:Fl,headerGroups:Dl,footerGroups:ds,page:wl,nextPage:ea,previousPage:la,canNextPage:Ae,canPreviousPage:$e,pageOptions:dl,state:aa,gotoPage:ze,pageCount:sa,setPageSize:ta,setGlobalFilter:na,prepareRow:ca}=Rl,{globalFilter:ia,pageIndex:pl,pageSize:ma}=aa,ua=i==null?void 0:i.filter(e=>e.firstname!==void 0),O=[...new Set(ua.map(e=>e.firstname))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),da=i==null?void 0:i.filter(e=>e.lastname!==void 0),rl=[...new Set(da.map(e=>e.lastname))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>{const l=i.find(s=>s.lastname===e);return l?{label:l.lastname,value:l.lastname}:null}).filter(Boolean),pa=i==null?void 0:i.filter(e=>e.email!==void 0),Ye=[...new Set(pa.map(e=>e.email))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>{const l=i.find(s=>s.email===e);return l?{label:l.email,value:l.email}:null}).filter(Boolean),ra=i==null?void 0:i.filter(e=>e.subType!==void 0),Je=[...new Set(ra.map(e=>e.subType))].map(e=>{const l=i.find(s=>s.subType===e);return l?{label:l.subType,value:l.subType}:null}).filter(Boolean),ha=i==null?void 0:i.filter(e=>e.employee_email!==void 0),He=[...new Set(ha.map(e=>e.employee_email))].map(e=>{const l=i.find(s=>s.employee_email===e);return l?{label:l.employee_email,value:l.employee_email}:null}).filter(Boolean);console.log("employee_emailsOptions",He);const fa=i.filter(e=>e.firstname===n.firstname).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),oa=i.filter(e=>e.firstname===n.firstname).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),va=i.filter(e=>e.firstname===n.firstname).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),ba=i.filter(e=>e.firstname===n.firstname).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),xa=N(fa),ya=N(oa),Na=N(va),ga=N(ba),Ke=xa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=ya.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),F=Na.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));ga.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),console.log("*********",F);const Ca=i.filter(e=>e.lastname===n.lastname).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),_a=i.filter(e=>e.lastname===n.lastname).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),Sa=i.filter(e=>e.lastname===n.lastname).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Ta=i.filter(e=>e.lastname===n.lastname).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),ka=N(Ca),Aa=N(_a),$a=N(Sa),Ha=N(Ta),Ea=ka.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Xe=Aa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ze=$a.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Ha.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Pa=i.filter(e=>e.email===n.email).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),Ba=i.filter(e=>e.email===n.email).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Wa=i.filter(e=>e.email===n.email).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Ia=i.filter(e=>e.email===n.email).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),Ma=N(Pa),qa=N(Ba),Ua=N(Wa),La=N(Ia),Re=Ma.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Oe=qa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fe=Ua.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));La.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Ga=i.filter(e=>e.subType===n.subType).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),ja=i.filter(e=>e.subType===n.subType).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Va=i.filter(e=>e.subType===n.subType).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),za=i.filter(e=>e.subType===n.subType).map(e=>{const{employee_email:l}=e;if(l!="")return{label:l,value:l}}),Ya=N(Ga),Ja=N(ja),Ka=N(Va),Qa=N(za),De=Ya.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=Ja.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=Ka.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));Qa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const Xa=i.filter(e=>e.employee_email===n.agent).map(e=>{const{firstname:l}=e;if(l!="")return{label:l,value:l}}),Za=i.filter(e=>e.employee_email===n.agent).map(e=>{const{lastname:l}=e;if(l!="")return{label:l,value:l}}),Ra=i.filter(e=>e.employee_email===n.agent).map(e=>{const{email:l}=e;if(l!="")return{label:l,value:l}}),Oa=i.filter(e=>e.employee_email===n.agent).map(e=>{const{subType:l}=e;if(l!="")return{label:l,value:l}}),Fa=N(Xa),Da=N(Za),wa=N(Ra),es=N(Oa);Fa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Da.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),wa.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),es.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label));const ls=()=>{p(),_(""),K(""),Q(""),sl(""),X(""),Hl("")};return a(H,{children:u(as,{children:[u("div",{className:"flex justify-between items-center mb-6",children:[a("h4",{className:"card-title",children:$}),(h==null?void 0:h.createcustomer)===!0&&a(z,{to:E,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:T})]}),u("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px] gap-y-[15px]",children:[u("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>$l(!Se),children:[Se===!0?a(W,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"}):a(W,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"}),a("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"})]}),a(ss,{filter:ia,setFilter:na})]}),u("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[u("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"First Name"}),a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:M?n.email&&M?Re:n.subType&&M?De:Ea:O,value:M?n.email&&M?Re&&Re.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):n.subType&&M?De&&De.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):O&&O.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}):O&&O.filter(function(e){if((t==null?void 0:t.firstname)!=="")return e.value===(t==null?void 0:t.firstname)}),onChange:e=>{M?n.email&&M?R({target:{name:"firstname",value:e.value}}):n.subType&&M?R({target:{name:"firstname",value:e.value}}):R({target:{name:"firstname",value:e.value}}):Z({target:{name:"firstname",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.firstname?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,firstname:""}),children:"Clear filter"}):null]}),u("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Last Name"}),a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:U?n.email&&U?Oe:n.subType&&U?we:Ke:rl,value:U?n.email&&U?Oe&&Oe.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):n.subType&&U?we&&we.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):Ke&&Ke.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}):rl.filter(function(e){if((t==null?void 0:t.lastname)!=="")return e.value===(t==null?void 0:t.lastname)}),onChange:e=>{U?n.subType&&U?R({target:{name:"lastname",value:e.value}}):R({target:{name:"lastname",value:e.value}}):Z({target:{name:"lastname",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.lastname?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,lastname:""}),children:"Clear filter"}):null]}),u("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Email"}),a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:q?n.lastname&&q?Xe:n.subType&&q?el:Qe:Ye,value:q?n.lastname&&q?Xe&&Xe.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):n.subType&&q?el&&el.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):Qe&&Qe.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}):Ye&&Ye.filter(function(e){if((t==null?void 0:t.email)!=="")return e.value===(t==null?void 0:t.email)}),onChange:e=>{q?n.lastname&&q?Le({target:{name:"email",value:e.value}}):n.subType&&q?Le({target:{name:"email",value:e.value}}):Le({target:{name:"email",value:e.value}}):Z({target:{name:"email",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.email?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,email:""}),children:"Clear filter"}):null]}),u("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Customer_Type"}),console.log("============>",F),a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:L?n.lastname&&L?Ze:n.email&&L?Fe:F:Je,value:L?n.lastname&&L?Ze&&Ze.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):n.email&&L?Fe&&Fe.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):F&&F.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}):Je&&Je.filter(function(e){if((t==null?void 0:t.subType)!=="")return e.value===(t==null?void 0:t.subType)}),onChange:e=>{L?n.lastname&&L?tl({target:{name:"subType",value:e.value}}):tl({target:{name:"subType",value:e.value}}):Z({target:{name:"subType",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.subType?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,subType:""}),children:"Clear filter"}):null]}),u("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Agents"}),a(Y,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:He,value:He&&He.filter(function(e){if((t==null?void 0:t.employee_email)!=="")return e.value===(t==null?void 0:t.employee_email)}),onChange:e=>{Z({target:{name:"employee_email",value:e.value}})},styles:J,id:"hh",placeholder:"Select..."}),t!=null&&t.employee_email?a("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>_({...t,employee_email:""}),children:"Clear filter"}):null]})]}),u("div",{className:`flex ${Se===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[a("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>ls(),children:"Clear filter"}),a("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>y(t),children:"Search"})]}),a(ts,{showModal:x,handleClose:Pl,loaderModal:c,dataRole:h,linkedData:vl,handleDeleteData:Bl,dataId:xl,moduleName:"Customer",bookingData:Nl,PropertyData:gl,tenantcontractData:Cl,propertyOwnerData:_l,userName:Sl}),a(ns,{handleCloseAssignModal:Ul,assignModal:kl,selectedCustomerId:Al,moduleName:"Assign an Agent",employeeAgent:Il,addAgentToCustomer:Ll,selectedAgent:cl,setSelectedAgent:ke,employee_id:Ml,setEmployee_id:il}),a(cs,{showNotesModal:Gl,handleCloseNoteModal:Yl,moduleName:"Notes",allNotes:Vl,handleChangeData:Jl,notesData:je,handleAddNotesData:Kl}),a("div",{className:"overflow-x-auto -mx-6 mt-6",children:a("div",{className:"inline-block min-w-full align-middle",children:a("div",{className:" ",children:u("table",{className:"min-w-[140%] overflow-x-scroll divide-y divide-slate-100 table-fixed dark:divide-slate-700",...Ol,children:[a("thead",{className:"bg-slate-200 dark:bg-slate-700",children:Dl.map(e=>a("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((h==null?void 0:h.readcustomer)===!0||(h==null?void 0:h.updatecustomer)===!0||(h==null?void 0:h.deletecustomer)===!0)?a("th",{}):u("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),a("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""})]}))}))}),a("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...Fl,children:wl.map(e=>(ca(e),a("tr",{...e.getRowProps(),children:e.cells.map(l=>a("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")}))})))})]})})})}),u("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[u("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[a("select",{className:"form-control py-2 w-max",value:ma,onChange:e=>ta(Number(e.target.value)),children:[10,25,50].map(e=>u("option",{value:e,children:["Show ",e]},e))}),u("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",u("span",{children:[pl+1," of ",dl.length]})]})]}),u("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[a("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ze(0),disabled:!$e,children:a(W,{icon:"heroicons:chevron-double-left-solid"})})}),a("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${$e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>la(),disabled:!$e,children:"Prev"})}),dl.map((e,l)=>a("li",{children:a("button",{href:"#","aria-current":"page",className:` ${l===pl?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>ze(l),children:e+1})},l)),a("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{className:` ${Ae?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>ea(),disabled:!Ae,children:"Next"})}),a("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:a("button",{onClick:()=>ze(sa-1),disabled:!Ae,className:` ${Ae?"":"opacity-50 cursor-not-allowed"}`,children:a(W,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})})},ys=()=>{const[$,T]=d.exports.useState([]),[E,r]=d.exports.useState(!1),[A,i]=d.exports.useState(""),[y,p]=d.exports.useState("");d.exports.useEffect(()=>{r(!0),(async()=>{const c=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();T(c==null?void 0:c.users),i(c==null?void 0:c.users),p(c==null?void 0:c.users),r(!1)})()},[]);const f=()=>{r(!0),(async()=>{const c=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();T(c==null?void 0:c.users),i(c==null?void 0:c.users),p(c==null?void 0:c.users),r(!1)})()};function b(x){if(x){const C=y.filter(c=>{let v=!0;return x.firstname&&c.firstname!==x.firstname&&(v=!1),x.lastname&&c.lastname!==x.lastname&&(v=!1),x.email&&c.email!==x.email&&(v=!1),x.subType&&c.subType!==x.subType&&(v=!1),x.passportidno&&c.passportidno!==x.passportidno&&(v=!1),x.nationalidno&&c.nationalidno!==x.nationalidno&&(v=!1),x.employee_email&&c.employee_email!==x.employee_email&&(v=!1),v});T(C),r(!1)}else T(y)}const h=async()=>{T(y),r(!1)};return a(H,{children:E===!1&&(y==null?void 0:y.length)?a("div",{className:" space-y-5",children:a(is,{pagelink:"/add-customer",linktitle:"Add new Customer",title:"All Customer",allCustomers:$,forFilterData:A,onDataUpdate:f,handleFilterSearch:b,handleClearFilter:h})}):a(ol,{})})};export{ys as default};
