import{R as Rl,j as t,F as P,z as Yn,r,b as xe,L as w,I as G,ap as X,bL as qn,bM as Ul,t as zn,J as di,c4 as Xn,c5 as Dn,bK as vi,T as Ce,b_ as Jn,C as bi,G as Qn}from"./index.cdbc3f69.js";import{D as Bl}from"./index.esm.dc2445d3.js";import{N as Zn}from"./not-found.46bdbc04.js";import{G as Vn}from"./GlobalFilter.f3395a3a.js";import{E as Fn}from"./excel.9601f4f9.js";import{c as wn}from"./calendar.6b75ea36.js";import{u as Il,w as ea}from"./jspdf.plugin.autotable.b244d445.js";import"./jspdf.es.min.6bebb7bc.js";import"./html2canvas.esm.0eae2bf4.js";import{M as fi}from"./Modal.db4885d3.js";var o="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\booking-management\\AllBookingTable.jsx";const la=Rl.forwardRef(({indeterminate:j,...U},R)=>{const u=Rl.useRef(),D=R||u;return Rl.useEffect(()=>{D.current.indeterminate=j},[D,j]),t(P,{children:t("input",{type:"checkbox",ref:D,...U,className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:43,columnNumber:17},void 0)},void 0,!1)}),Z={option:(j,U)=>({...j,fontSize:"14px"})},ia=({showModal:j})=>t("div",{className:"thumbnail-container",children:j&&t("div",{className:"modal-overlay-property align-center-important",children:t("div",{className:"w-[300px]",children:[t("div",{className:"mb-3",children:t("img",{className:" w-[100%]",src:zn,alt:"Logo"},void 0,!1,{fileName:o,lineNumber:72,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:71,columnNumber:25},void 0),t("svg",{className:"animate-spin  h-12 w-12 m-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t("circle",{className:"opacity-25 text-white",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:o,lineNumber:81,columnNumber:29},void 0),t("path",{className:"opacity-75 text-white",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:o,lineNumber:89,columnNumber:29},void 0)]},void 0,!0,{fileName:o,lineNumber:74,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:66,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:65,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:63,columnNumber:9},void 0),na=({allBooking:j,handleDataUpdate:U,dataRole:R,forFilterData:u,handleFilterSearch:D,handleClearFilter:V,filterLoader:J,dataFilterActive:p,removeDateFilter:M,typeOfBooking:ee,selectedtypeOfBooking:Y,setSelectedtypeOfBooking:je})=>{const ce=window.location.origin,F=Yn(),[le,ke]=r.exports.useState(!1),[ie,K]=r.exports.useState(!1),[se,He]=r.exports.useState(""),[Re,ue]=r.exports.useState("");r.exports.useState("");const[Be,Ae]=r.exports.useState(!1),[E,L]=r.exports.useState(""),[i,b]=r.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""}),[a,Se]=r.exports.useState({unitnumber:"",communityid:"",projectnameid:"",buildingid:"",owner_email:"",email:"",bookingagent:""});console.log("groupUnits",a);const[_,C]=r.exports.useState(""),[Ml,re]=r.exports.useState(""),[k,W]=r.exports.useState(""),[Wl,Ie]=r.exports.useState(""),[A,q]=r.exports.useState(""),[$l,Pe]=r.exports.useState(""),[c,y]=r.exports.useState(""),[f,h]=r.exports.useState(""),[N,S]=r.exports.useState(""),H=e=>{const{name:l,value:n}=e.target;b(s=>({...s,[l]:n})),Se(s=>({...s,[l]:n}))};r.exports.useEffect(()=>(a.unitnumber&&(C(a.unitnumber),W(a.unitnumber),q(a.unitnumber),y(a.unitnumber),h(a.unitnumber),S(a.unitnumber)),a.owner_email&&(L(a.owner_email),C(a.owner_email),W(a.owner_email),q(a.owner_email),h(a.owner_email),S(a.owner_email)),a.communityid&&(L(a.communityid),W(a.communityid),q(a.communityid),y(a.communityid),h(a.communityid),S(a.communityid)),a.projectnameid&&(L(a.projectnameid),C(a.projectnameid),q(a.projectnameid),y(a.projectnameid),h(a.projectnameid),S(a.projectnameid)),a.buildingid&&(L(a.buildingid),C(a.buildingid),W(a.buildingid),y(a.buildingid),h(a.buildingid),S(a.buildingid)),a.email&&(L(a.email),C(a.email),W(a.email),q(a.email),y(a.email),h(a.email)),a.bookingagent&&(L(a.bookingagent),C(a.bookingagent),W(a.bookingagent),q(a.bookingagent),y(a.bookingagent)),()=>{C(""),W(""),q(""),y(""),h(""),L("")}),[a]);const $=e=>{const{name:l,value:n}=e.target;a.unitnumber&&(C(a.unitnumber),b({...i,[l]:n}),re({...i,[l]:n})),a.owner_email&&(L(a.owner_email),b({...i,[l]:n}),C(a.owner_email)),a.communityid&&(L(a.communityid),b({...i,[l]:n})),a.projectnameid&&(L(a.projectnameid),b({...i,[l]:n})),a.buildingid&&(L(a.buildingid),b({...i,[l]:n})),a.email&&(L(a.email),b({...i,[l]:n})),a.bookingagent&&(L(a.bookingagent),b({...i,[l]:n}))},ne=e=>{const{name:l,value:n}=e.target;a.unitnumber&&b({...i,[l]:n}),a.owner_email&&(b({...i,[l]:n}),W(a.owner_email)),a.communityid&&(b({...i,[l]:n}),W(a.communityid)),a.buildingid&&b({...i,[l]:n}),a.email&&b({...i,[l]:n}),a.bookingagent&&b({...i,[l]:n})},ae=e=>{const{name:l,value:n}=e.target;a.unitnumber&&b({...i,[l]:n}),a.owner_email&&b({...i,[l]:n}),a.communityid&&b({...i,[l]:n}),a.projectnameid&&b({...i,[l]:n}),a.email&&b({...i,[l]:n}),a.bookingagent&&b({...i,[l]:n})},te=e=>{const{name:l,value:n}=e.target;a.unitnumber&&b({...i,[l]:n}),a.communityid&&b({...i,[l]:n}),a.projectnameid&&b({...i,[l]:n}),a.buildingid&&b({...i,[l]:n}),a.email&&b({...i,[l]:n}),a.bookingagent&&b({...i,[l]:n})},oe=e=>{const{name:l,value:n}=e.target;a.email&&b({...i,[l]:n}),a.unitnumber&&b({...i,[l]:n}),a.communityid&&b({...i,[l]:n}),a.projectnameid&&b({...i,[l]:n}),a.buildingid&&b({...i,[l]:n}),a.bookingagent&&b({...i,[l]:n})},Ni=async e=>{ke(!0),ue(e)},me=e=>{const{name:l,value:n}=e.target;a.email&&b({...i,[l]:n}),a.unitnumber&&b({...i,[l]:n}),a.communityid&&b({...i,[l]:n}),a.projectnameid&&b({...i,[l]:n}),a.buildingid&&b({...i,[l]:n}),a.bookingagent&&b({...i,[l]:n})},gi=()=>{ke(!1)},pi=async e=>{try{await di.patch("http://dev-rare.srp.ai/booking/api/updatebooking",{_id:e,softdelete:!0}),U()}catch(l){console.log(l,"error")}};function v(e){var s,d;const l={},n=[];for(const m of e){const O=`${(s=m==null?void 0:m.label)==null?void 0:s.trim()}|${(d=m==null?void 0:m.value)==null?void 0:d.trim()}`;l[O]||(n.push(m),l[O]=!0)}return n}const[Ee,hi]=r.exports.useState(!1),[yi,xi]=r.exports.useState(0),Gl=r.exports.useRef(null),Kl=e=>{const l=Gl.current;if(l){const s=l.scrollWidth-l.clientWidth;let d;e==="left"?d=Math.max(yi-100,0):d=s,l.scrollLeft=d,xi(d)}},Ci=async e=>{const n=`http://dev-rare.srp.ai/property/${e.propertyid}`,s=await di.get(`${n}`);if(console.log("proData",s),s.statusText==="OK"&&s.status===200){const{propertyimages:d,propertylocation:m,subtype:O}=s.data,B={propertyimages:d.length>0?d[0]:null,propertylocation:m,subtype:O};F("/bookingsd",{state:{data:e,obj:B}})}},ki=[{Header:"Sr no",accessor:"id",Cell:({row:e,flatRows:l})=>t("span",{children:l.indexOf(e)+1},void 0,!1,{fileName:o,lineNumber:535,columnNumber:24},void 0)},{Header:"Booking Number",accessor:"bookingnumber",Cell:e=>{var l,n,s,d,m,O,B,T,I,z,Q;return t(P,{children:ce==="http://127.0.0.1:5173"||ce==="http://stg.srp.ai"||ce==="http://127.0.0.1:5174"?t(w,{to:`/view-booking/${(s=(n=(l=e==null?void 0:e.cell)==null?void 0:l.row)==null?void 0:n.original)==null?void 0:s._id}`,children:(d=e==null?void 0:e.cell)!=null&&d.value?((O=(m=e==null?void 0:e.cell)==null?void 0:m.value)==null?void 0:O.slice(0,15))+(((B=e==null?void 0:e.cell)==null?void 0:B.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:546,columnNumber:33},void 0):t("span",{children:(T=e==null?void 0:e.cell)!=null&&T.value?((z=(I=e==null?void 0:e.cell)==null?void 0:I.value)==null?void 0:z.slice(0,15))+(((Q=e==null?void 0:e.cell)==null?void 0:Q.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:547,columnNumber:33},void 0)},void 0,!1)}},{Header:"Booking Status",accessor:"cancelled",Cell:e=>{var l,n,s;return t("span",{className:"block w-full",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)===!1?"text-success-500 bg-success-500":""} 
            ${((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-danger-500 bg-danger-500":""}
            
             `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)===!0?"Cancelled":"Approved"},void 0,!1,{fileName:o,lineNumber:559,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:558,columnNumber:21},void 0)}},{Header:"Unit No",accessor:e=>`${e.unitnumber}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:585,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:584,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:583,columnNumber:21},void 0)}},{Header:"Building Name",accessor:e=>`${e.building_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:600,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:599,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:598,columnNumber:21},void 0)}},{Header:"Floor Level",accessor:e=>`${e.floor}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:615,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:614,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:613,columnNumber:21},void 0)}},{Header:"Community Name",accessor:e=>`${e.community_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:630,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:629,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:628,columnNumber:21},void 0)}},{Header:"Project Name",accessor:e=>`${e.project_name}`,Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:645,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:644,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:643,columnNumber:21},void 0)}},{Header:"Owner Name",accessor:"owner_name",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:660,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:659,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:658,columnNumber:21},void 0)}},{Header:"Guest Name",accessor:"guestname",Cell:e=>{var l,n;return t("div",{children:t("span",{className:"inline-flex items-center",children:t("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:675,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:674,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:673,columnNumber:21},void 0)}},{Header:"Check in Type",accessor:"checkintype",Cell:e=>{var l,n,s,d;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:688,columnNumber:24},void 0)}},{Header:"Nationality",accessor:"nationality",Cell:e=>{var l,n,s,d;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:695,columnNumber:24},void 0)}},{Header:"passport no",accessor:"passportnumber",Cell:e=>{var l,n,s,d;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:702,columnNumber:24},void 0)}},{Header:"Mobile Number",accessor:"mobilenumber",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:709,columnNumber:24},void 0)}},{Header:"Email",accessor:"email",Cell:e=>{var l,n,s,d;return t("span",{className:"lowercase",children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:716,columnNumber:24},void 0)}},{Header:"No. of Adults",accessor:"noadults",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:723,columnNumber:24},void 0)}},{Header:"No. of Children",accessor:"nochildern",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0"},void 0,!1,{fileName:o,lineNumber:730,columnNumber:24},void 0)}},{Header:"No. Of Occupants",accessor:"totaloccupants",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:737,columnNumber:24},void 0)}},{Header:"Confirmation Code",accessor:"confirmationcode",Cell:e=>{var l,n,s,d;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=(n=e==null?void 0:e.cell)==null?void 0:n.value)==null?void 0:s.slice(0,15))+(((d=e==null?void 0:e.cell)==null?void 0:d.value.length)>15?"...":""):"Not Available"},void 0,!1,{fileName:o,lineNumber:744,columnNumber:24},void 0)}},{Header:"Booking Date",accessor:"reservation_date",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?new Date((n=e==null?void 0:e.cell)==null?void 0:n.value).toDateString():"Not Available"},void 0,!1,{fileName:o,lineNumber:751,columnNumber:24},void 0)}},{Header:"Booking Agent",accessor:"bookingagent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:758,columnNumber:24},void 0)}},{Header:"Mode of Payment",accessor:"modepayment",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:766,columnNumber:24},void 0)}},{Header:"Check in Date",accessor:"checkindate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:773,columnNumber:24},void 0)},sortType:(e,l,n,s)=>Xn(e,l,n,s)},{Header:"Check out Date",accessor:"checkoutdate",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:781,columnNumber:24},void 0)},sortType:(e,l,n,s)=>Dn(e,l,n,s)},{Header:"No. of Nights",accessor:"nonight",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"0.00"},void 0,!1,{fileName:o,lineNumber:789,columnNumber:24},void 0)}},{Header:"Tourism Fee /Unit",accessor:"tourismfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value)+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:796,columnNumber:24},void 0)}},{Header:"Security Deposit Amount",accessor:"securitydeposit",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:803,columnNumber:24},void 0)}},{Header:"TOTAL PAYOUT",accessor:"totalpayout",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:810,columnNumber:24},void 0)}},{Header:"Host Service Fee (portal)",accessor:"hostservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:817,columnNumber:24},void 0)}},{Header:"Total Collection All incl",accessor:"totalcollectall",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:824,columnNumber:24},void 0)}},{Header:"Cleaning Fee",accessor:"cleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:831,columnNumber:24},void 0)}},{Header:"TOTAL ADDITIONAL FEE",accessor:"totaladditionalfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:838,columnNumber:24},void 0)}},{Header:"Room Rent Amount: ( Incl. portal fee)",accessor:"roomrentamount",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:861,columnNumber:24},void 0)}},{Header:"Room Rent Amount: (host Payable)",accessor:"roomrenthostpayable",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:868,columnNumber:24},void 0)}},{Header:"Guest Service Fee",accessor:"guestservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:875,columnNumber:24},void 0)}},{Header:"Guest Management Fee",accessor:"guestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:882,columnNumber:24},void 0)}},{Header:"Host Management Fee",accessor:"hostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:889,columnNumber:24},void 0)}},{Header:"Total Room Rent Amount (incl. GM FEE)",accessor:"propertyid",Cell:e=>{var n,s,d,m,O,B,T,I,z,Q,be,fe,ve,Ne,ge,pe,he,ye,Hl,Ql,Zl,Vl,Fl,wl,ei,li,ii,ni,ai,ti,oi,mi,ci,si,ui,ri;let l;return((d=(s=(n=e==null?void 0:e.cell)==null?void 0:n.row)==null?void 0:s.original)==null?void 0:d.guestservicefee)&&((B=(O=(m=e==null?void 0:e.cell)==null?void 0:m.row)==null?void 0:O.original)==null?void 0:B.guestservicefee)>0?l=(parseFloat((z=(I=(T=e==null?void 0:e.cell)==null?void 0:T.row)==null?void 0:I.original)!=null&&z.roomrentamount?(fe=(be=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:be.original)==null?void 0:fe.roomrentamount:0)+parseFloat((ge=(Ne=(ve=e==null?void 0:e.cell)==null?void 0:ve.row)==null?void 0:Ne.original)!=null&&ge.guestmanagementfee?(ye=(he=(pe=e==null?void 0:e.cell)==null?void 0:pe.row)==null?void 0:he.original)==null?void 0:ye.guestmanagementfee:0)+parseFloat((Zl=(Ql=(Hl=e==null?void 0:e.cell)==null?void 0:Hl.row)==null?void 0:Ql.original)!=null&&Zl.guestservicefee?(wl=(Fl=(Vl=e==null?void 0:e.cell)==null?void 0:Vl.row)==null?void 0:Fl.original)==null?void 0:wl.guestservicefee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):l=(parseFloat((ii=(li=(ei=e==null?void 0:e.cell)==null?void 0:ei.row)==null?void 0:li.original)!=null&&ii.roomrentamount?(ti=(ai=(ni=e==null?void 0:e.cell)==null?void 0:ni.row)==null?void 0:ai.original)==null?void 0:ti.roomrentamount:0)+parseFloat((ci=(mi=(oi=e==null?void 0:e.cell)==null?void 0:oi.row)==null?void 0:mi.original)!=null&&ci.guestmanagementfee?(ri=(ui=(si=e==null?void 0:e.cell)==null?void 0:si.row)==null?void 0:ui.original)==null?void 0:ri.guestmanagementfee:0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),t("span",{children:l?l+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:902,columnNumber:24},void 0)}},{Header:"VAT 5% on Booking Room Rent",accessor:"vatperbookingrent",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:909,columnNumber:24},void 0)}},{Header:"VAT 5% on Service fee",accessor:"vatperservicefee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:916,columnNumber:24},void 0)}},{Header:"VAT 5% on Cleaning fee",accessor:"vatpercleaningfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:923,columnNumber:24},void 0)}},{Header:"VAT 5% on Guest Management",accessor:"vatperguestmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:930,columnNumber:24},void 0)}},{Header:"VAT 5% On Host Management Fee",accessor:"vatperhostmanagementfee",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:937,columnNumber:24},void 0)}},{Header:"Total Payout Vat",accessor:"totalvatper",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((n=e==null?void 0:e.cell)==null?void 0:n.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:944,columnNumber:24},void 0)}},{Header:"Total Room rent + GM+VAT",accessor:e=>`${e.totalroomrent}`,Cell:e=>{var l,n,s;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?((s=parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value))==null?void 0:s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:951,columnNumber:24},void 0)}},{Header:"Audit Difference",accessor:e=>`${e.auditdiff}`,Cell:e=>t("span",{children:"0"},void 0,!1,{fileName:o,lineNumber:958,columnNumber:24},void 0)},{Header:"Total Collection All incl",accessor:e=>`${e.totalcollectall}`,Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?parseFloat((n=e==null?void 0:e.cell)==null?void 0:n.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":"0.00"},void 0,!1,{fileName:o,lineNumber:965,columnNumber:24},void 0)}},{Header:"DTCM uploaded",accessor:"dtcm_uploaded",Cell:e=>{var l,n,s,d;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:975,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:974,columnNumber:25},void 0)},void 0,!1)}},{Header:"passort id collected",accessor:"passortid_collected",Cell:e=>{var l,n,s,d;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:995,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:994,columnNumber:25},void 0)},void 0,!1)}},{Header:"Signature verified as per Passport",accessor:"sign_verified",Cell:e=>{var l,n,s,d;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1015,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1014,columnNumber:25},void 0)},void 0,!1)}},{Header:"smart code provided",accessor:"smartcode_provided",Cell:e=>{var l,n,s,d;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1035,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1034,columnNumber:25},void 0)},void 0,!1)}},{Header:"Payment collected",accessor:"payment_collected",Cell:e=>{var l,n,s,d;return t(P,{children:t("span",{className:"block w-full ",children:t("span",{className:` inline-block px-3 min-w-[90px] text-center mx-auto py-1 rounded-[999px] bg-opacity-25 ${((l=e==null?void 0:e.cell)==null?void 0:l.value)&&((n=e==null?void 0:e.cell)==null?void 0:n.value)===!0?"text-success-500 bg-success-500":"text-danger-500 bg-danger-500"} `,children:((s=e==null?void 0:e.cell)==null?void 0:s.value)&&((d=e==null?void 0:e.cell)==null?void 0:d.value)===!0?"Yes":"No"},void 0,!1,{fileName:o,lineNumber:1055,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1054,columnNumber:25},void 0)},void 0,!1)}},{Header:"created-by",accessor:"employee_email_createdBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1072,columnNumber:24},void 0)}},{Header:"created-on",accessor:"Created_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1079,columnNumber:24},void 0)}},{Header:"updated-by",accessor:"employee_email_updatedBy",Cell:e=>{var l,n;return t("span",{className:"normal-case",children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1086,columnNumber:24},void 0)}},{Header:"updated-on",accessor:"updated_At",Cell:e=>{var l,n;return t("span",{children:(l=e==null?void 0:e.cell)!=null&&l.value?(n=e==null?void 0:e.cell)==null?void 0:n.value:"Not Available"},void 0,!1,{fileName:o,lineNumber:1093,columnNumber:24},void 0)}},{Header:"action",accessor:e=>`${e._id}`,Cell:e=>{var I,z,Q,be,fe,ve,Ne,ge,pe,he,ye;const l=localStorage.getItem("isAuth"),n=JSON.parse(l),{data:s}=vi(n==null?void 0:n.roleid);if(!s)return null;const d=(s==null?void 0:s.readbooking)===!0,m=(s==null?void 0:s.updatebooking)===!0,O=(s==null?void 0:s.deletebooking)===!0,B=(s==null?void 0:s.updatecustomer)===!0,T=(z=(I=e==null?void 0:e.cell)==null?void 0:I.row)==null?void 0:z.original;return t("div",{className:"flex space-x-3 rtl:space-x-reverse",children:[t(Ce,{content:"Download PDF Under Maintenance",placement:"top",arrow:!0,animation:"shift-away",children:t("button",{className:"action-btn",onClick:Hl=>Ci(T),type:"button",children:t(G,{icon:"heroicons:arrow-down"},void 0,!1,{fileName:o,lineNumber:1119,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1118,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1117,columnNumber:25},void 0),B&&t(Ce,{content:"Edit Customer",placement:"top",arrow:!0,animation:"shift-away",children:((fe=(be=(Q=e==null?void 0:e.cell)==null?void 0:Q.row)==null?void 0:be.original)==null?void 0:fe.customertype)==="New Customer"?t(w,{className:"action-btn",to:`/update-customer/${(ge=(Ne=(ve=e==null?void 0:e.cell)==null?void 0:ve.row)==null?void 0:Ne.original)==null?void 0:ge.guest_id}`,type:"button",children:t(G,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1133,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1132,columnNumber:45},void 0):t(w,{className:"action-btn",to:`/update-customer/${(ye=(he=(pe=e==null?void 0:e.cell)==null?void 0:pe.row)==null?void 0:he.original)==null?void 0:ye.customerid}`,type:"button",children:t(G,{icon:"heroicons:user"},void 0,!1,{fileName:o,lineNumber:1136,columnNumber:49},void 0)},void 0,!1,{fileName:o,lineNumber:1135,columnNumber:45},void 0)},void 0,!1,{fileName:o,lineNumber:1129,columnNumber:33},void 0),d&&t(Ce,{content:"View",placement:"top",arrow:!0,animation:"shift-away",children:t(w,{className:"action-btn",to:`/view-booking/${e==null?void 0:e.cell.value}`,type:"button",children:t(G,{icon:"heroicons:eye"},void 0,!1,{fileName:o,lineNumber:1146,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1145,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1144,columnNumber:33},void 0),m&&t(Ce,{content:"Edit",placement:"top",arrow:!0,animation:"shift-away",children:t(w,{to:`/update-booking/${e==null?void 0:e.cell.value}`,className:"action-btn",type:"button",children:t(G,{icon:"heroicons:pencil-square"},void 0,!1,{fileName:o,lineNumber:1155,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1154,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1153,columnNumber:33},void 0),O&&t(Ce,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:t("button",{className:"action-btn",type:"button",onClick:()=>Ni(e==null?void 0:e.cell.value),children:t(G,{icon:"heroicons:trash"},void 0,!1,{fileName:o,lineNumber:1170,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:1169,columnNumber:37},void 0)},void 0,!1,{fileName:o,lineNumber:1162,columnNumber:33},void 0)]},void 0,!0,{fileName:o,lineNumber:1116,columnNumber:21},void 0)}}];function Ai(e){const l=[["BOOKING NUMBER","BOOKING STATUS","UNIT NO","BUILDING NAME","FLOOR LEVEL","COMMUNITY NAME","PROJECT NAME","OWNER NAME","GUEST NAME","CHECK IN TYPE","NATIONALITY","PASSPORT NO","MOBILE NUMBER","EMAIL","NO. OF ADULTS","NO. OF CHILDREN","NO. OF OCCUPANTS","CONFIRMATION CODE","BOOKING DATE","BOOKING DATE","MODE OF PAYMENT","CHECK IN DATE","CHECK OUT DATE","NO. OF NIGHTS","NO. OF NIGHTS","SECURITY DEPOSIT AMOUNT","TOTAL PAYOUT","HOST SERVICE FEE (PORTAL)","TOTAL COLLECTION ALL INCL","CLEANING FEE","TOTAL ADDITIONAL FEE","ROOM RENT AMOUNT: ( INCL. PORTAL FEE)","Room Rent Amount: (host Payable)","GUEST SERVICE FEE","GUEST MANAGEMENT FEE","HOST MANAGEMENT FEE","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON BOOKING ROOM RENT","VAT 5% ON CLEANING FEE","VAT 5% ON GUEST MANAGEMENT","VAT 5% ON HOST MANAGEMENT FEE","TOTAL PAYOUT VAT","TOTAL ROOM RENT + GM+VAT","AUDIT DIFFERENCE","TOTAL COLLECTION ALL INCL","CREATED-BY","CREATED-ON"],...e.map(m=>[m.bookingnumber,m.cancelled===!1?"Approved":"Cancelled",m.unitnumber,m==null?void 0:m.building_name,m==null?void 0:m.floor,m==null?void 0:m.community_name,m==null?void 0:m.project_name,m==null?void 0:m.owner_name,m.guestname,m.checkintype,m.nationality,m.passportnumber,m.mobilenumber,m.email,m.noadults,m.nochildern,m.totaloccupants,m.confirmationcode,new Date(m.reservationdate).toDateString(),m.bookingagent,m.modepayment,new Date(m.checkindate).toDateString(),new Date(m.checkoutdate).toDateString(),m.nonight,m.tourismfee,m.securitydeposit?m.securitydeposit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalpayout?m.totalpayout.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostservicefee?m.hostservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.cleaningfee?m.cleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totaladditionalfee?m.totaladditionalfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrentamount?m.roomrentamount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.roomrenthostpayable?m.roomrenthostpayable.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestservicefee?m.guestservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.guestmanagementfee?m.guestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.hostmanagementfee?m.hostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperbookingrent?m.vatperbookingrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperservicefee?m.vatperservicefee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatpercleaningfee?m.vatpercleaningfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperguestmanagementfee?m.vatperguestmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.vatperhostmanagementfee?m.vatperhostmanagementfee.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalvatper?m.totalvatper.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m.totalroomrent?m.totalroomrent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,0,m.totalcollectall?m.totalcollectall.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0,m==null?void 0:m.employee_email_createdBy,new Date(m.createdAt).toDateString()])],n=Il.aoa_to_sheet(l),s=Il.book_new();Il.book_append_sheet(s,n,"Sheet1");const d=ea(s,{bookType:"xlsx",type:"array"});Jn.exports.saveAs(new Blob([d],{type:"application/octet-stream"}),"bookings.xlsx")}const Si=r.exports.useMemo(()=>ki,[]),Ei=r.exports.useMemo(()=>j),[g,Yl]=r.exports.useState(""),[oa,ql]=r.exports.useState(!1),[zl,Xl]=r.exports.useState(!1);r.exports.useState(!1),r.exports.useState(""),r.exports.useState(!1),r.exports.useEffect(()=>{Yl(""),Xl(!1)},[j]);const _i=xe.exports.useTable({columns:Si,data:Ei,initialState:{pageIndex:0,pageSize:50}},xe.exports.useGlobalFilter,xe.exports.useSortBy,xe.exports.usePagination,xe.exports.useRowSelect,e=>{e.visibleColumns.push(l=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:n})=>t("div",{children:t(la,{...n()},void 0,!1,{fileName:o,lineNumber:1348,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:1347,columnNumber:25},void 0),Cell:({row:n})=>{var B;const[s,d]=r.exports.useState(""),m=T=>{T!=null&&T._id?ql(!0):ql(!1),d(I=>I===T?"":T),Yl(I=>I===T?"":T)};let O;return r.exports.useEffect(()=>{var T;Xl(((T=n==null?void 0:n.original)==null?void 0:T._id)===(s==null?void 0:s._id)),zl===!0?O=!0:zl===!1&&(O=!1)},[(B=n==null?void 0:n.original)==null?void 0:B._id,s==null?void 0:s._id]),t("div",{children:t("input",{type:"checkbox",...n.getToggleRowSelectedProps(),checked:O,onChange:()=>m(n.original),className:"table-checkbox"},void 0,!1,{fileName:o,lineNumber:1387,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:1386,columnNumber:29},void 0)}},...l])}),{getTableProps:Ti,getTableBodyProps:Oi,headerGroups:Li,footerGroups:ma,page:ji,nextPage:Hi,previousPage:Ri,canNextPage:_e,canPreviousPage:Te,pageOptions:Dl,state:Bi,gotoPage:Ue,pageCount:Ii,setPageSize:Pi,setGlobalFilter:Ui,prepareRow:Mi}=_i,{globalFilter:Wi,pageIndex:Jl,pageSize:$i}=Bi,Gi=u.filter(e=>e.unitnumber!==void 0),Oe=[...new Set(Gi.map(e=>e.unitnumber))].sort((e,l)=>e.localeCompare(l,void 0,{sensitivity:"base"})).map(e=>({label:e,value:e})),Ki=u.filter(e=>e.community_name!==void 0),Me=[...[...new Set(Ki.map(e=>e.communityid))].map(e=>{const l=u.find(n=>n.communityid===e);return l?{label:l.community_name,value:l.communityid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Yi=u.filter(e=>e.project_name!==void 0),We=[...[...new Set(Yi.map(e=>e.projectnameid))].map(e=>{const l=u.find(n=>n.projectnameid===e);return l?{label:l.project_name,value:l.projectnameid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),qi=u.filter(e=>e.building_name!==void 0),$e=[...[...new Set(qi.map(e=>e.buildingid))].map(e=>{const l=u.find(n=>n.buildingid===e);return l?{label:l.building_name,value:l.buildingid}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),zi=u.filter(e=>e.owner_email!==void 0),Ge=[...[...new Set(zi.map(e=>e.owner_email))].map(e=>{const l=u.find(n=>n.owner_email===e);return l?{label:l.owner_name+" | "+l.owner_email,value:l.owner_email}:null}).filter(Boolean)].sort((e,l)=>{var n;return(n=e.label)==null?void 0:n.localeCompare(l.label)}),Xi=u.filter(e=>e.email!==void 0),Ke=[...[...new Set(Xi.map(e=>e.email))].map(e=>{const l=u.find(n=>n.email===e);return l?{label:l.guestname+" | "+l.email,value:l.email}:null}).filter(Boolean)].sort((e,l)=>e.label.localeCompare(l.label)),Ye=[...[{value:"Airbnb",label:"Airbnb"},{value:"Booking.com",label:"Booking.com"},{value:"vrbo",label:"vrbo"},{value:"Direct Booking",label:"Direct Booking"},{value:"Not in the List",label:"Not in the List"}]].sort((e,l)=>e.label.localeCompare(l.label)),Di=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),Ji=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),Qi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Zi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Vi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),Fi=u.filter(e=>e.unitnumber===a.unitnumber).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),wi=v(Di),en=v(Ji),ln=v(Qi),nn=v(Zi),an=v(Vi),tn=v(Fi),qe=wi.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ze=en.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Xe=ln.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),De=nn.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Je=an.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Qe=tn.filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),on=u.filter(e=>e.communityid===a.communityid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),mn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),cn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),sn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),un=u.filter(e=>e.communityid===a.communityid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),rn=u.filter(e=>e.communityid===a.communityid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Ze=v(on).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ve=v(mn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Fe=v(cn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),we=v(sn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),el=v(un).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),ll=v(rn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),dn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),il=v(dn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),bn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),nl=v(bn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),fn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),al=v(fn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),vn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),tl=v(vn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Nn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),ol=v(Nn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),gn=u.filter(e=>e.projectnameid===a.projectnameid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),ml=v(gn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),pn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),cl=v(pn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),hn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),sl=v(hn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),yn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),ul=v(yn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),xn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),rl=v(xn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Cn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),dl=v(Cn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),kn=u.filter(e=>e.buildingid===a.buildingid).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),bl=v(kn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),An=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Sn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),En=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),_n=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Tn=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),On=u.filter(e=>e.owner_email===a.owner_email).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Le=v(An).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),fl=v(Sn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),vl=v(En).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Nl=v(_n).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),gl=v(Tn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),pl=v(On).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Ln=u.filter(e=>e.email===a.email).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),hl=v(Ln).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),jn=u.filter(e=>e.email===a.email).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),yl=v(jn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Hn=u.filter(e=>e.email===a.email).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),xl=v(Hn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Rn=u.filter(e=>e.email===a.email).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Cl=v(Rn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Bn=u.filter(e=>e.email===a.email).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),kl=v(Bn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),In=u.filter(e=>e.email===a.email).map(e=>{const{bookingagent:l}=e;if(l!="")return{label:l,value:l}}),Al=v(In).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Pn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{unitnumber:l}=e;if(l!="")return{label:l,value:l}}),Sl=v(Pn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Un=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{community_name:l,communityid:n}=e;if(l!=""&&n!="")return{label:l,value:n}}),El=v(Un).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Mn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{projectnameid:l,project_name:n}=e;if(l!=""&&n!="")return{label:n,value:l}}),_l=v(Mn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Wn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{building_name:l,buildingid:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Tl=v(Wn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),$n=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{owner_name:l,owner_email:n}=e;if(n!=""&&l!="")return{label:l,value:n}}),Ol=v($n).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Gn=u.filter(e=>e.bookingagent===a.bookingagent).map(e=>{const{email:l,guestname:n}=e;if(l!=""&&n!="")return{label:n+"|"+l,value:l}}),Ll=v(Gn).filter(e=>e.label!==void 0&&typeof e.label=="string").sort((e,l)=>e.label.localeCompare(l.label)),Kn=()=>{V(),C(""),Se(""),re(""),W(""),Ie(""),b(""),y(""),Pe(""),h(""),S("")},[jl,de]=r.exports.useState(!1);return r.exports.useEffect(()=>{const e=l=>{const{_id:n,propertyid:s,checkindate:d,checkoutdate:m,cancelled:O}=l,{checkindate:B,checkoutdate:T,propertyid:I}=g;return n!==(g==null?void 0:g._id)&&O===!1?new Date(d).toISOString()<new Date(T).toISOString()&&new Date(m).toISOString()>new Date(B).toISOString()&&s===I?(de(!0),!0):(de(!1),!1):(console.log("first else"),de(!1),!1)};if((g==null?void 0:g.checkindate)&&(g==null?void 0:g.checkoutdate)&&(g==null?void 0:g.propertyid)){let l=!1;for(let n=0;n<u.length;n++){const s=u[n];if(e(s)){l=!0;break}}de(l)}else de(!1)},[g==null?void 0:g.checkindate,g==null?void 0:g.checkoutdate,g==null?void 0:g.propertyid]),t(P,{children:[t("div",{className:"md:flex justify-end items-center mb-6 gap-x-[25px]",children:[t(w,{to:"/calendar-2-0",className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",children:[t("img",{src:wn,alt:"Calendar icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2308,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Calendar View"},void 0,!1,{fileName:o,lineNumber:2309,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2307,columnNumber:17},void 0),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer",onClick:()=>Ai(j),children:[t("img",{src:Fn,alt:"Excel icon",className:"w-[20px] h-[20px] noselect"},void 0,!1,{fileName:o,lineNumber:2316,columnNumber:21},void 0),t("p",{className:"text-[14px] leading regular color-black",children:"Export in Excel"},void 0,!1,{fileName:o,lineNumber:2317,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2315,columnNumber:17},void 0),g&&(g==null?void 0:g.cancelled)===!1?t(P,{children:t(fi,{title:"Do you want to Cancel this booking?",label:"Cancel booking",labelClass:"btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:g,onDataUpdate:U,bookingtable:!0,cancelkrnihai:!0,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2333,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2322,columnNumber:29},void 0)},void 0,!1):null,jl===!1&&g&&(g==null?void 0:g.cancelled)===!0?t(P,{children:t(fi,{title:"Do you want to Approve this booking?",label:"Approve booking",labelClass:"btn btn inline-flex justify-center btn-dark py-[8px] px-[24px] rounded-[5px]",uncontrol:!0,alldata:g,onDataUpdate:U,bookingtable:!0,cancelkrnihai:!1,alreadyBooking:jl,bookingUpdate:!0,children:t("h4",{className:"font-medium text-lg mb-3 text-slate-900 text-center",children:"Are you sure?"},void 0,!1,{fileName:o,lineNumber:2354,columnNumber:33},void 0)},void 0,!1,{fileName:o,lineNumber:2342,columnNumber:29},void 0)},void 0,!1):null,jl===!0&&g&&(g==null?void 0:g.cancelled)===!0?t(P,{children:t("button",{type:"button",class:"btn btn btn inline-flex justify-center btn-danger py-[8px] px-[24px] rounded-[5px]",children:"This property cannot be approved as it is already booked"},void 0,!1,{fileName:o,lineNumber:2363,columnNumber:29},void 0)},void 0,!1):null,t(P,{},void 0,!1),t("button",{className:"h-[34px] rounded-[10px] relative bg-white border1px flex items-center gap-x-[10px] justify-around px-[10px] py-[5px] cursor-pointer md:mb-0 mb-4",onClick:()=>hi(!Ee),children:[Ee===!0?t(G,{icon:"heroicons:minus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2391,columnNumber:29},void 0):t(G,{icon:"heroicons:plus-small",className:"w-[20px] h-[20px]"},void 0,!1,{fileName:o,lineNumber:2392,columnNumber:29},void 0),t("p",{className:"text-[16px] leading regular color-black",children:"Advance filter"},void 0,!1,{fileName:o,lineNumber:2394,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:2387,columnNumber:17},void 0),p===!0?t("button",{className:"btn-dark py-[8px] px-[24px] rounded-[5px]",type:"button",onClick:M,children:"Remove Date Filter"},void 0,!1,{fileName:o,lineNumber:2398,columnNumber:25},void 0):null,t("div",{className:"w-[180px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:ee,value:ee==null?void 0:ee.filter(function(e){return e.value===Y}),onChange:e=>{je(e==null?void 0:e.value)},styles:Z,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:o,lineNumber:2401,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:2400,columnNumber:17},void 0),t(Vn,{filter:Wi,setFilter:Ui},void 0,!1,{fileName:o,lineNumber:2417,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2304,columnNumber:13},void 0),console.log("unitNumberOptions",Oe,"first",Le),t("div",{className:`xl:grid-cols-3 grid gap-5 grid-cols-1 ${Ee===!0?"filter-show mt-6 pointer-events-auto":"filter-remove -mt-4 pointer-events-none"}`,children:[t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Unit No."},void 0,!1,{fileName:o,lineNumber:2422,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:E?a.communityid&&E?Ze:a.projectnameid&&E?il:a.buildingid&&E?cl:a.email&&E?hl:a.bookingagent&&E?Sl:Le:Oe,value:E?a.communityid&&E?Ze&&Ze.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.projectnameid&&E?il&&il.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.buildingid&&E?cl&&cl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.email&&E?hl&&hl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):a.bookingagent&&E?Sl&&Sl.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):Le&&Le.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}):Oe&&Oe.filter(function(e){if((i==null?void 0:i.unitnumber)!=="")return e.value===(i==null?void 0:i.unitnumber)}),onChange:e=>{E?a.communityid&&E?$({target:{name:"unitnumber",value:e.value}}):a.projectnameid&&E?$({target:{name:"unitnumber",value:e.value}}):a.buildingid&&E?$({target:{name:"unitnumber",value:e.value}}):a.email&&E?$({target:{name:"unitnumber",value:e.value}}):a.bookingagent&&E?$({target:{name:"unitnumber",value:e.value}}):$({target:{name:"unitnumber",value:e.value}}):H({target:{name:"unitnumber",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2425,columnNumber:21},void 0),i!=null&&i.unitnumber?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,unitnumber:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2512,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2421,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Community Name"},void 0,!1,{fileName:o,lineNumber:2518,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:_?a.owner_email&&_?fl:a.projectnameid&&_?nl:a.buildingid&&_?sl:a.email&&_?yl:a.bookingagent&&_?El:qe:Me,value:_?a.owner_email&&_?fl&&fl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.projectnameid&&_?nl&&nl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.buildingid&&_?sl&&sl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.email&&_?yl&&yl.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):a.bookingagent&&_?El&&El.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):qe&&qe.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}):Me&&Me.filter(function(e){if((i==null?void 0:i.communityid)!=="")return e.value===(i==null?void 0:i.communityid)}),onChange:e=>{_?a.owner_email&&_?$({target:{name:"communityid",value:e.value}}):a.projectnameid&&_?$({target:{name:"communityid",value:e.value}}):a.buildingid&&_?$({target:{name:"communityid",value:e.value}}):a.email&&_?$({target:{name:"communityid",value:e.value}}):a.bookingagent&&_?$({target:{name:"communityid",value:e.value}}):$({target:{name:"communityid",value:e.value}}):H({target:{name:"communityid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2521,columnNumber:21},void 0),i!=null&&i.communityid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,communityid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2612,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2517,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Project Name"},void 0,!1,{fileName:o,lineNumber:2618,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:k?a.owner_email&&k?vl:a.communityid&&k?Ve:a.buildingid&&k?ul:a.email&&k?xl:a.bookingagent&&k?_l:ze:We,value:k?a.owner_email&&k?vl&&vl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.communityid&&k?Ve&&Ve.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.buildingid&&k?ul&&ul.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.email&&k?xl&&xl.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):a.bookingagent&&k?_l&&_l.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):ze&&ze.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}):We&&We.filter(function(e){if((i==null?void 0:i.projectnameid)!=="")return e.value===(i==null?void 0:i.projectnameid)}),onChange:e=>{k?a.owner_email&&k?ne({target:{name:"projectnameid",value:e.value}}):a.communityid&&k?ne({target:{name:"projectnameid",value:e.value}}):a.buildingid&&k?ne({target:{name:"projectnameid",value:e.value}}):a.email&&k?ne({target:{name:"projectnameid",value:e.value}}):a.bookingagent&&k?ne({target:{name:"projectnameid",value:e.value}}):ne({target:{name:"projectnameid",value:e.value}}):H({target:{name:"projectnameid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2621,columnNumber:21},void 0),i!=null&&i.projectnameid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,projectnameid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2709,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2617,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Building Name"},void 0,!1,{fileName:o,lineNumber:2715,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:A?a.owner_email&&A?Nl:a.communityid&&A?Fe:a.projectnameid&&A?al:a.email&&A?Cl:a.bookingagent&&A?Tl:Xe:$e,value:A?a.owner_email&&A?Nl&&Nl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.communityid&&A?Fe&&Fe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.projectnameid&&A?al&&al.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.email&&A?Cl&&Cl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):a.bookingagent&&A?Tl&&Tl.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):Xe&&Xe.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}):$e&&$e.filter(function(e){if((i==null?void 0:i.buildingid)!=="")return e.value===(i==null?void 0:i.buildingid)}),onChange:e=>{A?a.owner_email&&A?ae({target:{name:"buildingid",value:e.value}}):a.communityid&&A?ae({target:{name:"buildingid",value:e.value}}):a.projectnameid&&A?ae({target:{name:"buildingid",value:e.value}}):a.email&&A?ae({target:{name:"buildingid",value:e.value}}):a.bookingagent&&A?ae({target:{name:"buildingid",value:e.value}}):ae({target:{name:"buildingid",value:e.value}}):H({target:{name:"buildingid",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2718,columnNumber:21},void 0),i!=null&&i.buildingid?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,buildingid:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2809,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2714,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Owner Name"},void 0,!1,{fileName:o,lineNumber:2815,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:c?a.communityid&&c?we:a.projectnameid&&c?tl:a.buildingid&&c?rl:a.email&&c?kl:a.bookingagent&&c?Ol:De:Ge,value:c?a.communityid&&c?we&&we.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.projectnameid&&c?tl&&tl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.buildingid&&c?rl&&rl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.email&&c?kl&&kl.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):a.bookingagent&&c?Ol&&Ol.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):De&&De.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}):Ge&&Ge.filter(function(e){if((i==null?void 0:i.owner_email)!=="")return e.value===(i==null?void 0:i.owner_email)}),onChange:e=>{c?a.communityid&&c?te({target:{name:"owner_email",value:e.value}}):a.projectnameid&&c?te({target:{name:"owner_email",value:e.value}}):a.buildingid&&c?te({target:{name:"owner_email",value:e.value}}):a.email&&c?te({target:{name:"owner_email",value:e.value}}):a.bookingagent&&c?te({target:{name:"owner_email",value:e.value}}):te({target:{name:"owner_email",value:e.value}}):H({target:{name:"owner_email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2818,columnNumber:21},void 0),i!=null&&i.owner_email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,owner_email:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:2908,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2814,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Guest Name / Email"},void 0,!1,{fileName:o,lineNumber:2915,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:N?a.communityid&&N?el:a.buildingid&&N?dl:a.projectnameid&&N?ol:a.owner_email&&N?gl:a.bookingagent&&N?Al:Je:Ke,value:N?a.communityid&&N?el&&el.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.buildingid&&N?dl&&dl.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.projectnameid&&N?ol&&ol.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.owner_email&&N?gl&&gl.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):a.bookingagent&&N?Al&&Al.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Je&&Je.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}):Ke&&Ke.filter(function(e){if((i==null?void 0:i.email)!=="")return e.value===(i==null?void 0:i.email)}),onChange:e=>{N?a.communityid&&N?oe({target:{name:"email",value:e.value}}):a.buildingid&&N?oe({target:{name:"email",value:e.value}}):a.projectnameid&&N?oe({target:{name:"email",value:e.value}}):a.owner_email&&N?oe({target:{name:"email",value:e.value}}):a.bookingagent&&N?oe({target:{name:"email",value:e.value}}):oe({target:{name:"email",value:e.value}}):H({target:{name:"email",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:2918,columnNumber:21},void 0),i!=null&&i.email?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,email:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:3006,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:2914,columnNumber:17},void 0),t("div",{children:[t("label",{htmlFor:" hh",className:"form-label ",children:"Booking Agent"},void 0,!1,{fileName:o,lineNumber:3012,columnNumber:21},void 0),t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:f?a.communityid&&f?ll:a.projectnameid&&f?ml:a.buildingid&&f?bl:a.owner_email&&f?pl:a.email&&f?Ll:Qe:Ye,value:f?a.communityid&&f?ll&&ll.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.projectnameid&&f?ml&&ml.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.buildingid&&f?bl&&bl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.owner_email&&f?pl&&pl.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):a.email&&f?Ll&&Ll.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):Qe&&Qe.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}):Ye&&Ye.filter(function(e){if((i==null?void 0:i.bookingagent)!=="")return e.value===(i==null?void 0:i.bookingagent)}),onChange:e=>{f?a.communityid&&f?me({target:{name:"bookingagent",value:e.value}}):a.projectnameid&&f?me({target:{name:"bookingagent",value:e.value}}):a.buildingid&&f?me({target:{name:"bookingagent",value:e.value}}):a.owner_email&&f?me({target:{name:"bookingagent",value:e.value}}):a.email&&f?me({target:{name:"bookingagent",value:e.value}}):me({target:{name:"bookingagent",value:e.value}}):H({target:{name:"bookingagent",value:e.value}})},styles:Z,id:"hh",placeholder:"Select..."},void 0,!1,{fileName:o,lineNumber:3015,columnNumber:21},void 0),i!=null&&i.bookingagent?t("div",{className:" mt-2 block text-sm cursor-pointer",onClick:()=>b({...i,bookingagent:""}),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:3107,columnNumber:29},void 0):null]},void 0,!0,{fileName:o,lineNumber:3011,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:2420,columnNumber:13},void 0),t("div",{className:`flex ${Ee===!0?"filter-show mt-6 pointer-events-auto":"filter-remove mt-0 pointer-events-none"} justify-end gap-x-[10px]`,children:[t("button",{className:"btn btn-secondary  text-center",type:"button",onClick:()=>Kn(),children:"Clear filter"},void 0,!1,{fileName:o,lineNumber:3114,columnNumber:17},void 0),t("button",{className:"btn btn-dark  text-center",type:"button",onClick:()=>D(i),children:"Search"},void 0,!1,{fileName:o,lineNumber:3115,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:3113,columnNumber:13},void 0),t(qn,{showModal:le,handleClose:gi,loaderModal:ie,linkedData:se,handleDeleteData:pi,dataId:Re,moduleName:"Booking"},void 0,!1,{fileName:o,lineNumber:3117,columnNumber:13},void 0),t(ia,{showModal:Be},void 0,!1,{fileName:o,lineNumber:3118,columnNumber:13},void 0),t("div",{className:"flex gap-x-[10px] mb-[10px]",children:[t("button",{className:"btn bg-white border  text-center",onClick:()=>Kl("left"),children:t(G,{icon:"heroicons-arrow-left"},void 0,!1,{fileName:o,lineNumber:3120,columnNumber:107},void 0)},void 0,!1,{fileName:o,lineNumber:3120,columnNumber:17},void 0),t("button",{className:"btn bg-white border text-center",onClick:()=>Kl("right"),children:t(G,{icon:"heroicons-arrow-right"},void 0,!1,{fileName:o,lineNumber:3121,columnNumber:107},void 0)},void 0,!1,{fileName:o,lineNumber:3121,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:3119,columnNumber:13},void 0),t("div",{style:{overflow:"auto"},ref:Gl,children:t("div",{className:"inline-block min-w-full align-middle",children:t("div",{className:"",children:t("table",{className:"min-w-[206%] overflow-x-hidden  table-fixed dark:divide-slate-700",...Ti,children:[t("thead",{className:"bg-slate-200 dark:bg-slate-700",children:Li.map(e=>t("tr",{...e.getHeaderGroupProps(),children:e.headers.map(l=>l.Header==="action"&&!((R==null?void 0:R.readbooking)===!0||(R==null?void 0:R.updatebooking)===!0||(R==null?void 0:R.deletebooking)===!0)?t("th",{},void 0,!1,{fileName:o,lineNumber:3139,columnNumber:56},void 0):t("th",{...l.getHeaderProps(l.getSortByToggleProps()),scope:"col",className:"table-th",children:[l.render("Header"),t("span",{children:l.isSorted?l.isSortedDesc?" \u{1F53D}":" \u{1F53C}":""},void 0,!1,{fileName:o,lineNumber:3149,columnNumber:53},void 0)]},void 0,!0,{fileName:o,lineNumber:3143,columnNumber:49},void 0))},void 0,!1,{fileName:o,lineNumber:3132,columnNumber:37},void 0))},void 0,!1,{fileName:o,lineNumber:3130,columnNumber:29},void 0),J===!0?t("div",{className:"pl-[10px]",children:t(Ul,{},void 0,!1,{fileName:o,lineNumber:3161,columnNumber:41},void 0)},void 0,!1,{fileName:o,lineNumber:3160,columnNumber:37},void 0):t("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",...Oi,children:ji.map(e=>(Mi(e),t("tr",{...e.getRowProps(),children:e.cells.map(l=>t("td",{...l.getCellProps(),className:"table-td",children:l.render("Cell")},void 0,!1,{fileName:o,lineNumber:3174,columnNumber:61},void 0))},void 0,!1,{fileName:o,lineNumber:3171,columnNumber:49},void 0)))},void 0,!1,{fileName:o,lineNumber:3164,columnNumber:37},void 0)]},void 0,!0,{fileName:o,lineNumber:3126,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3125,columnNumber:21},void 0)},void 0,!1,{fileName:o,lineNumber:3124,columnNumber:17},void 0)},void 0,!1,{fileName:o,lineNumber:3123,columnNumber:13},void 0),t("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[t("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[t("select",{className:"form-control py-2 w-max",value:$i,onChange:e=>Pi(Number(e.target.value)),children:[50,100,200].map(e=>t("option",{value:e,children:["Show ",e]},e,!0,{fileName:o,lineNumber:3196,columnNumber:29},void 0))},void 0,!1,{fileName:o,lineNumber:3190,columnNumber:21},void 0),t("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",t("span",{children:[Jl+1," of ",Dl.length]},void 0,!0,{fileName:o,lineNumber:3203,columnNumber:25},void 0)]},void 0,!0,{fileName:o,lineNumber:3201,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:3189,columnNumber:17},void 0),t("ul",{className:"flex items-center  space-x-3  rtl:space-x-reverse",children:[t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Ue(0),disabled:!Te,children:t(G,{icon:"heroicons:chevron-double-left-solid"},void 0,!1,{fileName:o,lineNumber:3216,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:3210,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3209,columnNumber:21},void 0),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${Te?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Ri(),disabled:!Te,children:"Prev"},void 0,!1,{fileName:o,lineNumber:3220,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3219,columnNumber:21},void 0),Dl.map((e,l)=>t("li",{children:t("button",{href:"#","aria-current":"page",className:` ${l===Jl?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "}    text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>Ue(l),children:e+1},void 0,!1,{fileName:o,lineNumber:3231,columnNumber:29},void 0)},l,!1,{fileName:o,lineNumber:3230,columnNumber:25},void 0)),t("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>Hi(),disabled:!_e,children:"Next"},void 0,!1,{fileName:o,lineNumber:3245,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3244,columnNumber:21},void 0),t("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:t("button",{onClick:()=>Ue(Ii-1),disabled:!_e,className:` ${_e?"":"opacity-50 cursor-not-allowed"}`,children:t(G,{icon:"heroicons:chevron-double-right-solid"},void 0,!1,{fileName:o,lineNumber:3261,columnNumber:29},void 0)},void 0,!1,{fileName:o,lineNumber:3255,columnNumber:25},void 0)},void 0,!1,{fileName:o,lineNumber:3254,columnNumber:21},void 0)]},void 0,!0,{fileName:o,lineNumber:3208,columnNumber:17},void 0)]},void 0,!0,{fileName:o,lineNumber:3188,columnNumber:13},void 0)]},void 0,!0)};var x="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\booking-management\\BookingTable.jsx";const aa={option:(j,U)=>({...j,fontSize:"14px"})},ta=({title:j,linktitle:U,pagelink:R,handleDataUpdate:u})=>{const D=localStorage.getItem("isAuth"),V=JSON.parse(D),{data:J}=vi(V==null?void 0:V.roleid),[p,M]=r.exports.useState([]),[ee,Y]=r.exports.useState(!1),[je,ce]=r.exports.useState(""),[F,le]=r.exports.useState(""),[ke,ie]=r.exports.useState(!1);r.exports.useState({startDate:"",endDate:""});const[K,se]=r.exports.useState(""),He=[{value:"SELECT RESERVATION DATE",label:"SELECT RESERVATION DATE"},{value:"SELECT CHECK-IN DATE",label:"SELECT CHECK-IN DATE"},{value:"SELECT CHECK-OUT DATE",label:"SELECT CHECK-OUT DATE"}],[Re,ue]=r.exports.useState({startDate:"",endDate:""}),[Be,Ae]=r.exports.useState({startDate:"",endDate:""}),[E,L]=r.exports.useState({startDate:"",endDate:""}),[i,b]=r.exports.useState(!1),a=async c=>{if(K==="SELECT RESERVATION DATE"){ue(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.reservationdate),S=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),S.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<S||N>H)&&(h=!1)}return h});M(y),b(!0)}else if(K==="SELECT CHECK-IN DATE"){Ae(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.checkindate),S=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),S.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<S||N>H)&&(h=!1)}return h});M(y),b(!0)}else if(K==="SELECT CHECK-OUT DATE"){L(c);const y=p.filter(f=>{let h=!0;if((c==null?void 0:c.startDate)&&(c==null?void 0:c.endDate)){const N=new Date(f.checkoutdate),S=new Date(c==null?void 0:c.startDate),H=new Date(c==null?void 0:c.endDate);N.setHours(0,0,0,0),S.setHours(0,0,0,0),H.setHours(0,0,0,0),(N<S||N>H)&&(h=!1)}return h});M(y),b(!0)}},Se=async()=>{Y(!0);const y=await(await fetch("http://dev-rare.srp.ai/booking")).json();M(y),le(y),ue({startDate:"",endDate:""}),Ae({startDate:"",endDate:""}),L({startDate:"",endDate:""}),se(""),Y(!1),b(!1)},_=[{value:"All Booking",label:"All Booking"},{value:"Approved Booking",label:"Approved Booking"},{value:"Cancelled Booking",label:"Cancelled Booking"}],[C,Ml]=r.exports.useState("All Booking");r.exports.useEffect(()=>{C==="All Booking"?(async()=>{Y(!0);const f=await(await fetch("http://dev-rare.srp.ai/booking")).json();M(f),le(f),ce(f),Y(!1)})():C==="Approved Booking"?(async()=>{Y(!0);const f=await(await fetch("http://dev-rare.srp.ai/booking/api/approvedbooking")).json();M(f),le(f),Y(!1)})():C==="Cancelled Booking"&&(async()=>{Y(!0);const f=await(await fetch("http://dev-rare.srp.ai/booking/api/cancelledbooking?cancelled=true")).json();M(f),le(f),Y(!1)})()},[C]);const[re,k]=r.exports.useState(0),W={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#00EBFF"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}},Wl={series:[{data:[800,600,1e3,800,600,1e3,800,900]}],options:{chart:{toolbar:{autoSelected:"pan",show:!1},offsetX:0,offsetY:0,zoom:{enabled:!1},sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},colors:["#FB8F65"],tooltip:{theme:"light"},grid:{show:!1,padding:{left:0,right:0}},yaxis:{show:!1},fill:{type:"solid",opacity:[.1]},legend:{show:!1},xaxis:{low:0,offsetX:0,offsetY:0,show:!1,labels:{low:0,offsetX:0,show:!1},axisBorder:{low:0,offsetX:0,show:!1}}}};r.exports.useEffect(()=>{var c,y,f;if(C==="All Booking"){let h=0;for(let N=0;N<(p==null?void 0:p.length);N++){let S=parseFloat((c=p[N])==null?void 0:c.roomrentamount);!isNaN(S)&&((y=p[N])==null?void 0:y.cancelled)===!1&&(h+=S)}k(h||0)}else{let h=0;for(let N=0;N<(p==null?void 0:p.length);N++){let S=parseFloat((f=p[N])==null?void 0:f.roomrentamount);isNaN(S)||(h+=S)}k(h||0)}},[p==null?void 0:p.length,C]);const[Ie,A]=r.exports.useState(0);r.exports.useEffect(()=>{if(C==="All Booking"||C==="Approved Booking"){let c=p==null?void 0:p.filter(y=>y.cancelled===!1).length;A(c)}else{let c=p==null?void 0:p.length;A(c)}},[C,p]);const q=[{name:W,title:"Total No of Check-In ",count:Ie,bg:"bg-[#E5F9FF] dark:bg-slate-900	"},{name:Wl,title:"Total Collection",count:re?re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" AED":0,bg:"bg-[#FFEDE5] dark:bg-slate-900	"}];function $l(c){if(c){const y=p.filter(f=>{ie(!0);let h=!0;return c.buildingid&&f.buildingid!==c.buildingid&&(h=!1),c.communityid&&f.communityid!==c.communityid&&(h=!1),c.owner_email&&f.owner_email!==c.owner_email&&(h=!1),c.projectnameid&&f.projectnameid!==c.projectnameid&&(h=!1),c.unitnumber&&f.unitnumber!==c.unitnumber&&(h=!1),c.email&&f.email!==c.email&&(h=!1),c.bookingagent&&f.bookingagent!==c.bookingagent&&(h=!1),h});M(y),ie(!1)}else M(F)}const Pe=async()=>{ie(!0),ue({startDate:"",endDate:""}),Ae({startDate:"",endDate:""}),L({startDate:"",endDate:""}),se(""),M(F),ie(!1),b(!1)};return t(P,{children:ee===!0?t(Ul,{},void 0,!1,{fileName:x,lineNumber:645,columnNumber:21},void 0):t(bi,{children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("h4",{className:"card-title",children:j},void 0,!1,{fileName:x,lineNumber:648,columnNumber:29},void 0),(J==null?void 0:J.createbooking)===!0&&t(w,{to:R,className:"btn-dark py-[8px] px-[24px] rounded-[5px]",children:U},void 0,!1,{fileName:x,lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:x,lineNumber:647,columnNumber:25},void 0),t("div",{className:"grid grid-cols-12 gap-5 mb-5",children:t("div",{className:"2xl:col-span-12 lg:col-span-12 col-span-12",children:[t(bi,{bodyClass:"p-4",children:t("div",{className:"grid md:grid-cols-2 col-span-1 gap-4",children:t(Qn,{statistics:q},void 0,!1,{fileName:x,lineNumber:694,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:693,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:657,columnNumber:33},void 0),t("div",{className:"flex justify-end items-center mb-[15px] mt-[25px]",children:t("div",{className:"flex justify-end items-center ",children:t("div",{className:"flex -gap-x-[5px] items-center",children:[t("div",{className:"w-[300px]",children:t(X,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:He,value:He.filter(function(c){return c.value===K}),onChange:c=>{se(c==null?void 0:c.value)},styles:aa,id:"hh",placeholder:"Select Date filter option..."},void 0,!1,{fileName:x,lineNumber:701,columnNumber:49},void 0)},void 0,!1,{fileName:x,lineNumber:700,columnNumber:45},void 0),K&&K==="SELECT RESERVATION DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Bl,{value:Re,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT RESERVATION DATE"},void 0,!1,{fileName:x,lineNumber:721,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:720,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:719,columnNumber:53},void 0):null,K&&K==="SELECT CHECK-IN DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Bl,{value:Be,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-IN DATE"},void 0,!1,{fileName:x,lineNumber:735,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:734,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:733,columnNumber:53},void 0):null,K&&K==="SELECT CHECK-OUT DATE"?t("div",{className:"w-[150px]",children:t("div",{className:"date-range-custom relative",children:t(Bl,{value:E,inputClassName:"input-class",containerClassName:"container-class",onChange:a,placeholder:"SELECT CHECK-OUT DATE"},void 0,!1,{fileName:x,lineNumber:749,columnNumber:61},void 0)},void 0,!1,{fileName:x,lineNumber:748,columnNumber:57},void 0)},void 0,!1,{fileName:x,lineNumber:747,columnNumber:53},void 0):null]},void 0,!0,{fileName:x,lineNumber:699,columnNumber:41},void 0)},void 0,!1,{fileName:x,lineNumber:698,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:697,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:656,columnNumber:29},void 0)},void 0,!1,{fileName:x,lineNumber:655,columnNumber:25},void 0),(F==null?void 0:F.length)&&(p==null?void 0:p.length)?t(na,{allBooking:p,handleDataUpdate:u,dataRole:J,forFilterData:je,handleClearFilter:Pe,typeOfBooking:_,selectedtypeOfBooking:C,setSelectedtypeOfBooking:Ml,filterLoader:ke,handleFilterSearch:$l,dataFilterActive:i,removeDateFilter:Se},void 0,!1,{fileName:x,lineNumber:766,columnNumber:33},void 0):t("div",{className:"flex justify-center items-center",children:t("img",{src:Zn,alt:"NotFound",className:"h-[564px] object-contain"},void 0,!1,{fileName:x,lineNumber:768,columnNumber:37},void 0)},void 0,!1,{fileName:x,lineNumber:767,columnNumber:33},void 0)]},void 0,!0,{fileName:x,lineNumber:646,columnNumber:21},void 0)},void 0,!1)};var Pl="C:\\Users\\LENOVO\\Desktop\\rareProjects\\Rare_Frontend\\src\\pages\\booking-management\\AllBooking.jsx";const La=()=>{const[j,U]=r.exports.useState([]),[R,u]=r.exports.useState(!1);return r.exports.useEffect(()=>{u(!0),(async()=>{const p=await(await fetch("http://dev-rare.srp.ai/booking")).json();U(p),u(!1)})()},[]),t(P,{children:R===!1?t("div",{className:" space-y-5",children:t(ta,{pagelink:"/add-booking",linktitle:"Add new Booking",title:"All Booking",allData:j,handleDataUpdate:()=>{(async()=>{u(!0);const p=await(await fetch("http://dev-rare.srp.ai/booking")).json();U(p),u(!1)})()}},void 0,!1,{fileName:Pl,lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:Pl,lineNumber:73,columnNumber:21},void 0):t(Ul,{},void 0,!1,{fileName:Pl,lineNumber:75,columnNumber:30},void 0)},void 0,!1)};export{La as default};
