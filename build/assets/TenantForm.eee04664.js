import{bW as on,z as ln,ad as cn,r as c,B as pn,cD as dn,cA as sn,cF as rn,cG as mn,v as fn,w as I,x as hn,b as p,F as P,j as a,s as un,C as yn,an as ue,ah as vn,al as B,T as O,ce as ye,cd as D,az as re,L as bn,y as xn,G as dt,cf as w,c9 as ve,cg as be,Q as me}from"./index.50bb4499.js";const xe={option:(j,ae)=>({...j,fontSize:"14px"})},zn=()=>{const{id:j}=on(),ae=ln(),oe=cn(),[e,v]=c.exports.useState(""),[ge,_e]=c.exports.useState(""),[Ne,qe]=c.exports.useState(""),[ke,Ce]=c.exports.useState(""),[Se,we]=c.exports.useState(""),[gn,st]=c.exports.useState(""),A=i=>{const{name:o,value:n}=i.target;v({...e,[o]:n})},ie=new URLSearchParams(window.location.search),le=ie.get("propertyid"),L=ie.get("renew"),R=ie.get("customerid"),ce=ie.get("contractenddate");c.exports.useEffect(()=>{le!=null&&v(i=>({...i,propertyid:le}))},[le]),c.exports.useEffect(()=>{L!=null&&v(i=>({...i,contractupdation:L}))},[L]),c.exports.useEffect(()=>{R!=null&&(v(o=>({...o,customerid:R,customertype:"Existing Tenant"})),(async()=>{if(R){const n=await(await fetch(`http://dev-rare.srp.ai/users/${R}`)).json();n&&(Ve(n),v({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),de((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})())},[R]),c.exports.useEffect(()=>{if(ce!=null){const i=new Date(ce);i.setDate(i.getDate()+1);const o=i.toISOString();v(n=>({...n,contractstartdate:o}))}},[ce]);const J=pn(),{data:pe}=dn(),{data:h,isSuccess:Fe}=sn(j),[Pe,_n]=c.exports.useState(!1),[Ae,je]=c.exports.useState(""),[rt,ze]=c.exports.useState(""),[mt,Te]=c.exports.useState(""),[Ee,Oe]=c.exports.useState("");c.exports.useEffect(()=>{var i,o,n,r,u,y,N,S,k,_,s,l;j&&h&&Fe&&(v(h==null?void 0:h.tenantContract),je(((i=h==null?void 0:h.tenantContract)==null?void 0:i.ejari_certificate_doc)&&((o=h==null?void 0:h.tenantContract)==null?void 0:o.ejari_certificate_doc)!==void 0?(n=h==null?void 0:h.tenantContract)==null?void 0:n.ejari_certificate_doc:""),ze(((r=h==null?void 0:h.tenantContract)==null?void 0:r.tenancy_contract_doc)&&((u=h==null?void 0:h.tenantContract)==null?void 0:u.tenancy_contract_doc)!==void 0?(y=h==null?void 0:h.tenantContract)==null?void 0:y.tenancy_contract_doc:""),Te(((N=h==null?void 0:h.tenantContract)==null?void 0:N.addendum_doc)&&((S=h==null?void 0:h.tenantContract)==null?void 0:S.addendum_doc)!==void 0?(k=h==null?void 0:h.tenantContract)==null?void 0:k.addendum_doc:""),Oe(((_=h==null?void 0:h.tenantContract)==null?void 0:_.key_receipt_doc)&&((s=h==null?void 0:h.tenantContract)==null?void 0:s.key_receipt_doc)!==void 0?(l=h==null?void 0:h.tenantContract)==null?void 0:l.key_receipt_doc:""))},[j,h,Fe]);const[Ge]=rn(),[ft]=mn(),[$e,ht]=c.exports.useState([]);c.exports.useEffect(()=>{fetch("http://dev-rare.srp.ai/property").then(i=>i.json()).then(i=>{const o=i==null?void 0:i.map(n=>({label:n.unitnumber+" | "+n.communityname+" | "+n.projectname+" | "+n.buildingname,value:n._id}));ht(o)})},[]),c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.propertyid){const n=await(await fetch(`http://dev-rare.srp.ai/property/${e==null?void 0:e.propertyid}`)).json();n&&v({...e,unitnumber:n==null?void 0:n.unitnumber,buildingname:n==null?void 0:n.building_name,projectname:n==null?void 0:n.project_name,communityname:n==null?void 0:n.community_name})}})()},[e==null?void 0:e.propertyid]);const[G,ut]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{await fetch("http://dev-rare.srp.ai/users/api/customers").then(o=>o.json()).then(o=>{var r;const n=(r=o==null?void 0:o.users)==null?void 0:r.map(u=>({label:u.firstname+" "+u.lastname+" | "+u.email+" | "+u.passportidno+" | "+u.whatsappno,value:u._id}));ut(n)})})()},[]);const[Ue,de]=c.exports.useState(""),[t,Ve]=c.exports.useState("");c.exports.useEffect(()=>{(async()=>{if(e!=null&&e.customerid){const n=await(await fetch(`http://dev-rare.srp.ai/users/${e==null?void 0:e.customerid}`)).json();n&&(Ve(n),v({...e,guestname:(n==null?void 0:n.firstname)+" "+(n==null?void 0:n.lastname),passportnumber:n==null?void 0:n.passportidno,email:n==null?void 0:n.email,nationality:n==null?void 0:n.passportno,mobilenumber:n==null?void 0:n.whatsappno,passportpdf:(n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""}),de((n==null?void 0:n.passportpdf)&&(n==null?void 0:n.passportpdf)!==void 0?n==null?void 0:n.passportpdf:""))}})()},[e==null?void 0:e.customerid]);const[Be,yt]=c.exports.useState([]);c.exports.useEffect(()=>{(async()=>{const n=await(await fetch("http://dev-rare.srp.ai/users/api/customer/withoutdate?sort=descending&page=0&perPage=all")).json();return yt(n==null?void 0:n.users)})()},[]);const[Nn,vt]=c.exports.useState(e==null?void 0:e.customertype),bt=i=>{vt(i.target.value),v({...e,customertype:i.target.value,guestname:"",passportnumber:"",email:"",nationality:"",mobilenumber:"",passportpdf:"",customerid:""}),de("")},xt=[{value:"Existing Tenant",label:"Existing Tenant"},{value:"New Tenant",label:"New Tenant"}];c.exports.useEffect(()=>{(async()=>{try{const o=ye.getAllCountries();let n=[];n=o==null?void 0:o.map(({isoCode:r,name:u})=>({isoCode:r,name:u}))}catch(o){console.log(o)}})()},[]);const[M,gt]=c.exports.useState(null),Le=i=>{gt(i.target.files[0]),v({...e,passportpdf:i.target.files[0]})},_t=()=>{v({...e,passportpdf:""}),de("")},[ee,Re]=c.exports.useState(null),Nt=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Re(o),v({...e,ejari_certificate_doc:o}),_e("")):(Re(null),v({...e,ejari_certificate_doc:null}),_e("File size exceeds 10MB limit!"))},qt=()=>{v({...e,ejari_certificate_doc:""}),je("")},[H,Je]=c.exports.useState(null),kt=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Je(o),v({...e,tenancy_contract_doc:o}),qe("")):(Je(null),v({...e,tenancy_contract_doc:null}),qe("File size exceeds 10MB limit!"))},Ct=()=>{v({...e,tenancy_contract_doc:""}),ze("")},[Q,Me]=c.exports.useState(null),St=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(Me(o),v({...e,addendum_doc:o}),Ce("")):(Me(null),v({...e,addendum_doc:null}),Ce("File size exceeds 10MB limit!"))},wt=()=>{v({...e,addendum_doc:""}),Te("")},[te,He]=c.exports.useState(null),Ft=i=>{const o=i.target.files[0],n=10*1024*1024;o&&o.size<=n?(He(o),v({...e,key_receipt_doc:o}),we("")):(He(null),v({...e,key_receipt_doc:null}),we("File size exceeds 10MB limit!"))},Pt=()=>{v({...e,key_receipt_doc:""}),Oe("")};c.exports.useState(null);const[F,Qe]=c.exports.useState("");c.exports.useEffect(()=>{if(j&&(e==null?void 0:e.chequeDetails)&&oe.pathname===`/update-tenantcontract/${j}`){const i=e.chequeDetails.map(o=>!o||typeof o.chequeimage!="string"?{...o,chequeimage:""}:o);Qe(i)}},[j,e==null?void 0:e.chequeDetails]);const At=i=>{Qe(o=>{const n=[...o];return n[i]={...n[i],chequeimage:""},n}),v(o=>{const n={...o},r=[...n.chequeDetails];return r[i]={...r[i],chequeimage:""},n.chequeDetails=r,n})},[C,Ke]=c.exports.useState(0);c.exports.useEffect(()=>{parseFloat(e==null?void 0:e.noofchequeorinstallment)?Ke(parseFloat(e==null?void 0:e.noofchequeorinstallment)):Ke(0)},[e==null?void 0:e.noofchequeorinstallment]),c.exports.useState([]);const[We,jt]=c.exports.useState([]),zt=(i,o)=>{let n=[];i.target,e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const r=n[o]||{};n[o]={...r,chequenumbe:i.target.value,chequedate:(r==null?void 0:r.chequedate)||"",totalamount:(r==null?void 0:r.totalamount)||""};const u={...e,chequeDetails:n};v(u)},Tt=(i,o)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const r=n[o]||{};n[o]={...r,chequedate:i[0]||""};const u={...e,chequeDetails:n};v(u)},Et=(i,o)=>{let n=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(n=[...e.chequeDetails]);const r=n[o]||{};n[o]={...r,totalamount:i.target.value,chequenumbe:(r==null?void 0:r.chequenumbe)||"",chequedate:(r==null?void 0:r.chequedate)||"",chequeimage:(r==null?void 0:r.chequeimage)||""};const u={...e,chequeDetails:n};v(u)},Ot=(i,o)=>{const n=[...We],r=i.target.files[0];n[o]=r,jt(n);let u=[];e.chequeDetails&&Array.isArray(e.chequeDetails)&&(u=[...e.chequeDetails]);const y=u[o]||{};u[o]={...y,totalamount:(y==null?void 0:y.totalamount)||"",chequenumbe:(y==null?void 0:y.chequenumbe)||"",chequedate:(y==null?void 0:y.chequedate)||"",chequeimage:r||""};const N={...e,chequeDetails:u};v(N)},[Ye,$]=c.exports.useState(""),[Gt,qn]=c.exports.useState(""),[Xe,$t]=c.exports.useState(""),[se,K]=c.exports.useState(""),[Ze,Ut]=c.exports.useState(""),[Ie,kn]=c.exports.useState(""),[De,Cn]=c.exports.useState(""),[Vt,Sn]=c.exports.useState(""),[Bt,W]=c.exports.useState(""),[Lt,Y]=c.exports.useState("");c.exports.useState("");const[Rt,et]=c.exports.useState(Array(C).fill("")),[Jt,tt]=c.exports.useState(Array(C).fill("")),[Mt,nt]=c.exports.useState(Array(C).fill("")),[Ht,at]=c.exports.useState(Array(C).fill("")),[Qt,wn]=c.exports.useState(""),[Kt,Fn]=c.exports.useState(""),[Wt,Pn]=c.exports.useState("");c.exports.useState("");const[ot,fe]=c.exports.useState(!1);c.exports.useEffect(()=>{e.customertype==="New Tenant"&&oe.pathname==="/add-tenantcontract"?Be.find(o=>o.email===e.email)?(K("Email is already in use. Please check existing tenants."),fe(!0)):(K(""),fe(!1)):e.customertype==="Existing Tenant"&&(K(""),fe(!1))},[e.customertype,e.email,Be]);let Yt={propertyid:"property",customertype:"Tenant Type",email:"Email",guestname:"Tenant Name",mobilenumber:"Mobile Number",contractstartdate:"contract start date",contractenddate:"contract end date",contractvalue:"contract value",rentalamount:"rental amount",securitydepositamount:"Security deposit amount",noofchequeorinstallment:"no of cheque or installment",commission:"commission"};const Xt=fn({propertyid:I().required(Ye),customertype:I().required(Xe),email:I().email(se).required(se),guestname:I().required(Ze),mobilenumber:I().required(Ie),nationality:I().required(De)}).required(),{register:T,formState:{errors:An}}=hn({resolver:xn(Xt)}),it=()=>{let i=!1,o={propertyid:$,customertype:$t,email:K,guestname:Ut};return o&&Object.keys(o).length&&Object.keys(o).map(n=>{o[n](""),e[n]||(o[n](Yt[n]+" is required"),i=!0)}),i},[X,ne]=c.exports.useState(!1),Zt=localStorage.getItem("isAuth"),E=JSON.parse(Zt),[It,Z]=c.exports.useState(!1);c.exports.useEffect(()=>{const i=o=>{const{_id:n,propertyid:r,contractstartdate:u,contractenddate:y}=o,{contractstartdate:N,contractenddate:S,propertyid:k}=e;return n!==(e==null?void 0:e._id)&&u&&y&&new Date(u).toISOString()<new Date(S).toISOString()&&new Date(y).toISOString()>new Date(N).toISOString()&&r===k?(Z(!0),$("Property is already Listed"),W("Property is already Listed"),Y("Property is already Listed"),!0):(Z(!1),$(""),W(""),Y(""),!1)};if((e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.propertyid))for(let o=0;o<(pe==null?void 0:pe.length);o++){const n=pe[o];if(i(n)){Z(!0),$("Property is already Listed"),W("Property is already Listed"),Y("Property is already Listed");break}else{Z(!1),$(""),W(""),Y("");break}}else Z(!1),$(""),W(""),Y("")},[e==null?void 0:e.contractstartdate,e==null?void 0:e.contractenddate,e==null?void 0:e.propertyid]);const Dt=async()=>{var i,o,n,r,u,y,N,S;if(et(Array(C).fill("")),tt(Array(C).fill("")),nt(Array(C).fill("")),at(Array(C).fill("")),!e.propertyid||!e.guestname||!e.email)it();else if(!(e!=null&&e.customerid)&&!dt.isEmail(e.email))K("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&Pe===!1&&ot===!1&&It===!1){ne(!0);let k;try{let _=[];M&&_.push(w(M,"Passport")),ee&&_.push(w(ee,"ejari_certificate_doc")),H&&_.push(w(H,"tenancy_contract_doc")),Q&&_.push(w(Q,"addendum_doc")),te&&_.push(w(te,"key_receipt_doc"));let s=await Promise.all(_);if(s.length){let l=[];for(let b=0;b<s.length;b++){let g=s[b].data.files;l.push(g)}let d=[];for(let b of l)for(let g of b){let he=g;d.push(he)}let x="",q="",U="",V="",z="";for(let b of d)b.includes("Passport")?x=b:b.includes("ejari_certificate_doc")?q=b:b.includes("tenancy_contract_doc")?U=b:b.includes("addendum_doc")?V=b:b.includes("key_receipt_doc")&&(z=b);const m=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let b=e==null?void 0:e.guestname.split(" ");m.append("_id",e==null?void 0:e.customerid),m.append("firstname",b[0]),m.append("lastname",b[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),m.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),m.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),m.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),m.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),m.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),m.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),m.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),m.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),m.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),m.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),m.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),m.append("altemail",t.altemail===void 0?"":t.altemail),m.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),m.append("password",t.password===void 0?"":t.password),m.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),m.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),m.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),m.append("type","tenant"),t!=null&&t.employeeid&&m.append("employeeid",t==null?void 0:t.employeeid),x?m.append("passportpdf",x):m.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t.passportpdf),J(ve(m))}else if((e==null?void 0:e.customertype)==="New Tenant"){let b=e==null?void 0:e.guestname.split(" ");m.append("firstname",b[0]),m.append("lastname",b[1]),m.append("email",e==null?void 0:e.email),m.append("whatsappno",e==null?void 0:e.mobilenumber),m.append("passportno",e==null?void 0:e.nationality),m.append("passportidno",e==null?void 0:e.passportnumber),m.append("type","tenant"),x&&m.append("passportpdf",x),J(be(m))}const f=new FormData;if(f.append("propertyid",e==null?void 0:e.propertyid),f.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&f.append("customerid",e==null?void 0:e.customerid),f.append("guestname",e==null?void 0:e.guestname),f.append("passportnumber",e==null?void 0:e.passportnumber),f.append("email",e==null?void 0:e.email),f.append("nationality",e==null?void 0:e.nationality),f.append("mobilenumber",(e==null?void 0:e.mobilenumber)!==null||(e==null?void 0:e.mobilenumber)!==void 0?e==null?void 0:e.mobilenumber:""),f.append("createdBy",E==null?void 0:E._id),L&&f.append("contractupdation",e==null?void 0:e.contractupdation),x&&f.append("passportpdf",x),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?f.append("contractstartdate",e==null?void 0:e.contractstartdate):f.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?f.append("contractenddate",e==null?void 0:e.contractenddate):f.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?f.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):f.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?f.append("contractvalue",e==null?void 0:e.contractvalue):f.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?f.append("rentalamount",e==null?void 0:e.rentalamount):f.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?f.append("securitydepositamount",e==null?void 0:e.securitydepositamount):f.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?f.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):f.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?f.append("commission",e==null?void 0:e.commission):f.append("commission",""),q?f.append("ejari_certificate_doc",q):f.append("ejari_certificate_doc",""),U?f.append("tenancy_contract_doc",U):f.append("tenancy_contract_doc",""),V?f.append("addendum_doc",V):f.append("addendum_doc",""),z?f.append("key_receipt_doc",z):f.append("key_receipt_doc",""),(e==null?void 0:e.chequeDetails)!==void 0){const b=[];for(const g of e.chequeDetails){const he=(i=g==null?void 0:g.chequenumbe)!=null?i:"",tn=(o=g==null?void 0:g.chequedate)!=null?o:"",nn=(n=g==null?void 0:g.totalamount)!=null?n:"",lt=(r=g==null?void 0:g.chequeimage)!=null?r:"";let ct;if(lt)try{ct=(await w(lt,"chequeimage")).data.files[0]}catch(pt){console.log(pt,"in cheque image")}const an={chequenumbe:he,chequedate:tn,totalamount:nn,chequeimage:ct||""};b.push(an)}f.append("chequeDetails",JSON.stringify(b))}else f.append("chequeDetails",[]);await Ge(f),me.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ae("/all-tenantcontract")},1200)}else{const l=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let x=e==null?void 0:e.guestname.split(" ");l.append("_id",e==null?void 0:e.customerid),l.append("firstname",x[0]),l.append("lastname",x[1]),l.append("email",e==null?void 0:e.email),l.append("whatsappno",e==null?void 0:e.mobilenumber),l.append("passportno",e==null?void 0:e.nationality),l.append("passportidno",e==null?void 0:e.passportnumber),l.append("contactno",t.contactno===void 0||t.contactno===null?"":t.contactno),l.append("datebirth",t.datebirth===void 0||t.datebirth===null?"":t.datebirth),l.append("countryofresidence",t.countryofresidence===void 0||t.countryofresidence===null?"":t.countryofresidence),l.append("memberid",t.memberid===void 0||t.memberid===null?"":t.memberid),l.append("nameonpassport",t.nameonpassport===void 0||t.nameonpassport===null?"":t.nameonpassport),l.append("nationalidexpiry",t.nationalidexpiry===void 0||t.nationalidexpiry===null?"":t.nationalidexpiry),l.append("nationalidissuedate",t.nationalidissuedate===void 0||t.nationalidissuedate===null?"":t.nationalidissuedate),l.append("nationalidno",t.nationalidno===void 0||t.nationalidno===null?"":t.nationalidno),l.append("passportexpiry",t.passportexpiry===void 0||t.passportexpiry===null?"":t.passportexpiry),l.append("passportissue",t.passportissue===void 0||t.passportissue===null?"":t.passportissue),l.append("postaladdress",t.postaladdress===void 0||t.postaladdress===null?"":t.postaladdress),l.append("primaryno",t.primaryno===void 0||t.primaryno===null?"":t.primaryno),l.append("altemail",t.altemail===void 0?"":t.altemail),l.append("altmobilenumber",t.altmobilenumber===void 0?"":t.altmobilenumber),l.append("password",t.password===void 0?"":t.password),l.append("confirmpass",t.confirmpass===void 0?"":t.confirmpass),l.append("residentstatus",t.residentstatus===void 0?"":t.residentstatus),l.append("nationalidpdf",t.nationalidpdf===void 0?"":t.nationalidpdf),l.append("passportpdf",t==null?void 0:t.passportpdf),l.append("type","tenant"),t!=null&&t.employeeid&&l.append("employeeid",t==null?void 0:t.employeeid),J(ve(l))}else if((e==null?void 0:e.customertype)==="New Tenant"){let x=e==null?void 0:e.guestname.split(" ");l.append("firstname",x[0]),l.append("lastname",x[1]),l.append("email",e==null?void 0:e.email),l.append("whatsappno",e==null?void 0:e.mobilenumber),l.append("passportno",e==null?void 0:e.nationality),l.append("passportidno",e==null?void 0:e.passportnumber),l.append("type","tenant"),l.append("passportpdf",e==null?void 0:e.passportpdf),J(be(l))}const d=new FormData;if(d.append("propertyid",e==null?void 0:e.propertyid),d.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&d.append("customerid",e==null?void 0:e.customerid),d.append("guestname",e==null?void 0:e.guestname),d.append("passportnumber",e==null?void 0:e.passportnumber),d.append("email",e==null?void 0:e.email),d.append("nationality",e==null?void 0:e.nationality),d.append("mobilenumber",e==null?void 0:e.mobilenumber),d.append("createdBy",E==null?void 0:E._id),d.append("passportpdf",""),L&&d.append("contractupdation",e==null?void 0:e.contractupdation),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?d.append("contractstartdate",e==null?void 0:e.contractstartdate):d.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?d.append("contractenddate",e==null?void 0:e.contractenddate):d.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?d.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):d.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?d.append("contractvalue",e==null?void 0:e.contractvalue):d.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?d.append("rentalamount",e==null?void 0:e.rentalamount):d.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?d.append("securitydepositamount",e==null?void 0:e.securitydepositamount):d.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?d.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):d.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?d.append("commission",e==null?void 0:e.commission):d.append("commission",""),d.append("ejari_certificate_doc",""),d.append("tenancy_contract_doc",""),d.append("addendum_doc",""),d.append("key_receipt_doc",""),e!=null&&e.chequeDetails){const x=[];for(const q of e.chequeDetails){const U=(u=q==null?void 0:q.chequenumbe)!=null?u:"",V=(y=q==null?void 0:q.chequedate)!=null?y:"",z=(N=q==null?void 0:q.totalamount)!=null?N:"",m=(S=q==null?void 0:q.chequeimage)!=null?S:"";let f;if(m)try{f=(await w(m,"chequeimage")).data.files[0]}catch(g){console.log(g,"in cheque image")}const b={chequenumbe:U,chequedate:V,totalamount:z,chequeimage:f||""};x.push(b)}d.append("chequeDetails",JSON.stringify(x))}else d.append("chequeDetails",[]);if(k=await Ge(d),k.data.status===!0)return me.success("New Tenant Contract created successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ae("/all-tenantcontract")},1200);ne(!0)}}catch(_){console.log(_,"error"),me.error(`${k.error.data.message}`,{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),ne(!1)}}},en=async i=>{var o,n,r,u;if(i.preventDefault(),et(Array(C).fill("")),tt(Array(C).fill("")),nt(Array(C).fill("")),at(Array(C).fill("")),!e.propertyid||!e.guestname||!e.email)it();else if(!(e!=null&&e.customerid)&&!dt.isEmail(e.email))K("Email is invalid");else if(e.propertyid&&e.guestname&&e.email&&Pe===!1&&ot===!1){ne(!0);try{let y=e==null?void 0:e.passportpdf,N=e==null?void 0:e.ejari_certificate_doc,S=e==null?void 0:e.tenancy_contract_doc,k=e==null?void 0:e.addendum_doc,_=e==null?void 0:e.key_receipt_doc;M!==null&&(y=await w(M,"Passport"),y=y.data.files[0]),ee!==null&&(N=await w(ee,"ejari_certificate_doc"),N=N.data.files[0]),H!==null&&(S=await w(H,"tenancy_contract_doc"),S=S.data.files[0]),Q!==null&&(k=await w(Q,"addendum_doc"),k=k.data.files[0]),te!==null&&(_=await w(te,"key_receipt_doc"),_=_.data.files[0]);const s=new FormData;if((e==null?void 0:e.customertype)==="Existing Tenant"){let d=e==null?void 0:e.guestname.split(" ");s.append("_id",e==null?void 0:e.customerid),s.append("firstname",d[0]),s.append("lastname",d[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),s.append("contactno",(t==null?void 0:t.contactno)===void 0||(t==null?void 0:t.contactno)===null?"":t==null?void 0:t.contactno),s.append("datebirth",(t==null?void 0:t.datebirth)===void 0||(t==null?void 0:t.datebirth)===null?"":t==null?void 0:t.datebirth),s.append("countryofresidence",(t==null?void 0:t.countryofresidence)===void 0||(t==null?void 0:t.countryofresidence)===null?"":t==null?void 0:t.countryofresidence),s.append("memberid",(t==null?void 0:t.memberid)===void 0||(t==null?void 0:t.memberid)===null?"":t==null?void 0:t.memberid),s.append("nameonpassport",(t==null?void 0:t.nameonpassport)===void 0||(t==null?void 0:t.nameonpassport)===null?"":t==null?void 0:t.nameonpassport),s.append("nationalidexpiry",(t==null?void 0:t.nationalidexpiry)===void 0||(t==null?void 0:t.nationalidexpiry)===null?"":t==null?void 0:t.nationalidexpiry),s.append("nationalidissuedate",(t==null?void 0:t.nationalidissuedate)===void 0||(t==null?void 0:t.nationalidissuedate)===null?"":t==null?void 0:t.nationalidissuedate),s.append("nationalidno",(t==null?void 0:t.nationalidno)===void 0||(t==null?void 0:t.nationalidno)===null?"":t==null?void 0:t.nationalidno),s.append("passportexpiry",(t==null?void 0:t.passportexpiry)===void 0||(t==null?void 0:t.passportexpiry)===null?"":t==null?void 0:t.passportexpiry),s.append("passportissue",(t==null?void 0:t.passportissue)===void 0||(t==null?void 0:t.passportissue)===null?"":t==null?void 0:t.passportissue),s.append("postaladdress",(t==null?void 0:t.postaladdress)===void 0||(t==null?void 0:t.postaladdress)===null?"":t==null?void 0:t.postaladdress),s.append("primaryno",(t==null?void 0:t.primaryno)===void 0||(t==null?void 0:t.primaryno)===null?"":t==null?void 0:t.primaryno),s.append("altemail",(t==null?void 0:t.altemail)===void 0?"":t==null?void 0:t.altemail),s.append("altmobilenumber",(t==null?void 0:t.altmobilenumber)===void 0?"":t==null?void 0:t.altmobilenumber),s.append("password",(t==null?void 0:t.password)===void 0?"":t==null?void 0:t.password),s.append("confirmpass",(t==null?void 0:t.confirmpass)===void 0?"":t==null?void 0:t.confirmpass),s.append("residentstatus",(t==null?void 0:t.residentstatus)===void 0?"":t==null?void 0:t.residentstatus),s.append("nationalidpdf",(t==null?void 0:t.nationalidpdf)===void 0?"":t==null?void 0:t.nationalidpdf),s.append("type","tenant"),t!=null&&t.employeeid&&s.append("employeeid",t==null?void 0:t.employeeid),y?s.append("passportpdf",y):s.append("passportpdf",(t==null?void 0:t.passportpdf)===void 0?"":t==null?void 0:t.passportpdf),J(ve(s))}else if((e==null?void 0:e.customertype)==="New Tenant"){let d=e==null?void 0:e.guestname.split(" ");s.append("firstname",d[0]),s.append("lastname",d[1]),s.append("email",e==null?void 0:e.email),s.append("whatsappno",e==null?void 0:e.mobilenumber),s.append("passportno",e==null?void 0:e.nationality),s.append("passportidno",e==null?void 0:e.passportnumber),y&&s.append("passportpdf",y),s.append("type","tenant"),J(be(s))}const l=new FormData;if(l.append("customertype",e==null?void 0:e.customertype),e!=null&&e.customerid&&l.append("customerid",e==null?void 0:e.customerid),l.append("_id",e==null?void 0:e._id),l.append("propertyid",e==null?void 0:e.propertyid),l.append("guestname",e==null?void 0:e.guestname),l.append("passportnumber",e==null?void 0:e.passportnumber),l.append("email",e==null?void 0:e.email),l.append("nationality",e==null?void 0:e.nationality),l.append("mobilenumber",e==null?void 0:e.mobilenumber),l.append("updatedBy",E==null?void 0:E._id),e!=null&&e.contractupdation&&l.append("contractupdation",e==null?void 0:e.contractupdation),y&&l.append("passportpdf",y),(e==null?void 0:e.contractstartdate)&&(e==null?void 0:e.contractstartdate)!==void 0?l.append("contractstartdate",e==null?void 0:e.contractstartdate):l.append("contractstartdate",""),(e==null?void 0:e.contractenddate)&&(e==null?void 0:e.contractenddate)!==void 0?l.append("contractenddate",e==null?void 0:e.contractenddate):l.append("contractenddate",""),(e==null?void 0:e.contractexecutiondate)&&(e==null?void 0:e.contractexecutiondate)!==void 0?l.append("contractexecutiondate",e==null?void 0:e.contractexecutiondate):l.append("contractexecutiondate",""),(e==null?void 0:e.contractvalue)&&(e==null?void 0:e.contractvalue)!==void 0?l.append("contractvalue",e==null?void 0:e.contractvalue):l.append("contractvalue",""),(e==null?void 0:e.rentalamount)&&(e==null?void 0:e.rentalamount)!==void 0?l.append("rentalamount",e==null?void 0:e.rentalamount):l.append("rentalamount",""),(e==null?void 0:e.securitydepositamount)&&(e==null?void 0:e.securitydepositamount)!==void 0?l.append("securitydepositamount",e==null?void 0:e.securitydepositamount):l.append("securitydepositamount",""),(e==null?void 0:e.noofchequeorinstallment)&&(e==null?void 0:e.noofchequeorinstallment)!==void 0?l.append("noofchequeorinstallment",e==null?void 0:e.noofchequeorinstallment):l.append("noofchequeorinstallment",""),(e==null?void 0:e.commission)&&(e==null?void 0:e.commission)!==void 0?l.append("commission",e==null?void 0:e.commission):l.append("commission",""),N&&l.append("ejari_certificate_doc",N),S&&l.append("tenancy_contract_doc",S),k&&l.append("addendum_doc",k),_&&l.append("key_receipt_doc",_),e!=null&&e.chequeDetails){const d=[];for(const x of e.chequeDetails){const q=(o=x==null?void 0:x.chequenumbe)!=null?o:"",U=(n=x==null?void 0:x.chequedate)!=null?n:"",V=(r=x==null?void 0:x.totalamount)!=null?r:"",z=(u=x==null?void 0:x.chequeimage)!=null?u:"";let m;if(z)if(typeof z!="string")try{m=(await w(z,"chequeimage")).data.files[0]}catch(b){console.log(b,"in cheque image")}else m=z;const f={chequenumbe:q,chequedate:U,totalamount:V,chequeimage:m||""};d.push(f)}l.append("chequeDetails",JSON.stringify(d))}else l.append("chequeDetails",[]);await ft(l),me.success("Update Tenant Contract successfully",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{ae("/all-tenantcontract")},1200)}catch(y){console.log(y,"error"),ne(!1)}}};return p(P,{children:[a(un,{}),a(yn,{title:"tenant contract Form",children:a("div",{children:p("form",{className:"lg:grid-cols-2 grid gap-5 grid-cols-1 ",children:[a("div",{className:"w-[100%] col-span-3",children:a("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"PROPERTY DETAILS"})}),p("div",{className:"w-[100%] col-span-3",children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Property"}),a(ue,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:$e,value:$e.filter(function(i){return i.value===(e==null?void 0:e.propertyid)}),onChange:i=>{v({...e,propertyid:i==null?void 0:i.value})},styles:xe,id:"hh",placeholder:"Select and Search property"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ye})]}),a(P,{children:e!=null&&e.propertyid?a(P,{children:a("div",{className:"w-[100%] col-span-3",children:p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Unit number"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"unitnumer",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.unitnumber?e==null?void 0:e.unitnumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Community Name"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"communityname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.communityname?e==null?void 0:e.communityname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Project Name"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"projectname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.projectname?e==null?void 0:e.projectname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Building Name"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"buildingname",className:"  form-control py-2   ",placeholder:"Add placeholder",readonly:"",value:e!=null&&e.buildingname?e==null?void 0:e.buildingname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]})]})})}):null}),a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})}),a("div",{className:"w-[100%] col-span-3",children:a("h4",{className:"text-base text-slate-800 dark:text-slate-300 mb-[0.5rem] mt-[0.5rem]",children:"TENANT DETAILS:"})}),p("div",{className:"w-[100%] col-span-3",children:[a("div",{className:"flex flex-wrap space-xy-5 w-[100%]",children:xt.map(i=>a(vn,{label:i.label,name:"color",value:i.value,checked:(e==null?void 0:e.customertype)===i.value,onChange:bt}))}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Xe}),a("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5 mt-[20px]",children:(e==null?void 0:e.customertype)==="Existing Tenant"?p(P,{children:[p("div",{className:"w-[100%] col-span-3",children:[a("div",{children:G!=null&&G.length?p(P,{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Enter your Tenant"}),a(ue,{label:"Basic Select",className:"react-select",classNamePrefix:"select",options:G,value:G==null?void 0:G.filter(function(i){return i.value===(e==null?void 0:e.customerid)}),onChange:i=>{v({...e,customerid:i==null?void 0:i.value})},styles:xe,id:"hh"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:se&&"Customer details are required"})]}):null}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Gt})]}),a(P,{children:e!=null&&e.customerid?p(P,{children:[p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Tenant Name"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"guestname",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.guestname?e==null?void 0:e.guestname:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Email"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"email",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.email?e==null?void 0:e.email:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Mobile Number"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"mobilenumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.mobilenumber?e==null?void 0:e.mobilenumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Passport no"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.passportnumber?e==null?void 0:e.passportnumber:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Nationality"}),p("div",{className:"relative ",children:[a("input",{type:"text",name:"passportnumber",className:"  form-control py-2   ",placeholder:"Add placeholder",readOnly:"",value:e!=null&&e.nationality?e==null?void 0:e.nationality:"Not Available"}),a("div",{className:"flex text-xl absolute ltr:right-[14px] rtl:left-[14px] top-1/2 -translate-y-1/2  space-x-1 rtl:space-x-reverse"})]})]}),p("div",{className:"fromGroup       ",children:[a("label",{className:"block capitalize form-label  ",children:"Passport PDF/PNG/JPG"}),Ue!==""?a("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()})}):a(B,{name:"basic",selectedFile:M,onChange:Le})]})]}):null})]}):(e==null?void 0:e.customertype)==="New Tenant"?p(P,{children:[p("div",{children:[a(O,{label:"Tenant Name",type:"text",placeholder:"Type your Tenant Name",name:"guestname",value:e.guestname||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ze})]}),p("div",{children:[a(O,{label:"email",type:"text",placeholder:"email",name:"email",value:e.email||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:se})]}),p("div",{children:[a(O,{label:"Mobile Number",type:"number",placeholder:"Type your Mobile Number",name:"mobilenumber",value:e.mobilenumber||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ie})]}),p("div",{children:[a(O,{label:"Passport no",type:"text",placeholder:"Type your Passport no",name:"passportnumber",value:e.passportnumber||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Vt})]}),p("div",{children:[a("label",{htmlFor:" hh",className:"form-label ",children:"Nationality"}),a(ue,{className:"react-select",classNamePrefix:"select",name:"nationality",value:ye.getAllCountries().filter(function(i){return i.name===(e==null?void 0:e.nationality)}),options:ye.getAllCountries(),styles:xe,id:"hh",getOptionLabel:i=>i.name,getOptionValue:i=>i.name,onChange:i=>{st(i==null?void 0:i.name),A({target:{name:"nationality",value:i.name}})}}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:De})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Passport PDF/PNG/JPG"}),Ue!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.passportpdf}`,children:decodeURIComponent(e==null?void 0:e.passportpdf).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:_t})]}):a(B,{name:"basic",selectedFile:M,onChange:Le})]})]}):null})]}),a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})}),p("div",{className:"w-[100%] col-span-3",children:[p("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-5",children:[p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract execution date"}),a(re,{className:"form-control py-2",name:" contractexecutiondate",value:e.contractexecutiondate||"",onChange:i=>{A({target:{name:"contractexecutiondate",value:i[0]}})},id:"default-picker",placeholder:"Select  contract execution\xA0date"})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract start date"}),a(re,{className:"form-control py-2",name:"contractstartdate",value:e.contractstartdate||"",onChange:i=>{A({target:{name:"contractstartdate",value:i[0]}})},id:"default-picker",options:{maxDate:(e==null?void 0:e.contractenddate)!==null?new Date(e==null?void 0:e.contractenddate):""},placeholder:"Select contract start Date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Bt})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"contract end date"}),a(re,{className:"form-control py-2",name:"contractenddate",value:e.contractenddate||"",onChange:i=>{A({target:{name:"contractenddate",value:i[0]}})},id:"default-picker",options:{minDate:(e==null?void 0:e.contractstartdate)!==null?new Date(e==null?void 0:e.contractstartdate):""},placeholder:"Select contract end Date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Lt})]}),a(P,{}),p("div",{children:[a(O,{label:"rental amount",type:"number",placeholder:"Type your rental amount",name:"rentalamount",value:e.rentalamount||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Qt})]}),p("div",{children:[a(O,{label:"security deposit amount",type:"number",placeholder:"Type your security deposit amount",name:"securitydepositamount",value:e.securitydepositamount||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Kt})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Ejari Certificate PDF/PNG/JPG"}),Ae!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.ejari_certificate_doc}`,children:decodeURIComponent(e==null?void 0:e.ejari_certificate_doc).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:qt})]}):a(B,{name:"basic",selectedFile:ee,onChange:Nt}),!Ae&&ge&&a("p",{style:{color:"red",fontSize:10},children:ge})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Tenancy Contract PDF/PNG/JPG"}),rt!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.tenancy_contract_doc}`,children:decodeURIComponent(e==null?void 0:e.tenancy_contract_doc).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Ct})]}):a(B,{name:"basic",selectedFile:H,onChange:kt}),!H&&Ne&&a("p",{style:{color:"red",fontSize:10},children:Ne})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Addendum PDF/PNG/JPG"}),mt!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.addendum_doc}`,children:decodeURIComponent(e==null?void 0:e.addendum_doc).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:wt})]}):a(B,{name:"basic",selectedFile:Q,onChange:St}),!Q&&ke&&a("p",{style:{color:"red",fontSize:10},children:ke})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"Key Receipt PDF/PNG/JPG"}),Ee!==""?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${e==null?void 0:e.key_receipt_doc}`,children:decodeURIComponent(e==null?void 0:e.key_receipt_doc).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:Pt})]}):a(B,{name:"basic",selectedFile:te,onChange:Ft}),!Ee&&Se&&a("p",{style:{color:"red",fontSize:10},children:Se})]}),a(P,{}),p("div",{children:[a(O,{label:"no of cheque or installment",type:"number",placeholder:"Type your no of cheque or installment",name:"noofchequeorinstallment",value:e.noofchequeorinstallment||"",register:T,onChange:A}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Wt})]}),a(P,{})]}),C>0&&a(P,{children:Array.from({length:C},(i,o)=>{var n,r,u,y,N,S,k,_,s,l;return p("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-5  mt-[30px]",children:[p("div",{children:[a(O,{label:"cheque number",type:"number",placeholder:"Type your cheque number",name:`chequenumbe-${o}`,value:((r=(n=e==null?void 0:e.chequeDetails)==null?void 0:n[o])==null?void 0:r.chequenumbe)||"",register:T,onChange:d=>zt(d,o)}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Rt[o]})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"cheque date"}),a(re,{className:"form-control py-2",name:"chequedate",value:((y=(u=e==null?void 0:e.chequeDetails)==null?void 0:u[o])==null?void 0:y.chequedate)||"",onChange:d=>Tt(d,o),id:"default-picker",placeholder:"Select cheque date"}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Jt[o]})]}),p("div",{children:[a(O,{label:"total amount",type:"number",placeholder:"Type your total amount",name:`totalamount-${o}`,value:((S=(N=e==null?void 0:e.chequeDetails)==null?void 0:N[o])==null?void 0:S.totalamount)||"",register:T,onChange:d=>Et(d,o)}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Mt[o]})]}),p("div",{children:[a("label",{htmlFor:"default-picker",className:" form-label",children:"cheque PDF/PNG/JPG"}),((k=F==null?void 0:F[o])==null?void 0:k.chequeimage)!==""&&oe.pathname===`/update-tenantcontract/${j}`&&((_=F==null?void 0:F[o])==null?void 0:_.chequeimage)!==void 0?p("div",{className:"form-control py-2 mt-[10px] flatpickr-input flex items-center justify-between",children:[a("a",{target:"_blank",href:`http://dev-rare.srp.ai${(s=F==null?void 0:F[o])==null?void 0:s.chequeimage}`,children:decodeURIComponent((l=F==null?void 0:F[o])==null?void 0:l.chequeimage).split("/").pop()}),a("img",{src:D,className:"w-[17px] cursor-pointer",alt:"CancelIcon",onClick:()=>At(o)})]}):a(B,{name:`chequeimage-${o}`,selectedFile:We[o],onChange:d=>Ot(d,o)}),a("div",{className:" mt-2 text-danger-500 block text-sm capitalize",children:Ht[o]})]}),C>1&&o!==C-1&&a("div",{className:"w-[100%] col-span-3",children:a("div",{className:"borderBottom"})})]},o+1)})})]}),p("div",{className:"lg:col-span-3 col-span-1 flex items-center justify-end gap-x-[25px] relative",children:[a("div",{className:`"ltr:text-right rtl:text-left " ${X===!0?"cursor-not-allowed	":""}`,children:X===!0?a("div",{className:` ${X===!0?"cursor-not-allowed	btn btn-secondary  text-center py-[12px] px-[25px]":"btn btn-secondary  text-center py-[15.5px] px-[25px]"}`,children:"Cancel"}):a(bn,{className:"btn btn-secondary  text-center py-[15.5px] px-[25px]",to:"/all-tenantcontract",children:"Cancel"})}),oe.pathname===`/update-tenantcontract/${j}`?a("div",{className:"ltr:text-right rtl:text-left",children:a("div",{className:`${X===!0?"opacity-[0.7]":""}`,children:a("button",{className:"btn btn-dark  text-center",type:"button",onClick:en,children:"Update"})})}):a("div",{className:"ltr:text-right rtl:text-left",children:a("div",{className:`${X===!0?"opacity-[0.7]":""}`,children:a("button",{className:"btn btn-dark  text-center",onClick:Dt,type:"button",children:"Submit"})})}),X===!0?a("div",{className:" absolute top-[0] right-[0] w-[95px] black-bg flex justify-center h-[47px] button-style items-center",children:a("div",{className:"loader-spiner"})}):null]})]})})})]})};export{zn as default};
